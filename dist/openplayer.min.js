!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OpenPlayer=t():e.OpenPlayer=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=54)}([function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,t,n){var i=n(0),r=n(59),s=n(9),a=n(60),o=n(57),f=n(56),l=r("wks"),c=i.Symbol,u=f?c:c&&c.withoutSetter||a;e.exports=function(e){return s(l,e)&&(o||"string"==typeof l[e])||(o&&s(c,e)?l[e]=c[e]:l[e]=u("Symbol."+e)),l[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_OPTIONS=t.DVR_THRESHOLD=t.SUPPORTS_HLS=t.HAS_MSE=t.IS_STOCK_ANDROID=t.IS_SAFARI=t.IS_FIREFOX=t.IS_CHROME=t.IS_EDGE=t.IS_IE=t.IS_ANDROID=t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=t.UA=t.NAV=void 0,t.NAV="undefined"!=typeof window?window.navigator:null,t.UA=t.NAV?t.NAV.userAgent.toLowerCase():null,t.IS_IPAD=!!t.UA&&(/ipad/i.test(t.UA)&&!window.MSStream),t.IS_IPHONE=!!t.UA&&(/iphone/i.test(t.UA)&&!window.MSStream),t.IS_IPOD=!!t.UA&&(/ipod/i.test(t.UA)&&!window.MSStream),t.IS_IOS=!!t.UA&&(/ipad|iphone|ipod/i.test(t.UA)&&!window.MSStream),t.IS_ANDROID=!!t.UA&&/android/i.test(t.UA),t.IS_IE=!!t.UA&&/(trident|microsoft)/i.test(t.NAV.appName),t.IS_EDGE=!!t.NAV&&("msLaunchUri"in t.NAV&&!("documentMode"in document)),t.IS_CHROME=!!t.UA&&/chrome/i.test(t.UA),t.IS_FIREFOX=!!t.UA&&/firefox/i.test(t.UA),t.IS_SAFARI=!!t.UA&&(/safari/i.test(t.UA)&&!t.IS_CHROME),t.IS_STOCK_ANDROID=!!t.UA&&/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(t.UA),t.HAS_MSE="undefined"!=typeof window&&"MediaSource"in window;t.SUPPORTS_HLS=function(){if("undefined"==typeof window)return!1;var e=window.MediaSource||window.WebKitMediaSource,n=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove;return!!i&&!!r&&!t.IS_SAFARI},t.DVR_THRESHOLD=120,t.EVENT_OPTIONS=!t.IS_IE&&{passive:!1}},function(e,t,n){"use strict";function i(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.isXml=t.offset=t.hasClass=t.request=t.loadScript=t.removeElement=t.isAudio=t.isVideo=t.getAbsoluteUrl=void 0,t.getAbsoluteUrl=function(e){var t=document.createElement("a");return t.href=e,t.href},t.isVideo=function(e){return"video"===e.tagName.toLowerCase()},t.isAudio=function(e){return"audio"===e.tagName.toLowerCase()},t.removeElement=i,t.loadScript=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.async=!0,r.onload=function(){i(r),t({})},r.onerror=function(){i(r),n({src:e})},document.head&&document.head.appendChild(r)}))},t.request=function(e,t,n,i){var r,s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");switch(t){case"text":r="text/plain";break;case"json":r="application/json, text/javascript";break;case"html":r="text/html";break;case"xml":r="application/xml, text/xml";break;default:r="application/x-www-form-urlencoded; charset=UTF-8"}var a=!1,o="application/x-www-form-urlencoded"!==r?"".concat(r,", */*; q=0.01"):"*/".concat("*");s&&(s.open("GET",e,!0),s.setRequestHeader("Accept",o),s.onreadystatechange=function(){if(!a&&4===s.readyState)if(200===s.status){var e;switch(a=!0,t){case"json":e=JSON.parse(s.responseText);break;case"xml":e=s.responseXML;break;default:e=s.responseText}n(e)}else"function"==typeof i&&i(s.status)},s.send())},t.hasClass=function(e,t){return!!(e.className.split(" ").indexOf(t)>-1)},t.offset=function(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset||document.documentElement.scrollLeft),top:t.top+(window.pageYOffset||document.documentElement.scrollTop)}},t.isXml=function(e){var t;if(void 0!==window.DOMParser)t=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")};else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))return!1;t=function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(e),t}}try{var n=t(e);if(n.getElementsByTagName("parsererror").length>0)return!1;if(n.parseError&&0!==n.parseError.errorCode)return!1}catch(e){return!1}return!0}},function(e,t,n){var i=n(0),r=n(32).f,s=n(12),a=n(16),o=n(38),f=n(92),l=n(64);e.exports=function(e,t){var n,c,u,d,h,p=e.target,v=e.global,m=e.stat;if(n=v?i:m?i[p]||o(p,{}):(i[p]||{}).prototype)for(c in t){if(d=t[c],u=e.noTargetGet?(h=r(n,c))&&h.value:n[c],!l(v?c:p+(m?".":"#")+c,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;f(d,u)}(e.sham||u&&u.sham)&&s(d,"sham",!0),a(n,c,d,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.events=t.addEvent=void 0,t.addEvent=function(e,t){var n={};return t&&t.detail&&(n={detail:t.detail}),new CustomEvent(e,n)},t.events=["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"]},function(e,t,n){var i=n(8);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(15),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(i(e),t)}},function(e,t,n){var i=n(0),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},function(e,t,n){var i=n(5);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var i=n(11),r=n(13),s=n(18);e.exports=i?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(11),r=n(61),s=n(7),a=n(35),o=Object.defineProperty;t.f=i?o:function(e,t,n){if(s(e),t=a(t),s(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";function i(e){var t=e.split("?")[0],n=t?t.split("\\"):null,i=n?n.pop():null,r=i?i.split("/"):null,s=r?r.pop():null;return s&&s.indexOf(".")>-1?s.substring(s.lastIndexOf(".")+1):""}Object.defineProperty(t,"__esModule",{value:!0}),t.isAutoplaySupported=t.predictType=t.isFlvSource=t.isDashSource=t.isM3USource=t.isHlsSource=t.getExtension=void 0,t.getExtension=i,t.isHlsSource=function(e){return/\.m3u8$/i.test(e.src)||["application/x-mpegURL","application/vnd.apple.mpegurl"].indexOf(e.type)>-1},t.isM3USource=function(e){return/\.m3u$/i.test(e.src)},t.isDashSource=function(e){return/\.mpd/i.test(e.src)||"application/dash+xml"===e.type},t.isFlvSource=function(e){return/(^rtmp:\/\/|\.flv$)/i.test(e.src)||["video/x-flv","video/flv"].indexOf(e.type)>-1},t.predictType=function(e){var t,n=i(e);if(!n)return"video/mp4";switch(n){case"m3u8":case"m3u":t="application/x-mpegURL";break;case"mpd":t="application/dash+xml";break;case"mp3":t="audio/mp3";break;case"webm":t="video/webm";break;case"ogg":t="video/ogg";break;default:t="video/mp4"}return t},t.isAutoplaySupported=function(e,t,n,i,r){var s=e.play();void 0!==s?s.then((function(){return e.pause(),n(!0),i(!1),r()})).catch((function(){e.volume=0,e.muted=!0,e.play().then((function(){return e.pause(),n(!0),i(!0),r()})).catch((function(){e.volume=t,e.muted=!1,n(!1),i(!1),r()}))})):(n(!e.paused||"Promise"in window&&s instanceof Promise),e.pause(),i(!1),r())}},function(e,t,n){var i=n(34);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(0),r=n(12),s=n(9),a=n(38),o=n(40),f=n(26),l=f.get,c=f.enforce,u=String(String).split("String");(e.exports=function(e,t,n,o){var f,l=!!o&&!!o.unsafe,d=!!o&&!!o.enumerable,h=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||r(n,"name",t),(f=c(n)).source||(f.source=u.join("string"==typeof t?t:""))),e!==i?(l?!h&&e[t]&&(d=!0):delete e[t],d?e[t]=n:r(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||o(this)}))},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){var i=n(17);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(17),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(33),r=n(34);e.exports=function(e){return i(r(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(10);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i,r,s,a=n(91),o=n(0),f=n(8),l=n(12),c=n(9),u=n(37),d=n(41),h=n(42),p=o.WeakMap;if(a||u.state){var v=u.state||(u.state=new p),m=v.get,y=v.has,g=v.set;i=function(e,t){if(y.call(v,e))throw new TypeError("Object already initialized");return t.facade=e,g.call(v,e,t),t},r=function(e){return m.call(v,e)||{}},s=function(e){return y.call(v,e)}}else{var b=d("state");h[b]=!0,i=function(e,t){if(c(e,b))throw new TypeError("Object already initialized");return t.facade=e,l(e,b,t),t},r=function(e){return c(e,b)?e[b]:{}},s=function(e){return c(e,b)}}e.exports={set:i,get:r,has:s,enforce:function(e){return s(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!f(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(43),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(0);e.exports=i},function(e,t,n){var i=n(7),r=n(71),s=n(27),a=n(20),o=n(72),f=n(70),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,u,d,h,p,v,m,y=n&&n.that,g=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),_=a(t,y,1+g+E),w=function(e){return c&&f(c),new l(!0,e)},k=function(e){return g?(i(e),E?_(e[0],e[1],w):_(e[0],e[1])):E?_(e,w):_(e)};if(b)c=e;else{if("function"!=typeof(u=o(e)))throw TypeError("Target is not iterable");if(r(u)){for(d=0,h=s(e.length);h>d;d++)if((p=k(e[d]))&&p instanceof l)return p;return new l(!1)}c=u.call(e)}for(v=c.next;!(m=v.call(c)).done;){try{p=k(m.value)}catch(e){throw f(c),e}if("object"==typeof p&&p&&p instanceof l)return p}return new l(!1)}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),this.element=t,this.media=n,this.promise=new Promise((function(e){e({})}))}var t,n,o;return t=e,(n=[{key:"instance",get:function(){return a(this,r,"f")},set:function(e){s(this,r,e,"f")}},{key:"play",value:function(){return this.element.play()}},{key:"pause",value:function(){this.element.pause()}},{key:"volume",get:function(){return this.element.volume},set:function(e){this.element.volume=e}},{key:"muted",get:function(){return this.element.muted},set:function(e){this.element.muted=e}},{key:"playbackRate",get:function(){return this.element.playbackRate},set:function(e){this.element.playbackRate=e}},{key:"defaultPlaybackRate",get:function(){return this.element.defaultPlaybackRate},set:function(e){this.element.defaultPlaybackRate=e}},{key:"currentTime",get:function(){return this.element.currentTime},set:function(e){this.element.currentTime=e}},{key:"duration",get:function(){return this.element.duration}},{key:"paused",get:function(){return this.element.paused}},{key:"ended",get:function(){return this.element.ended}}])&&i(t.prototype,n),o&&i(t,o),e}();r=new WeakMap,t.default=o},function(e,t,n){var i=n(11),r=n(55),s=n(18),a=n(23),o=n(35),f=n(9),l=n(61),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=a(e),t=o(t),l)try{return c(e,t)}catch(e){}if(f(e,t))return s(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(5),r=n(24),s="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?s.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(89),r=n(36);e.exports=function(e){var t=i(e,"string");return r(t)?t:String(t)}},function(e,t,n){var i=n(10),r=n(56);e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return"function"==typeof t&&Object(e)instanceof t}},function(e,t,n){var i=n(0),r=n(38),s=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=s},function(e,t,n){var i=n(0);e.exports=function(e,t){try{Object.defineProperty(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(0),r=n(8),s=i.document,a=r(s)&&r(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,n){var i=n(37),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},function(e,t,n){var i=n(59),r=n(60),s=i("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i,r=n(7),s=n(101),a=n(44),o=n(42),f=n(66),l=n(39),c=n(41),u=c("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;v="undefined"!=typeof document?document.domain&&i?p(i):((t=l("iframe")).style.display="none",f.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(i);for(var n=a.length;n--;)delete v.prototype[a[n]];return v()};o[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[u]=e):n=v(),void 0===t?n:s(n,t)}},function(e,t,n){var i=n(62),r=n(44);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(36);e.exports=function(e){if(i(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,t,n){var i=n(9),r=n(15),s=n(41),a=n(108),o=s("IE_PROTO"),f=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?f:null}},function(e,t,n){var i=n(13).f,r=n(9),s=n(1)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},function(e,t,n){var i=n(7),r=n(109);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,s){return i(n),r(s),t?e.call(n,s):n.__proto__=s,n}}():void 0)},function(e,t,n){var i={};i[n(1)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(24),r=n(0);e.exports="process"==i(r.process)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeToSeconds=t.formatTime=void 0,t.formatTime=function(e,t){var n=Math.floor(e%1*(t||0)),i=Math.floor(e),r=Math.floor(i/60),s=Math.floor(r/60),a=function(e){return e<10?"0".concat(e):e};return r%=60,i%=60,"".concat(s>0?"".concat(a(s),":"):"").concat(a(r),":").concat(a(i)).concat(n?":".concat(a(n)):"")},t.timeToSeconds=function(e){var t=e.replace(/;/g,":").split(":"),n=0;return 3===t.length?(n+=60*parseFloat(t[0])*60,n+=60*parseFloat(t[1]),n+=parseFloat(t[2])):(n+=60*parseFloat(t[0]),n+=parseFloat(t[1])),n}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s,a,o,f,l,c,u,d,h,p,v,m,y,g,b,E,_=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},w=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},k=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(85),n(103),n(114),n(119),n(123),n(144);var T=k(n(145)),A=k(n(84)),O=k(n(153)),S=k(n(158));n(159);var L=n(2),M=n(6),P=n(3),C=n(14),I=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,void 0),a.set(this,void 0),this.proxy=null,o.set(this,""),f.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,{}),d.set(this,!1),h.set(this,void 0),p.set(this,!1),v.set(this,!1),m.set(this,!1),y.set(this,{}),g.set(this,[]),b.set(this,void 0),E.set(this,{controls:{alwaysVisible:!1,layers:{left:["play","time","volume"],middle:["progress"],right:["captions","settings","fullscreen"]}},defaultLevel:null,detachMenus:!1,forceNative:!0,height:0,hidePlayBtnTimer:350,labels:{auto:"Auto",captions:"CC/Subtitles",click:"Click to unmute",fullscreen:"Fullscreen",lang:{en:"English"},levels:"Quality Levels",live:"Live Broadcast",mediaLevels:"Change Quality",mute:"Mute",off:"Off",pause:"Pause",play:"Play",progressRail:"Time Rail",progressSlider:"Time Slider",settings:"Player Settings",speed:"Speed",speedNormal:"Normal",tap:"Tap to unmute",toggleCaptions:"Toggle Captions",unmute:"Unmute",volume:"Volume",volumeControl:"Volume Control",volumeSlider:"Volume Slider"},live:{showLabel:!0,showProgress:!1},mode:"responsive",onError:function(e){return console.error(e)},pauseOthers:!0,progress:{duration:0,showCurrentTimeOnly:!1},showLoaderOnInit:!1,startTime:0,startVolume:1,step:0,width:0}),_(this,f,t instanceof HTMLMediaElement?t:document.getElementById(t),"f"),w(this,f,"f")&&(_(this,d,w(this,f,"f").autoplay||!1,"f"),"string"==typeof n||Array.isArray(n)||this._mergeOptions(n),w(this,f,"f").volume=w(this,y,"f").startVolume||1,w(this,y,"f").ads&&w(this,y,"f").ads.src&&_(this,l,w(this,y,"f").ads.src,"f"),w(this,y,"f").startTime>0&&(w(this,f,"f").currentTime=w(this,y,"f").startTime),_(this,h,w(this,f,"f").volume,"f")),this._autoplay=this._autoplay.bind(this),this._enableKeyBindings=this._enableKeyBindings.bind(this),this}var t,n,k;return t=e,k=[{key:"init",value:function(){e.instances={};for(var t=document.querySelectorAll("video.op-player, audio.op-player"),n=0,i=t.length;n<i;n++){var r=t[n],s=r.getAttribute("data-op-settings");new e(r,s?JSON.parse(s):{}).init()}}},{key:"addMedia",value:function(t,n,i,r){e.customMedia.media[n]=r,e.customMedia.optionsKey[n]=t,e.customMedia.rules.push(i)}}],(n=[{key:"init",value:function(){this._isValid()&&(this._wrapInstance(),this._prepareMedia(),this._createPlayButton(),this._createUID(),this._createControls(),this._setEvents(),e.instances[this.id]=this)}},{key:"load",value:function(){return this.isMedia()?w(this,c,"f").load():void 0}},{key:"play",value:function(){return w(this,c,"f")&&!w(this,c,"f").loaded&&(w(this,c,"f").load(),w(this,c,"f").loaded=!0),w(this,a,"f")?w(this,a,"f").play():w(this,c,"f").play()}},{key:"pause",value:function(){w(this,a,"f")?w(this,a,"f").pause():w(this,c,"f").pause()}},{key:"destroy",value:function(){var e=this;w(this,a,"f")&&(w(this,a,"f").pause(),w(this,a,"f").destroy()),w(this,b,"f")&&w(this,b,"f").destroy();var t=w(this,f,"f");w(this,c,"f")&&w(this,c,"f").destroy(),Object.keys(w(this,u,"f")).forEach((function(n){t.removeEventListener(n,w(e,u,"f")[n])})),this.getContainer().removeEventListener("keydown",this._enableKeyBindings),w(this,d,"f")&&!w(this,m,"f")&&(0,P.isVideo)(w(this,f,"f"))&&t.removeEventListener("canplay",this._autoplay),w(this,s,"f")&&w(this,s,"f").destroy(),(0,P.isVideo)(w(this,f,"f"))&&((0,P.removeElement)(this.playBtn),(0,P.removeElement)(this.loader)),w(this,f,"f").removeEventListener("playererror",w(this,y,"f").onError),t.controls=!0,t.setAttribute("id",w(this,o,"f")),t.removeAttribute("op-live__enabled"),t.removeAttribute("op-dvr__enabled");var n="fit"===w(this,y,"f").mode?t.closest(".op-player__fit--wrapper"):t.parentElement;n&&n.parentNode&&n.parentNode.replaceChild(t,n);var i=(0,M.addEvent)("playerdestroyed");t.dispatchEvent(i)}},{key:"getContainer",value:function(){return w(this,f,"f").parentElement||w(this,f,"f")}},{key:"getControls",value:function(){return w(this,s,"f")}},{key:"getCustomControls",value:function(){return w(this,g,"f")}},{key:"getElement",value:function(){return w(this,f,"f")}},{key:"getEvents",value:function(){return w(this,u,"f")}},{key:"getOptions",value:function(){return w(this,y,"f")}},{key:"activeElement",value:function(){return w(this,a,"f")&&w(this,a,"f").started()?w(this,a,"f"):w(this,c,"f")}},{key:"isMedia",value:function(){return this.activeElement()instanceof O.default}},{key:"isAd",value:function(){return this.activeElement()instanceof S.default}},{key:"getMedia",value:function(){return w(this,c,"f")}},{key:"getAd",value:function(){return w(this,a,"f")}},{key:"addCaptions",value:function(e){if(e.default)for(var t=w(this,f,"f").querySelectorAll("track"),n=0,i=t.length;n<i;n++)t[n].default=!1;var r=w(this,f,"f"),s=r.querySelector('track[srclang="'.concat(e.srclang,'"][kind="').concat(e.kind,'"]'));s?(s.src=e.src,s.label=e.label,s.default=e.default||!1):((s=document.createElement("track")).srclang=e.srclang,s.src=e.src,s.kind=e.kind,s.label=e.label,s.default=e.default||!1,r.appendChild(s));var a=(0,M.addEvent)("controlschanged");r.dispatchEvent(a)}},{key:"addControl",value:function(e){e.custom=!0,w(this,g,"f").push(e);var t=(0,M.addEvent)("controlschanged");w(this,f,"f").dispatchEvent(t)}},{key:"removeControl",value:function(e){var t=this,n=this.getOptions().controls.layers;Object.keys(n).forEach((function(t){n[t].forEach((function(i,r){i===e&&n[t].splice(r,1)}))})),w(this,g,"f").forEach((function(n,i){n.id===e&&w(t,g,"f").splice(i,1)}));var i=(0,M.addEvent)("controlschanged");w(this,f,"f").dispatchEvent(i)}},{key:"_prepareMedia",value:function(){try{w(this,f,"f").addEventListener("playererror",w(this,y,"f").onError,L.EVENT_OPTIONS),w(this,d,"f")&&(0,P.isVideo)(w(this,f,"f"))&&w(this,f,"f").addEventListener("canplay",this._autoplay,L.EVENT_OPTIONS),_(this,c,new O.default(w(this,f,"f"),w(this,y,"f"),w(this,d,"f"),e.customMedia),"f");var t=w(this,f,"f").getAttribute("preload");if(!w(this,l,"f")&&t&&"none"===t||(w(this,c,"f").load(),w(this,c,"f").loaded=!0),!w(this,d,"f")&&w(this,l,"f")){var n=w(this,y,"f")&&w(this,y,"f").ads?w(this,y,"f").ads:void 0;_(this,a,new S.default(this,w(this,l,"f"),!1,!1,n),"f")}}catch(e){console.error(e)}}},{key:"enableDefaultPlayer",value:function(){var e=this,t=!0,n=0;this.proxy&&!this.proxy.paused&&(t=!1,n=this.proxy.currentTime,this.proxy.pause()),this.proxy=this,this.getElement().addEventListener("loadedmetadata",(function(){e.getMedia().currentTime=n,t||e.play()}))}},{key:"loadAd",value:function(e){if(this.isAd())this.activeElement().destroy(),this.activeElement().src=e,this.getAd().isDone=!1,this.activeElement().paused||(this.getAd().playRequested=!0),this.activeElement().load(!0);else{var t=w(this,y,"f")&&w(this,y,"f").ads?w(this,y,"f").ads:void 0,n=!this.activeElement().paused||w(this,p,"f");_(this,a,new S.default(this,e,n,w(this,v,"f"),t),"f")}}},{key:"src",get:function(){return w(this,c,"f").src},set:function(e){var t=this;w(this,c,"f")instanceof O.default?(w(this,c,"f").mediaFiles=[],w(this,c,"f").src=e):"string"==typeof e?w(this,f,"f").src=e:Array.isArray(e)?e.forEach((function(e){var n=document.createElement("source");n.src=e.src,n.type=e.type||(0,C.predictType)(e.src),w(t,f,"f").appendChild(n)})):"object"===i(e)&&(w(this,f,"f").src=e.src)}},{key:"id",get:function(){return w(this,o,"f")}},{key:"_isValid",value:function(){var e=w(this,f,"f");return!(e instanceof HTMLElement==0||!(0,P.isAudio)(e)&&!(0,P.isVideo)(e)||!e.classList.contains("op-player__media"))}},{key:"_wrapInstance",value:function(){var e=document.createElement("div");e.className="op-player op-player__keyboard--inactive",e.className+=(0,P.isAudio)(w(this,f,"f"))?" op-player__audio":" op-player__video",e.tabIndex=0,w(this,f,"f").classList.remove("op-player"),w(this,f,"f").parentElement&&w(this,f,"f").parentElement.insertBefore(e,w(this,f,"f")),e.appendChild(w(this,f,"f"));var t=document.createElement("div");if(t.className="op-status",t.innerHTML="<span></span>",t.tabIndex=-1,t.setAttribute("aria-hidden","true"),(0,P.isVideo)(w(this,f,"f"))&&w(this,f,"f").parentElement&&w(this,f,"f").parentElement.insertBefore(t,w(this,f,"f")),e.addEventListener("keydown",(function(){e.classList.contains("op-player__keyboard--inactive")&&e.classList.remove("op-player__keyboard--inactive")}),L.EVENT_OPTIONS),e.addEventListener("click",(function(){e.classList.contains("op-player__keyboard--inactive")||e.classList.add("op-player__keyboard--inactive")}),L.EVENT_OPTIONS),"fill"!==w(this,y,"f").mode||(0,P.isAudio)(w(this,f,"f"))||L.IS_IPHONE)if("fit"!==w(this,y,"f").mode||(0,P.isAudio)(w(this,f,"f"))){var n="";if(w(this,y,"f").width){var i="number"==typeof w(this,y,"f").width?"".concat(w(this,y,"f").width,"px"):w(this,y,"f").width;n+="width: ".concat(i," !important;")}if(w(this,y,"f").height){var r="number"==typeof w(this,y,"f").height?"".concat(w(this,y,"f").height,"px"):w(this,y,"f").height;n+="height: ".concat(r," !important;")}n&&e.setAttribute("style",n)}else{var s=this.getContainer();if(s.parentElement){var a=document.createElement("div");a.className="op-player__fit--wrapper",a.tabIndex=0,s.parentElement.insertBefore(a,s),a.appendChild(s),s.classList.add("op-player__fit")}}else this.getContainer().classList.add("op-player__full")}},{key:"_createControls",value:function(){L.IS_IPHONE&&(0,P.isVideo)(w(this,f,"f"))&&this.getContainer().classList.add("op-player__ios--iphone"),_(this,s,new T.default(this),"f"),w(this,s,"f").create()}},{key:"_createUID",value:function(){if(w(this,f,"f").id)_(this,o,w(this,f,"f").id,"f"),w(this,f,"f").removeAttribute("id");else{var t;do{t="op_".concat(Math.random().toString(36).substr(2,9))}while(void 0!==e.instances[t]);_(this,o,t,"f")}w(this,f,"f").parentElement&&(w(this,f,"f").parentElement.id=w(this,o,"f"))}},{key:"_createPlayButton",value:function(){var e=this;(0,P.isAudio)(w(this,f,"f"))||(this.playBtn=document.createElement("button"),this.playBtn.className="op-player__play",this.playBtn.tabIndex=0,this.playBtn.title=w(this,y,"f").labels.play,this.playBtn.innerHTML="<span>".concat(w(this,y,"f").labels.play,"</span>"),this.playBtn.setAttribute("aria-pressed","false"),this.playBtn.setAttribute("aria-hidden","false"),this.loader=document.createElement("span"),this.loader.className="op-player__loader",this.loader.tabIndex=-1,this.loader.setAttribute("aria-hidden","true"),w(this,f,"f").parentElement&&(w(this,f,"f").parentElement.insertBefore(this.loader,w(this,f,"f")),w(this,f,"f").parentElement.insertBefore(this.playBtn,w(this,f,"f"))),this.playBtn.addEventListener("click",(function(){w(e,a,"f")&&(w(e,a,"f").playRequested=e.activeElement().paused),e.activeElement().paused?e.activeElement().play():e.activeElement().pause()}),L.EVENT_OPTIONS))}},{key:"_setEvents",value:function(){var e=this;(0,P.isVideo)(w(this,f,"f"))&&(w(this,u,"f").loadedmetadata=function(){var t=e.activeElement();!w(e,y,"f").showLoaderOnInit||L.IS_IOS||L.IS_ANDROID?(e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","false")):(e.loader.setAttribute("aria-hidden","false"),e.playBtn.setAttribute("aria-hidden","true")),t.paused&&(e.playBtn.classList.remove("op-player__play--paused"),e.playBtn.setAttribute("aria-pressed","false"))},w(this,u,"f").waiting=function(){e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")},w(this,u,"f").seeking=function(){var t=e.activeElement();e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden",t instanceof O.default?"false":"true")},w(this,u,"f").seeked=function(){var t=e.activeElement();0===Math.round(t.currentTime)?(e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")):(e.playBtn.setAttribute("aria-hidden",t instanceof O.default?"false":"true"),e.loader.setAttribute("aria-hidden","true"))},w(this,u,"f").play=function(){e.playBtn.classList.add("op-player__play--paused"),e.playBtn.title=w(e,y,"f").labels.pause,e.loader.setAttribute("aria-hidden","true"),w(e,y,"f").showLoaderOnInit?e.playBtn.setAttribute("aria-hidden","true"):setTimeout((function(){e.playBtn.setAttribute("aria-hidden","true")}),w(e,y,"f").hidePlayBtnTimer)},w(this,u,"f").playing=function(){e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","true")},w(this,u,"f").pause=function(){var t=e.activeElement();e.playBtn.classList.remove("op-player__play--paused"),e.playBtn.title=w(e,y,"f").labels.play,w(e,y,"f").showLoaderOnInit&&0===Math.round(t.currentTime)?(e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")):(e.playBtn.setAttribute("aria-hidden","false"),e.loader.setAttribute("aria-hidden","true"))},w(this,u,"f").ended=function(){e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","true")}),Object.keys(w(this,u,"f")).forEach((function(t){w(e,f,"f").addEventListener(t,w(e,u,"f")[t],L.EVENT_OPTIONS)})),this.getContainer().addEventListener("keydown",this._enableKeyBindings,L.EVENT_OPTIONS)}},{key:"_autoplay",value:function(){var e=this;w(this,m,"f")||(_(this,m,!0,"f"),w(this,f,"f").removeEventListener("canplay",this._autoplay),(0,C.isAutoplaySupported)(w(this,f,"f"),w(this,h,"f"),(function(t){_(e,p,t,"f")}),(function(t){_(e,v,t,"f")}),(function(){if(w(e,v,"f")){e.activeElement().muted=!0,e.activeElement().volume=0;var t=(0,M.addEvent)("volumechange");w(e,f,"f").dispatchEvent(t);var n=document.createElement("div"),i=L.IS_IOS||L.IS_ANDROID?w(e,y,"f").labels.tap:w(e,y,"f").labels.click;n.className="op-player__unmute",n.innerHTML="<span>".concat(i,"</span>"),n.tabIndex=0,n.addEventListener("click",(function(){e.activeElement().muted=!1,e.activeElement().volume=w(e,h,"f");var t=(0,M.addEvent)("volumechange");w(e,f,"f").dispatchEvent(t),(0,P.removeElement)(n)}),L.EVENT_OPTIONS);var r=e.getContainer();r.insertBefore(n,r.firstChild)}else e.activeElement().muted=w(e,f,"f").muted,e.activeElement().volume=w(e,h,"f");if(w(e,l,"f")){var s=w(e,y,"f")&&w(e,y,"f").ads?w(e,y,"f").ads:void 0;_(e,a,new S.default(e,w(e,l,"f"),w(e,p,"f"),w(e,v,"f"),s),"f")}else(w(e,p,"f")||w(e,v,"f"))&&e.play()})))}},{key:"_mergeOptions",value:function(e){var t=this;_(this,y,Object.assign(Object.assign({},w(this,E,"f")),e),"f"),e&&["labels","controls"].forEach((function(n){w(t,y,"f")[n]=e[n]&&Object.keys(e[n]).length?Object.assign(Object.assign({},w(t,E,"f")[n]),e[n]):w(t,E,"f")[n]}))}},{key:"_enableKeyBindings",value:function(e){var t,n=e.which||e.keyCode||0,i=this.activeElement(),r=this.isAd(),s=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-player");switch(n){case 13:case 32:case 75:!s||13!==n&&32!==n?75===n&&(i.paused?i.play():i.pause()):i.paused?i.play():i.pause(),e.preventDefault(),e.stopPropagation();break;case 35:r||i.duration===1/0||(i.currentTime=i.duration,e.preventDefault(),e.stopPropagation());break;case 36:r||(i.currentTime=0,e.preventDefault(),e.stopPropagation());break;case 37:case 39:case 74:case 76:if(!r&&i.duration!==1/0){var a=5,o=this.getOptions().step;o?a=74===n||76===n?2*o:o:74!==n&&76!==n||(a=10);var l=i.duration!==1/0?a:this.getOptions().progress.duration;i.currentTime+=37===n||74===n?-1*l:l,i.currentTime<0?i.currentTime=0:i.currentTime>=i.duration&&(i.currentTime=i.duration),e.preventDefault(),e.stopPropagation()}break;case 38:case 40:var c=38===n?Math.min(i.volume+.1,1):Math.max(i.volume-.1,0);i.volume=c,i.muted=!(c>0),e.preventDefault(),e.stopPropagation();break;case 70:(0,P.isVideo)(w(this,f,"f"))&&!e.ctrlKey&&(_(this,b,new A.default(this,"",""),"f"),void 0!==w(this,b,"f").fullScreenEnabled&&(w(this,b,"f").toggleFullscreen(),e.preventDefault(),e.stopPropagation()));break;case 77:i.muted=!i.muted,i.muted?i.volume=0:i.volume=w(this,h,"f"),e.preventDefault(),e.stopPropagation();break;case 188:case 190:if(!r&&e.shiftKey){var u=i;u.playbackRate=188===n?Math.max(u.playbackRate-.25,.25):Math.min(u.playbackRate+.25,2);var d=this.getContainer().querySelector(".op-status>span");d&&(d.textContent="".concat(u.playbackRate,"x"),d.parentElement&&d.parentElement.setAttribute("aria-hidden","false"),setTimeout((function(){d.parentElement&&d.parentElement.setAttribute("aria-hidden","true")}),500));var p=(0,M.addEvent)("controlschanged");dispatchEvent(p),e.preventDefault(),e.stopPropagation()}else!r&&i.paused&&(i.currentTime+=.04*(188===n?-1:1),e.preventDefault(),e.stopPropagation())}}}])&&r(t.prototype,n),k&&r(t,k),e}();s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,I.instances={},I.customMedia={media:{},optionsKey:{},rules:[]},t.default=I,"undefined"!=typeof window&&(window.OpenPlayer=I,window.OpenPlayerJS=I,I.init())},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(57);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(58),r=n(5);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i,r,s=n(0),a=n(25),o=s.process,f=s.Deno,l=o&&o.versions||f&&f.version,c=l&&l.v8;c?r=(i=c.split("."))[0]<4?1:i[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},function(e,t,n){var i=n(19),r=n(37);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.3",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){var i=n(11),r=n(5),s=n(39);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(9),r=n(23),s=n(95).indexOf,a=n(42);e.exports=function(e,t){var n,o=r(e),f=0,l=[];for(n in o)!i(a,n)&&i(o,n)&&l.push(n);for(;t.length>f;)i(o,n=t[f++])&&(~s(l,n)||l.push(n));return l}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(5),r=/#|\.prototype\./,s=function(e,t){var n=o[a(e)];return n==l||n!=f&&("function"==typeof t?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},o=s.data={},f=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},function(e,t,n){var i=n(1),r=n(45),s=n(13),a=i("unscopables"),o=Array.prototype;null==o[a]&&s.f(o,a,{configurable:!0,value:r(null)}),e.exports=function(e){o[a][e]=!0}},function(e,t,n){var i=n(10);e.exports=i("document","documentElement")},function(e,t,n){"use strict";var i=n(106).charAt,r=n(47),s=n(26),a=n(68),o=s.set,f=s.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,t=f(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var i=n(4),r=n(107),s=n(48),a=n(50),o=n(49),f=n(12),l=n(16),c=n(1),u=n(19),d=n(21),h=n(69),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,m=c("iterator"),y=function(){return this};e.exports=function(e,t,n,c,h,g,b){r(n,t,c);var E,_,w,k=function(e){if(e===h&&L)return L;if(!v&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",A=!1,O=e.prototype,S=O[m]||O["@@iterator"]||h&&O[h],L=!v&&S||k(h),M="Array"==t&&O.entries||S;if(M&&(E=s(M.call(new e)),p!==Object.prototype&&E.next&&(u||s(E)===p||(a?a(E,p):"function"!=typeof E[m]&&f(E,m,y)),o(E,T,!0,!0),u&&(d[T]=y))),"values"==h&&S&&"values"!==S.name&&(A=!0,L=function(){return S.call(this)}),u&&!b||O[m]===L||f(O,m,L),d[t]=L,h)if(_={values:k("values"),keys:g?L:k("keys"),entries:k("entries")},b)for(w in _)(v||A||!(w in O))&&l(O,w,_[w]);else i({target:t,proto:!0,forced:v||A},_);return _}},function(e,t,n){"use strict";var i,r,s,a=n(5),o=n(48),f=n(12),l=n(9),c=n(1),u=n(19),d=c("iterator"),h=!1;[].keys&&("next"in(s=[].keys())?(r=o(o(s)))!==Object.prototype&&(i=r):h=!0);var p=null==i||a((function(){var e={};return i[d].call(e)!==e}));p&&(i={}),u&&!p||l(i,d)||f(i,d,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var i=n(7);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},function(e,t,n){var i=n(1),r=n(21),s=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[s]===e)}},function(e,t,n){var i=n(73),r=n(21),s=n(1)("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(51),r=n(24),s=n(1)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i=n(1)("iterator"),r=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(4),r=n(48),s=n(50),a=n(45),o=n(12),f=n(18),l=n(29),c=n(47),u=function(e,t){var n=this;if(!(n instanceof u))return new u(e,t);s&&(n=s(new Error(void 0),r(n))),void 0!==t&&o(n,"message",c(t));var i=[];return l(e,i.push,{that:i}),o(n,"errors",i),n};u.prototype=a(Error.prototype,{constructor:f(5,u),message:f(5,""),name:f(5,"AggregateError")}),i({global:!0},{AggregateError:u})},function(e,t,n){"use strict";var i=n(23),r=n(65),s=n(21),a=n(26),o=n(68),f=a.set,l=a.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){f(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(0);e.exports=i.Promise},function(e,t,n){var i=n(7),r=n(17),s=n(1)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[s])?t:r(n)}},function(e,t,n){var i,r,s,a,o=n(0),f=n(5),l=n(20),c=n(66),u=n(39),d=n(80),h=n(52),p=o.setImmediate,v=o.clearImmediate,m=o.process,y=o.MessageChannel,g=o.Dispatch,b=0,E={};try{i=o.location}catch(e){}var _=function(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},w=function(e){return function(){_(e)}},k=function(e){_(e.data)},T=function(e){o.postMessage(String(e),i.protocol+"//"+i.host)};p&&v||(p=function(e){for(var t=[],n=arguments.length,i=1;n>i;)t.push(arguments[i++]);return E[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete E[e]},h?r=function(e){m.nextTick(w(e))}:g&&g.now?r=function(e){g.now(w(e))}:y&&!d?(a=(s=new y).port2,s.port1.onmessage=k,r=l(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&i&&"file:"!==i.protocol&&!f(T)?(r=T,o.addEventListener("message",k,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),_(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:p,clear:v}},function(e,t,n){var i=n(25);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},function(e,t,n){var i=n(7),r=n(8),s=n(22);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(4),r=n(17),s=n(22),a=n(30),o=n(29);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=s.f(t),i=n.resolve,f=n.reject,l=a((function(){var n=r(t.resolve),s=[],a=0,f=1;o(e,(function(e){var r=a++,o=!1;s.push(void 0),f++,n.call(t,e).then((function(e){o||(o=!0,s[r]={status:"fulfilled",value:e},--f||i(s))}),(function(e){o||(o=!0,s[r]={status:"rejected",reason:e},--f||i(s))}))})),--f||i(s)}));return l.error&&f(l.value),n.promise}})},function(e,t,n){"use strict";var i=n(4),r=n(17),s=n(10),a=n(22),o=n(30),f=n(29);i({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),i=n.resolve,l=n.reject,c=o((function(){var n=r(t.resolve),a=[],o=0,c=1,u=!1;f(e,(function(e){var r=o++,f=!1;a.push(void 0),c++,n.call(t,e).then((function(e){f||u||(u=!0,i(e))}),(function(e){f||u||(f=!0,a[r]=e,--c||l(new(s("AggregateError"))(a,"No one promise resolved")))}))})),--c||l(new(s("AggregateError"))(a,"No one promise resolved"))}));return c.error&&l(c.value),n.promise}})},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c,u,d,h,p=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),y=n(3),g=function(){function e(t,n,i){var y=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,[]),f.set(this,0),l.set(this,0),c.set(this,void 0),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p(this,r,t,"f"),p(this,u,t.getOptions().labels,"f"),p(this,d,n,"f"),p(this,h,i,"f"),p(this,s,document.body.classList.contains("op-fullscreen__on"),"f");var g=document;return this.fullScreenEnabled=!!(g.fullscreenEnabled||g.mozFullScreenEnabled||g.msFullscreenEnabled||g.webkitSupportsFullscreen||g.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen),this._keydownEvent=this._keydownEvent.bind(this),this._fullscreenChange=this._fullscreenChange.bind(this),p(this,o,["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],"f"),v(this,o,"f").forEach((function(e){document.addEventListener(e,y._fullscreenChange,m.EVENT_OPTIONS)})),this._setFullscreenData(!1),v(this,r,"f").getContainer().addEventListener("keydown",this._keydownEvent,m.EVENT_OPTIONS),m.IS_IPHONE&&(v(this,r,"f").getElement().addEventListener("webkitbeginfullscreen",(function(){p(y,s,!0,"f"),y._setFullscreenData(!0),document.body.classList.add("op-fullscreen__on")}),m.EVENT_OPTIONS),v(this,r,"f").getElement().addEventListener("webkitendfullscreen",(function(){p(y,s,!1,"f"),y._setFullscreenData(!1),document.body.classList.remove("op-fullscreen__on")}),m.EVENT_OPTIONS)),this}var t,n,g;return t=e,(n=[{key:"create",value:function(){var e=this;p(this,a,document.createElement("button"),"f"),v(this,a,"f").type="button",v(this,a,"f").className="op-controls__fullscreen op-control__".concat(v(this,d,"f")),v(this,a,"f").tabIndex=0,v(this,a,"f").title=v(this,u,"f").fullscreen,v(this,a,"f").setAttribute("aria-controls",v(this,r,"f").id),v(this,a,"f").setAttribute("aria-pressed","false"),v(this,a,"f").setAttribute("aria-label",v(this,u,"f").fullscreen),v(this,a,"f").innerHTML='<span class="op-sr">'.concat(v(this,u,"f").fullscreen,"</span>"),p(this,c,(function(){v(e,a,"f").setAttribute("aria-pressed","true"),e.toggleFullscreen()}),"f"),p(this,c,v(this,c,"f").bind(this),"f"),v(this,a,"f").addEventListener("click",v(this,c,"f"),m.EVENT_OPTIONS),v(this,r,"f").getControls().getLayer(v(this,h,"f")).appendChild(v(this,a,"f"))}},{key:"destroy",value:function(){var e=this;v(this,r,"f").getContainer().removeEventListener("keydown",this._keydownEvent),v(this,o,"f").forEach((function(t){document.removeEventListener(t,e._fullscreenChange)})),m.IS_IPHONE&&(v(this,r,"f").getElement().removeEventListener("webkitbeginfullscreen",(function(){p(e,s,!0,"f"),e._setFullscreenData(!1),document.body.classList.add("op-fullscreen__on")})),v(this,r,"f").getElement().removeEventListener("webkitendfullscreen",(function(){p(e,s,!1,"f"),e._setFullscreenData(!0),document.body.classList.remove("op-fullscreen__on")}))),v(this,a,"f").removeEventListener("click",v(this,c,"f")),(0,y.removeElement)(v(this,a,"f"))}},{key:"toggleFullscreen",value:function(){if(v(this,s,"f")){var e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():document.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():this._fullscreenChange(),document.body.classList.remove("op-fullscreen__on")}else{var t=v(this,r,"f").getElement();p(this,f,window.screen.width,"f"),p(this,l,window.screen.height,"f"),t.requestFullscreen?t.parentElement.requestFullscreen():t.mozRequestFullScreen?t.parentElement.mozRequestFullScreen():t.webkitRequestFullScreen?t.parentElement.webkitRequestFullScreen():t.msRequestFullscreen?t.parentElement.msRequestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():this._fullscreenChange(),document.body.classList.add("op-fullscreen__on")}if("undefined"!=typeof window&&(m.IS_ANDROID||m.IS_IPHONE)){var n=window.screen;n.orientation&&(v(this,s,"f")||n.orientation.lock("landscape"))}}},{key:"_fullscreenChange",value:function(){var e=v(this,s,"f")?void 0:v(this,f,"f"),t=v(this,s,"f")?void 0:v(this,l,"f");this._setFullscreenData(!v(this,s,"f")),v(this,r,"f").isAd()&&v(this,r,"f").getAd().resizeAds(e,t),p(this,s,!v(this,s,"f"),"f"),v(this,s,"f")?document.body.classList.add("op-fullscreen__on"):document.body.classList.remove("op-fullscreen__on"),this._resize(e,t)}},{key:"_setFullscreenData",value:function(e){v(this,r,"f").getContainer().setAttribute("data-fullscreen",(!!e).toString()),v(this,a,"f")&&(e?v(this,a,"f").classList.add("op-controls__fullscreen--out"):v(this,a,"f").classList.remove("op-controls__fullscreen--out"))}},{key:"_resize",value:function(e,t){var n=v(this,r,"f").getContainer(),i=v(this,r,"f").getElement(),s=v(this,r,"f").getOptions(),a="";if(e)n.style.width="100%",i.style.width="100%";else if(s.width){var o="number"==typeof s.width?"".concat(s.width,"px"):s.width;a+="width: ".concat(o," !important;"),i.style.removeProperty("width")}else i.style.removeProperty("width"),n.style.removeProperty("width");if(t)i.style.height="100%",n.style.height="100%";else if(s.height){var f="number"==typeof s.height?"".concat(s.height,"px"):s.height;a+="height: ".concat(f," !important;"),i.style.removeProperty("height")}else i.style.removeProperty("height"),n.style.removeProperty("height");a&&n.setAttribute("style",a)}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__fullscreen"))||13!==n&&32!==n||(this.toggleFullscreen(),e.preventDefault(),e.stopPropagation())}}])&&i(t.prototype,n),g&&i(t,g),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=g},function(e,t,n){var i=n(86);e.exports=i},function(e,t,n){var i=n(87);e.exports=i},function(e,t,n){n(88);var i=n(102);e.exports=i("Array","find")},function(e,t,n){"use strict";var i=n(4),r=n(97).find,s=n(65),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("find")},function(e,t,n){var i=n(8),r=n(36),s=n(90),a=n(1)("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,o=e[a];if(void 0!==o){if(void 0===t&&(t="default"),n=o.call(e,t),!i(n)||r(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,n){var i=n(8);e.exports=function(e,t){var n,r;if("string"===t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if("string"!==t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(0),r=n(40),s=i.WeakMap;e.exports="function"==typeof s&&/native code/.test(r(s))},function(e,t,n){var i=n(9),r=n(93),s=n(32),a=n(13);e.exports=function(e,t){for(var n=r(t),o=a.f,f=s.f,l=0;l<n.length;l++){var c=n[l];i(e,c)||o(e,c,f(t,c))}}},function(e,t,n){var i=n(10),r=n(94),s=n(63),a=n(7);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=s.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(62),r=n(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(23),r=n(27),s=n(96),a=function(e){return function(t,n,a){var o,f=i(t),l=r(f.length),c=s(a,l);if(e&&n!=n){for(;l>c;)if((o=f[c++])!=o)return!0}else for(;l>c;c++)if((e||c in f)&&f[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(43),r=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):s(n,t)}},function(e,t,n){var i=n(20),r=n(33),s=n(15),a=n(27),o=n(98),f=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,u=6==e,d=7==e,h=5==e||u;return function(p,v,m,y){for(var g,b,E=s(p),_=r(E),w=i(v,m,3),k=a(_.length),T=0,A=y||o,O=t?A(p,k):n||d?A(p,0):void 0;k>T;T++)if((h||T in _)&&(b=w(g=_[T],T,E),e))if(t)O[T]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:f.call(O,g)}else switch(e){case 4:return!1;case 7:f.call(O,g)}return u?-1:l||c?c:O}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){var i=n(99);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},function(e,t,n){var i=n(8),r=n(100),s=n(1)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)?i(t)&&null===(t=t[s])&&(t=void 0):t=void 0),void 0===t?Array:t}},function(e,t,n){var i=n(24);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(11),r=n(13),s=n(7),a=n(46);e.exports=i?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),o=i.length,f=0;o>f;)r.f(e,n=i[f++],t[n]);return e}},function(e,t,n){var i=n(0),r=n(20),s=Function.call;e.exports=function(e,t,n){return r(s,i[e].prototype[t],n)}},function(e,t,n){var i=n(104);e.exports=i},function(e,t,n){var i=n(105);e.exports=i},function(e,t,n){n(67),n(110);var i=n(28);e.exports=i.Array.from},function(e,t,n){var i=n(43),r=n(47),s=n(34),a=function(e){return function(t,n){var a,o,f=r(s(t)),l=i(n),c=f.length;return l<0||l>=c?e?"":void 0:(a=f.charCodeAt(l))<55296||a>56319||l+1===c||(o=f.charCodeAt(l+1))<56320||o>57343?e?f.charAt(l):a:e?f.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var i=n(69).IteratorPrototype,r=n(45),s=n(18),a=n(49),o=n(21),f=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=r(i,{next:s(1,n)}),a(e,l,!1,!0),o[l]=f,e}},function(e,t,n){var i=n(5);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(8);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var i=n(4),r=n(111);i({target:"Array",stat:!0,forced:!n(74)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var i=n(20),r=n(15),s=n(112),a=n(71),o=n(27),f=n(113),l=n(72);e.exports=function(e){var t,n,c,u,d,h,p=r(e),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y,b=l(p),E=0;if(g&&(y=i(y,m>2?arguments[2]:void 0,2)),null==b||v==Array&&a(b))for(n=new v(t=o(p.length));t>E;E++)h=g?y(p[E],E):p[E],f(n,E,h);else for(d=(u=b.call(p)).next,n=new v;!(c=d.call(u)).done;E++)h=g?s(u,y,[c.value,E],!0):c.value,f(n,E,h);return n.length=E,n}},function(e,t,n){var i=n(7),r=n(70);e.exports=function(e,t,n,s){try{return s?t(i(n)[0],n[1]):t(n)}catch(t){throw r(e),t}}},function(e,t,n){"use strict";var i=n(35),r=n(13),s=n(18);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,s(0,n)):e[a]=n}},function(e,t,n){var i=n(115);e.exports=i},function(e,t,n){var i=n(116);e.exports=i},function(e,t,n){n(117);var i=n(28);e.exports=i.Object.assign},function(e,t,n){var i=n(4),r=n(118);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var i=n(11),r=n(5),s=n(46),a=n(63),o=n(55),f=n(15),l=n(33),c=Object.assign,u=Object.defineProperty;e.exports=!c||r((function(){if(i&&1!==c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||"abcdefghijklmnopqrst"!=s(c({},t)).join("")}))?function(e,t){for(var n=f(e),r=arguments.length,c=1,u=a.f,d=o.f;r>c;)for(var h,p=l(arguments[c++]),v=u?s(p).concat(u(p)):s(p),m=v.length,y=0;m>y;)h=v[y++],i&&!d.call(p,h)||(n[h]=p[h]);return n}:c},function(e,t,n){var i=n(120);e.exports=i},function(e,t,n){var i=n(121);e.exports=i},function(e,t,n){n(122);var i=n(28);e.exports=i.Object.keys},function(e,t,n){var i=n(4),r=n(15),s=n(46);i({target:"Object",stat:!0,forced:n(5)((function(){s(1)}))},{keys:function(e){return s(r(e))}})},function(e,t,n){var i=n(124);n(140),n(141),n(142),n(143),e.exports=i},function(e,t,n){var i=n(125);n(138),e.exports=i},function(e,t,n){n(75),n(76),n(126),n(128),n(82),n(83),n(137),n(67);var i=n(28);e.exports=i.Promise},function(e,t,n){var i=n(51),r=n(16),s=n(127);i||r(Object.prototype,"toString",s,{unsafe:!0})},function(e,t,n){"use strict";var i=n(51),r=n(73);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){"use strict";var i,r,s,a,o=n(4),f=n(19),l=n(0),c=n(10),u=n(77),d=n(16),h=n(129),p=n(50),v=n(49),m=n(130),y=n(8),g=n(17),b=n(131),E=n(40),_=n(29),w=n(74),k=n(78),T=n(79).set,A=n(132),O=n(81),S=n(135),L=n(22),M=n(30),P=n(26),C=n(64),I=n(1),N=n(136),j=n(52),x=n(58),R=I("species"),D="Promise",W=P.get,V=P.set,F=P.getterFor(D),H=u&&u.prototype,B=u,q=H,U=l.TypeError,z=l.document,G=l.process,K=L.f,X=K,$=!!(z&&z.createEvent&&l.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,J=!1,Y=C(D,(function(){var e=E(B),t=e!==String(B);if(!t&&66===x)return!0;if(f&&!q.finally)return!0;if(x>=51&&/native code/.test(e))return!1;var n=new B((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[R]=i,!(J=n.then((function(){}))instanceof i)||!t&&N&&!Q})),Z=Y||!w((function(e){B.all(e).catch((function(){}))})),ee=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},te=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;A((function(){for(var i=e.value,r=1==e.state,s=0;n.length>s;){var a,o,f,l=n[s++],c=r?l.ok:l.fail,u=l.resolve,d=l.reject,h=l.domain;try{c?(r||(2===e.rejection&&se(e),e.rejection=1),!0===c?a=i:(h&&h.enter(),a=c(i),h&&(h.exit(),f=!0)),a===l.promise?d(U("Promise-chain cycle")):(o=ee(a))?o.call(a,u,d):u(a)):d(i)}catch(e){h&&!f&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},ne=function(e,t,n){var i,r;$?((i=z.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:n},!Q&&(r=l["on"+e])?r(i):"unhandledrejection"===e&&S("Unhandled promise rejection",n)},ie=function(e){T.call(l,(function(){var t,n=e.facade,i=e.value;if(re(e)&&(t=M((function(){j?G.emit("unhandledRejection",i,n):ne("unhandledrejection",n,i)})),e.rejection=j||re(e)?2:1,t.error))throw t.value}))},re=function(e){return 1!==e.rejection&&!e.parent},se=function(e){T.call(l,(function(){var t=e.facade;j?G.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},ae=function(e,t,n){return function(i){e(t,i,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,te(e,!0))},fe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var i=ee(t);i?A((function(){var n={done:!1};try{i.call(t,ae(fe,n,e),ae(oe,n,e))}catch(t){oe(n,t,e)}})):(e.value=t,e.state=1,te(e,!1))}catch(t){oe({done:!1},t,e)}}};if(Y&&(q=(B=function(e){b(this,B,D),g(e),i.call(this);var t=W(this);try{e(ae(fe,t),ae(oe,t))}catch(e){oe(t,e)}}).prototype,(i=function(e){V(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(q,{then:function(e,t){var n=F(this),i=K(k(this,B));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=j?G.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&te(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=W(e);this.promise=e,this.resolve=ae(fe,t),this.reject=ae(oe,t)},L.f=K=function(e){return e===B||e===s?new r(e):X(e)},!f&&"function"==typeof u&&H!==Object.prototype)){a=H.then,J||(d(H,"then",(function(e,t){var n=this;return new B((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),d(H,"catch",q.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}p&&p(H,q)}o({global:!0,wrap:!0,forced:Y},{Promise:B}),v(B,D,!1,!0),m(D),s=c(D),o({target:D,stat:!0,forced:Y},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),o({target:D,stat:!0,forced:f||Y},{resolve:function(e){return O(f&&this===s?B:this,e)}}),o({target:D,stat:!0,forced:Z},{all:function(e){var t=this,n=K(t),i=n.resolve,r=n.reject,s=M((function(){var n=g(t.resolve),s=[],a=0,o=1;_(e,(function(e){var f=a++,l=!1;s.push(void 0),o++,n.call(t,e).then((function(e){l||(l=!0,s[f]=e,--o||i(s))}),r)})),--o||i(s)}));return s.error&&r(s.value),n.promise},race:function(e){var t=this,n=K(t),i=n.reject,r=M((function(){var r=g(t.resolve);_(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(e,t,n){var i=n(16);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(10),r=n(13),s=n(1),a=n(11),o=s("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i,r,s,a,o,f,l,c,u=n(0),d=n(32).f,h=n(79).set,p=n(80),v=n(133),m=n(134),y=n(52),g=u.MutationObserver||u.WebKitMutationObserver,b=u.document,E=u.process,_=u.Promise,w=d(u,"queueMicrotask"),k=w&&w.value;k||(i=function(){var e,t;for(y&&(e=E.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?a():s=void 0,e}}s=void 0,e&&e.enter()},p||y||m||!g||!b?!v&&_&&_.resolve?((l=_.resolve(void 0)).constructor=_,c=l.then,a=function(){c.call(l,i)}):a=y?function(){E.nextTick(i)}:function(){h.call(u,i)}:(o=!0,f=b.createTextNode(""),new g(i).observe(f,{characterData:!0}),a=function(){f.data=o=!o})),e.exports=k||function(e){var t={fn:e,next:void 0};s&&(s.next=t),r||(r=t,a()),s=t}},function(e,t,n){var i=n(25),r=n(0);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},function(e,t,n){var i=n(25);e.exports=/web0s(?!.*chrome)/i.test(i)},function(e,t,n){var i=n(0);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports="object"==typeof window},function(e,t,n){"use strict";var i=n(4),r=n(19),s=n(77),a=n(5),o=n(10),f=n(78),l=n(81),c=n(16);if(i({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=f(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!r&&"function"==typeof s){var u=o("Promise").prototype.finally;s.prototype.finally!==u&&c(s.prototype,"finally",u,{unsafe:!0})}},function(e,t,n){var i=n(0),r=n(139),s=n(76),a=n(12),o=n(1),f=o("iterator"),l=o("toStringTag"),c=s.values;for(var u in r){var d=i[u],h=d&&d.prototype;if(h){if(h[f]!==c)try{a(h,f,c)}catch(e){h[f]=c}if(h[l]||a(h,l,u),r[u])for(var p in s)if(h[p]!==s[p])try{a(h,p,s[p])}catch(e){h[p]=s[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){n(75)},function(e,t,n){n(82)},function(e,t,n){"use strict";var i=n(4),r=n(22),s=n(30);i({target:"Promise",stat:!0},{try:function(e){var t=r.f(this),n=s(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){n(83)},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,o,f,l,c,u,d=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=p(n(146)),m=p(n(84)),y=p(n(147)),g=p(n(148)),b=p(n(149)),E=p(n(150)),_=p(n(151)),w=p(n(152)),k=n(2),T=n(6),A=n(3),O=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={media:{},mouse:{}},a.set(this,void 0),o.set(this,0),f.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,{Captions:v.default,Fullscreen:m.default,Levels:y.default,Play:g.default,Progress:b.default,Settings:E.default,Time:_.default,Volume:w.default}),d(this,l,t,"f"),this._setElements(),this}var t,n,r;return t=e,(n=[{key:"create",value:function(){var e=this;h(this,l,"f").getElement().controls=!1;var t=(0,A.isVideo)(h(this,l,"f").getElement());if(this._createControlsLayer(),this._buildElements(),this.events.controlschanged=function(){e.destroy(),e._setElements(),e.create()},this.events.ended=function(){h(e,l,"f").getContainer().classList.remove("op-controls--hidden")},h(this,l,"f").getElement().addEventListener("controlschanged",this.events.controlschanged,k.EVENT_OPTIONS),h(this,l,"f").getElement().addEventListener("ended",this.events.ended,k.EVENT_OPTIONS),!h(this,l,"f").getOptions().controls.alwaysVisible&&!k.IS_ANDROID&&!k.IS_IOS){var n=function(){t&&(h(e,l,"f").getContainer().classList.remove("op-controls--hidden"),e._stopControlTimer())};this.events.mouse.mouseenter=function(){t&&!h(e,l,"f").activeElement().paused&&(e._stopControlTimer(),h(e,l,"f").activeElement().currentTime?(h(e,l,"f").playBtn.setAttribute("aria-hidden",h(e,l,"f").isMedia()?"false":"true"),h(e,l,"f").loader.setAttribute("aria-hidden","true")):h(e,l,"f").getOptions().showLoaderOnInit&&(h(e,l,"f").playBtn.setAttribute("aria-hidden","true"),h(e,l,"f").loader.setAttribute("aria-hidden","false")),h(e,l,"f").getContainer().classList.remove("op-controls--hidden"),e._startControlTimer(2500))},this.events.mouse.mousemove=function(){t&&!h(e,l,"f").activeElement().paused&&(h(e,l,"f").activeElement().currentTime?(h(e,l,"f").loader.setAttribute("aria-hidden","true"),h(e,l,"f").playBtn.setAttribute("aria-hidden",h(e,l,"f").isMedia()?"false":"true")):(h(e,l,"f").playBtn.setAttribute("aria-hidden",h(e,l,"f").getOptions().showLoaderOnInit?"true":"false"),h(e,l,"f").loader.setAttribute("aria-hidden",h(e,l,"f").getOptions().showLoaderOnInit?"false":"true")),h(e,l,"f").getContainer().classList.remove("op-controls--hidden"),e._startControlTimer(2500))},this.events.mouse.mouseleave=function(){t&&!h(e,l,"f").activeElement().paused&&e._startControlTimer(1e3)},this.events.media.play=function(){t&&e._startControlTimer(h(e,l,"f").getOptions().hidePlayBtnTimer)},this.events.media.loadedmetadata=n.bind(this),this.events.media.pause=n.bind(this),this.events.media.waiting=n.bind(this),this.events.media.stalled=n.bind(this),this.events.media.playererror=n.bind(this),Object.keys(this.events.media).forEach((function(t){h(e,l,"f").getElement().addEventListener(t,e.events.media[t],k.EVENT_OPTIONS)})),Object.keys(this.events.mouse).forEach((function(t){h(e,l,"f").getContainer().addEventListener(t,e.events.mouse[t],k.EVENT_OPTIONS)})),this._startControlTimer(3e3)}}},{key:"destroy",value:function(){var e=this;k.IS_ANDROID||k.IS_IOS||(Object.keys(this.events.mouse).forEach((function(t){h(e,l,"f").getContainer().removeEventListener(t,e.events.mouse[t])})),Object.keys(this.events.media).forEach((function(t){h(e,l,"f").getElement().removeEventListener(t,e.events.media[t])})),this._stopControlTimer()),h(this,l,"f").getElement().removeEventListener("controlschanged",this.events.controlschanged),h(this,l,"f").getElement().removeEventListener("ended",this.events.ended),Object.keys(h(this,c,"f")).forEach((function(t){h(e,c,"f")[t].forEach((function(t){t.custom?e._destroyCustomControl(t):"function"==typeof t.destroy&&t.destroy()}))})),(0,A.removeElement)(h(this,f,"f"))}},{key:"getContainer",value:function(){return h(this,f,"f")}},{key:"getLayer",value:function(e){return h(this,f,"f").querySelector(".op-controls-layer__".concat(e))||h(this,f,"f")}},{key:"_createControlsLayer",value:function(){if(!h(this,f,"f")||!h(this,l,"f").getContainer().querySelector(".op-controls")){d(this,f,document.createElement("div"),"f"),h(this,f,"f").className="op-controls",h(this,l,"f").getContainer().appendChild(h(this,f,"f"));var e=document.createElement("div");e.className="op-status",e.innerHTML="<span></span>",e.tabIndex=-1,e.setAttribute("aria-hidden","true"),(0,A.isAudio)(h(this,l,"f").getElement())&&h(this,f,"f").appendChild(e)}}},{key:"_startControlTimer",value:function(e){var t=this,n=h(this,l,"f").activeElement();this._stopControlTimer(),"undefined"!=typeof window&&d(this,o,window.setTimeout((function(){if((!n.paused||!n.ended)&&(0,A.isVideo)(h(t,l,"f").getElement())){h(t,l,"f").getContainer().classList.add("op-controls--hidden"),h(t,l,"f").playBtn.setAttribute("aria-hidden","true"),t._stopControlTimer();var e=(0,T.addEvent)("controlshidden");h(t,l,"f").getElement().dispatchEvent(e)}}),e),"f")}},{key:"_stopControlTimer",value:function(){0!==h(this,o,"f")&&(clearTimeout(h(this,o,"f")),d(this,o,0,"f"))}},{key:"_setElements",value:function(){var e=this,t=h(this,l,"f").getOptions().controls.layers;d(this,c,{"bottom-left":[],"bottom-middle":[],"bottom-right":[],left:[],main:[],middle:[],right:[],"top-left":[],"top-middle":[],"top-right":[]},"f");var n=(0,A.isVideo)(h(this,l,"f").getElement()),r=(0,A.isAudio)(h(this,l,"f").getElement()),s=Object.keys(t),o=s.find((function(e){return/^(top|bottom)/.test(e)}));this._createControlsLayer(),s.forEach((function(s){var p=i(s.split("-"),2),v=p[0],m=p[1];if(m){h(e,f,"f").classList.contains("op-controls__stacked")||h(e,f,"f").classList.add("op-controls__stacked");var y="op-controls-layer__".concat(v);if(!h(e,f,"f").querySelector(".".concat(y))){var g=document.createElement("div");g.className=y,h(e,f,"f").appendChild(g)}}else if(o&&!h(e,f,"f").querySelector(".".concat("op-controls-layer__center"))){var b=document.createElement("div");b.className="op-controls-layer__center",h(e,f,"f").appendChild(b)}t[s].filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(t){var i=o&&!m?"center":v,f="".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),p=new(h(e,u,"f")[f])(h(e,l,"f"),m||v,i);"settings"===t&&d(e,a,p,"f"),(n||"fullscreen"!==t&&r)&&h(e,c,"f")[s].push(p)}))})),h(this,l,"f").getCustomControls().forEach((function(t){var n=i(t.position.split("-"),2),r=n[0],s=n[1],a=o&&!s?"center":r;t.layer=a,t.position=s||r,"right"===t.position?h(e,c,"f")[t.position].unshift(t):h(e,c,"f")[t.position].push(t)}))}},{key:"_buildElements",value:function(){var e=this;Object.keys(h(this,c,"f")).forEach((function(t){h(e,c,"f")[t].forEach((function(t){t.custom?e._createCustomControl(t):t.create()}))})),Object.keys(h(this,c,"f")).forEach((function(t){h(e,c,"f")[t].forEach((function(t){if((!h(e,l,"f").getOptions().detachMenus||t instanceof E.default)&&!t.custom&&"function"==typeof t.addSettings){var n=t.addSettings();h(e,a,"f")&&Object.keys(n).length&&h(e,a,"f").addItem(n.name,n.key,n.default,n.subitems,n.className)}}))}));var t=(0,T.addEvent)("controlschanged");h(this,f,"f").dispatchEvent(t)}},{key:"_hideCustomMenu",value:function(e){var t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((function(){e.setAttribute("aria-hidden","true")})))}},{key:"_toggleCustomMenu",value:function(e,t,n){h(this,l,"f").getContainer().querySelectorAll(".op-settings").forEach((function(e){"false"===e.getAttribute("aria-hidden")&&e.id!==t.id&&e.setAttribute("aria-hidden","true")})),t.setAttribute("aria-hidden","true"===t.getAttribute("aria-hidden")?"false":"true"),"function"==typeof n.click&&n.click(e)}},{key:"_createCustomControl",value:function(e){var t=this,n=document.createElement("button"),i=/\.(jpg|png|svg|gif)$/.test(e.icon)?'<img src="'.concat(e.icon,'">'):e.icon;if(n.className="op-controls__".concat(e.id," op-control__").concat(e.position," ").concat(e.showInAds?"":"op-control__hide-in-ad"),n.tabIndex=0,n.id=e.id,n.title=e.title,n.innerHTML=e.content||"".concat(i,' <span class="op-sr">').concat(e.title,"</span>"),e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){var r=document.createElement("div");r.className="op-settings op-settings__custom",r.id="".concat(e.id,"-menu"),r.setAttribute("aria-hidden","true");var s=e.subitems.map((function(t){var n="";return t.icon&&(n=/\.(jpg|png|svg|gif)$/.test(t.icon)?'<img src="'.concat(t.icon,'">'):t.icon),'<div class="op-settings__menu-item" tabindex="0" '.concat(t.title?'title="'.concat(t.title,'"'):"",' role="menuitemradio">\n                    <div class="op-settings__menu-label" id="').concat(t.id,'" data-value="').concat(e.id,"-").concat(t.id,'">').concat(n," ").concat(t.label,"</div>\n                </div>")}));r.innerHTML='<div class="op-settings__menu" role="menu">'.concat(s.join(""),"</div>"),h(this,l,"f").getContainer().appendChild(r),e.subitems.forEach((function(e){var t=r.querySelector("#".concat(e.id));t&&e.click&&"function"==typeof e.click&&t.addEventListener("click",e.click,k.EVENT_OPTIONS)})),n.addEventListener("click",(function(n){return t._toggleCustomMenu(n,r,e)}),k.EVENT_OPTIONS),h(this,l,"f").getElement().addEventListener("controlshidden",(function(){return t._hideCustomMenu(r)}),k.EVENT_OPTIONS)}else e.click&&"function"==typeof e.click&&n.addEventListener("click",e.click,k.EVENT_OPTIONS);e.mouseenter&&"function"==typeof e.mouseenter&&n.addEventListener("mouseenter",e.mouseenter,k.EVENT_OPTIONS),e.mouseleave&&"function"==typeof e.mouseleave&&n.addEventListener("mouseenter",e.mouseleave,k.EVENT_OPTIONS),e.keydown&&"function"==typeof e.keydown&&n.addEventListener("keydown",e.keydown,k.EVENT_OPTIONS),e.blur&&"function"==typeof e.blur&&n.addEventListener("blur",e.blur,k.EVENT_OPTIONS),e.focus&&"function"==typeof e.focus&&n.addEventListener("focus",e.focus,k.EVENT_OPTIONS),e.layer&&("main"===e.layer?h(this,l,"f").getContainer().appendChild(n):this.getLayer(e.layer).appendChild(n)),e.init&&"function"==typeof e.init&&e.init(h(this,l,"f"))}},{key:"_destroyCustomControl",value:function(e){var t=this,n=e.title.toLowerCase().replace(" ","-"),i=this.getContainer().querySelector(".op-controls__".concat(n));if(i){if(e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){var r=h(this,l,"f").getContainer().querySelector("#".concat(e.id,"-menu"));r&&(e.subitems.forEach((function(e){var t=r.querySelector("#".concat(e.id));t&&e.click&&"function"==typeof e.click&&t.removeEventListener("click",e.click)})),i.removeEventListener("click",(function(n){return t._toggleCustomMenu(n,r,e)})),h(this,l,"f").getElement().removeEventListener("controlshidden",(function(){return t._hideCustomMenu(r)})),(0,A.removeElement)(r))}e.click&&"function"==typeof e.click&&i.removeEventListener("click",e.click),e.mouseenter&&"function"==typeof e.mouseenter&&i.removeEventListener("mouseenter",e.mouseenter),e.mouseleave&&"function"==typeof e.mouseleave&&i.removeEventListener("mouseenter",e.mouseleave),e.keydown&&"function"==typeof e.keydown&&i.removeEventListener("keydown",e.keydown),e.blur&&"function"==typeof e.blur&&i.removeEventListener("blur",e.blur),e.focus&&"function"==typeof e.focus&&i.removeEventListener("focus",e.focus),(0,A.removeElement)(i),e.destroy&&"function"==typeof e.destroy&&e.destroy(h(this,l,"f"))}}}])&&s(t.prototype,n),r&&s(t,r),e}();a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,t.default=O},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s,a,o,f,l,c,u,d,h,p,v,m,y,g,b,E=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},_=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var w=n(2),k=n(6),T=n(3),A=n(53),O=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),f.set(this,void 0),l.set(this,{button:{},global:{},media:{}}),c.set(this,{}),u.set(this,void 0),d.set(this,{}),h.set(this,void 0),p.set(this,void 0),v.set(this,"off"),m.set(this,void 0),y.set(this,void 0),g.set(this,void 0),b.set(this,void 0),E(this,s,t,"f"),E(this,y,t.getOptions().labels,"f"),E(this,m,t.getOptions().detachMenus,"f"),E(this,g,n,"f"),E(this,b,i,"f");for(var r=_(this,s,"f").getElement().textTracks,w=[],k=0,T=r.length;k<T;k++){var A=['track[kind="subtitles"][srclang="'.concat(r[k].language,'"][label="').concat(r[k].label,'"]'),'track[kind="captions"][srclang="'.concat(r[k].language,'"][label="').concat(r[k].label,'"]')];_(this,s,"f").getElement().querySelector(A.join(", "))&&w.push(r[k])}if(!w.length)for(var O=0,S=r.length;O<S;O++)w.push(r[O]);return E(this,u,w,"f"),E(this,h,!!_(this,u,"f").length,"f"),this}var t,n,O;return t=e,(n=[{key:"create",value:function(){var e=this;if(_(this,h,"f")){E(this,a,document.createElement("button"),"f"),_(this,a,"f").className="op-controls__captions op-control__".concat(_(this,g,"f")),_(this,a,"f").tabIndex=0,_(this,a,"f").title=_(this,y,"f").toggleCaptions,_(this,a,"f").setAttribute("aria-controls",_(this,s,"f").id),_(this,a,"f").setAttribute("aria-pressed","false"),_(this,a,"f").setAttribute("aria-label",_(this,y,"f").toggleCaptions),_(this,a,"f").setAttribute("data-active-captions","off"),_(this,a,"f").innerHTML='<span class="op-sr">'.concat(_(this,y,"f").toggleCaptions,"</span>"),_(this,m,"f")&&(_(this,a,"f").classList.add("op-control--no-hover"),E(this,f,document.createElement("div"),"f"),_(this,f,"f").className="op-settings op-captions__menu",_(this,f,"f").setAttribute("aria-hidden","true"),_(this,f,"f").innerHTML='<div class="op-settings__menu" role="menu" id="menu-item-captions">\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio" aria-checked="'.concat("off"===_(this,v,"f")?"true":"false",'">\n                    <div class="op-settings__submenu-label op-subtitles__option" data-value="captions-off">').concat(_(this,y,"f").off,"</div>\n                </div>\n            </div>"));for(var t=function(t,n,i){var r=n[t];if("subtitles"===r.kind||"captions"===r.kind){r.default&&(E(e,v,r.srclang,"f"),_(e,a,"f").setAttribute("data-active-captions",r.srclang));var s=(0,T.getAbsoluteUrl)(r.src),o=_(e,u,"f")[t];o&&o.language===r.srclang&&(o.cues&&o.cues.length>0?(_(e,c,"f")[r.srclang]=e._getNativeCues(_(e,u,"f")[t]),e._prepareTrack(t,r.srclang,s,r.default||!1)):(0,T.request)(s,"text",(function(n){if(_(e,c,"f")[r.srclang]=e._getCuesFromText(n),e._prepareTrack(t,r.srclang,s,r.default||!1),_(e,f,"f")&&!_(e,f,"f").querySelector('.op-subtitles__option[data-value="captions-'.concat(_(e,u,"f")[t].language,'"]'))){var i=document.createElement("div");i.className="op-settings__submenu-item",i.tabIndex=0,i.setAttribute("role","menuitemradio"),i.setAttribute("aria-checked",_(e,v,"f")===_(e,u,"f")[t].language?"true":"false"),i.innerHTML='<div class="op-settings__submenu-label op-subtitles__option"\n                                        data-value="captions-'.concat(_(e,u,"f")[t].language,'">\n                                        ').concat(_(e,y,"f").lang[_(e,u,"f")[t].language]||_(e,u,"f")[t].label,"\n                                    </div>"),_(e,f,"f").appendChild(i)}})))}},n=0,i=_(this,s,"f").getElement().querySelectorAll("track"),r=i.length;n<r;n++)t(n,i);E(this,o,document.createElement("div"),"f"),_(this,o,"f").className="op-captions",_(this,o,"f").innerHTML="<span></span>";var d=_(this,o,"f").querySelector("span");if(_(this,l,"f").media.timeupdate=function(){if(_(e,s,"f").isMedia())if(_(e,p,"f")){var t=_(e,c,"f")[_(e,p,"f").language];if(d&&void 0!==t){var n=e._search(t,_(e,s,"f").getMedia().currentTime);d.innerHTML="",n>-1&&(0,T.hasClass)(_(e,a,"f"),"op-controls__captions--on")?(_(e,o,"f").classList.add("op-captions--on"),d.innerHTML=e._sanitize(t[n].text)):e._hide()}}else e._hide();else e._hide()},_(this,l,"f").button.click=function(t){var n=t.target;if(_(e,m,"f")){for(var i=_(e,s,"f").getContainer().querySelectorAll(".op-settings"),r=0,a=i.length;r<a;++r)i[r]!==_(e,f,"f")&&i[r].setAttribute("aria-hidden","true");"true"===_(e,f,"f").getAttribute("aria-hidden")?_(e,f,"f").setAttribute("aria-hidden","false"):_(e,f,"f").setAttribute("aria-hidden","true")}else n.setAttribute("aria-pressed","true"),(0,T.hasClass)(n,"op-controls__captions--on")?(e._hide(),n.classList.remove("op-controls__captions--on"),n.setAttribute("data-active-captions","off")):(_(e,p,"f")||E(e,p,_(e,u,"f")[0],"f"),e._show(),n.classList.add("op-controls__captions--on"),n.setAttribute("data-active-captions",_(e,p,"f").language))},_(this,l,"f").button.mouseover=function(){if(!w.IS_IOS&&!w.IS_ANDROID&&_(e,m,"f")){for(var t=_(e,s,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==_(e,f,"f")&&t[n].setAttribute("aria-hidden","true");"true"===_(e,f,"f").getAttribute("aria-hidden")&&_(e,f,"f").setAttribute("aria-hidden","false")}},_(this,l,"f").button.mouseout=function(){if(!w.IS_IOS&&!w.IS_ANDROID&&_(e,m,"f")){for(var t=_(e,s,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n].setAttribute("aria-hidden","true");"false"===_(e,f,"f").getAttribute("aria-hidden")&&_(e,f,"f").setAttribute("aria-hidden","true")}},_(this,h,"f")){var A=_(this,s,"f").getContainer();if(A.insertBefore(_(this,o,"f"),A.firstChild),_(this,m,"f")){var O=document.createElement("div");O.className="op-controls__container op-control__".concat(_(this,g,"f")),O.appendChild(_(this,a,"f")),O.appendChild(_(this,f,"f")),_(this,s,"f").getControls().getLayer(_(this,b,"f")).appendChild(O)}else _(this,s,"f").getControls().getLayer(_(this,b,"f")).appendChild(_(this,a,"f"));_(this,a,"f").addEventListener("click",_(this,l,"f").button.click,w.EVENT_OPTIONS)}_(this,u,"f").length<=1&&!_(this,m,"f")||!_(this,u,"f").length&&_(this,m,"f")||(_(this,l,"f").global.click=function(t){var n=t.target;if(n.closest("#".concat(_(e,s,"f").id))&&(0,T.hasClass)(n,"op-subtitles__option")){var i=n.getAttribute("data-value"),r=i?i.replace("captions-",""):"",o=Array.from(_(e,u,"f")).filter((function(e){return e.language===r}));if(E(e,p,o?o.pop():void 0,"f"),_(e,m,"f")){if((0,T.hasClass)(_(e,a,"f"),"op-controls__captions--on")?(e._hide(),_(e,a,"f").classList.remove("op-controls__captions--on"),_(e,a,"f").setAttribute("data-active-captions","off")):(e._show(),_(e,a,"f").classList.add("op-controls__captions--on"),_(e,a,"f").setAttribute("data-active-captions",r)),n.parentElement&&n.parentElement.parentElement)for(var l=n.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"),c=0,d=l.length;c<d;++c)l[c].setAttribute("aria-checked","false");n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),_(e,f,"f").setAttribute("aria-hidden","false")}else e._show(),_(e,a,"f").setAttribute("data-active-captions",r);var h=(0,k.addEvent)("captionschanged");_(e,s,"f").getElement().dispatchEvent(h)}},_(this,m,"f")&&(_(this,a,"f").addEventListener("mouseover",_(this,l,"f").button.mouseover,w.EVENT_OPTIONS),_(this,f,"f").addEventListener("mouseover",_(this,l,"f").button.mouseover,w.EVENT_OPTIONS),_(this,f,"f").addEventListener("mouseout",_(this,l,"f").button.mouseout,w.EVENT_OPTIONS),_(this,s,"f").getElement().addEventListener("controlshidden",_(this,l,"f").button.mouseout,w.EVENT_OPTIONS)),void 0!==_(this,l,"f").global.click&&document.addEventListener("click",_(this,l,"f").global.click,w.EVENT_OPTIONS))}}},{key:"destroy",value:function(){void 0!==_(this,l,"f").global.click&&document.removeEventListener("click",_(this,l,"f").global.click),_(this,h,"f")&&(_(this,a,"f").removeEventListener("click",_(this,l,"f").button.click),_(this,m,"f")&&(_(this,a,"f").removeEventListener("mouseover",_(this,l,"f").button.mouseover),_(this,f,"f").removeEventListener("mouseover",_(this,l,"f").button.mouseover),_(this,f,"f").removeEventListener("mouseout",_(this,l,"f").button.mouseout),_(this,s,"f").getElement().removeEventListener("controlshidden",_(this,l,"f").button.mouseout),(0,T.removeElement)(_(this,f,"f"))),_(this,s,"f").getElement().removeEventListener("timeupdate",_(this,l,"f").media.timeupdate),(0,T.removeElement)(_(this,a,"f")),(0,T.removeElement)(_(this,o,"f")))}},{key:"addSettings",value:function(){if(_(this,m,"f")||_(this,u,"f").length<=1)return{};var e=this._formatMenuItems();return e.length>2?{className:"op-subtitles__option",default:_(this,v,"f")||"off",key:"captions",name:_(this,y,"f").captions,subitems:e}:{}}},{key:"_getCuesFromText",value:function(e){var t,n=e.split(/\r?\n/),r=[],s=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,a=new RegExp("^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\x3e ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*?)$");function o(e){e="string"!=typeof e?JSON.stringify(e):e;try{e=JSON.parse(e)}catch(e){return!1}return"object"===i(e)&&null!==e}for(var f=0,l=n.length;f<l;f++){var c=a.exec(n[f]);if(c&&f<n.length){f-1>=0&&""!==n[f-1]&&(t=n[f-1]);var u=n[++f];for(f++;""!==n[f]&&f<n.length;)u="".concat(u,"\n").concat(n[f]),f++;u=u.trim().replace(s,"<a href='$1' target='_blank'>$1</a>");var d=(0,A.timeToSeconds)(c[1]);r.push({endTime:(0,A.timeToSeconds)(c[3]),identifier:t||"",settings:o(c[5])?JSON.parse(c[5]):{},startTime:0===d?.2:d,text:u})}t=""}return r}},{key:"_getNativeCues",value:function(e){var t=[],n=e.cues;return Object.keys(n).forEach((function(e){var i=parseInt(e,10),r=n[i];t.push({endTime:r.endTime,identifier:r.id,settings:{},startTime:r.startTime,text:r.text})})),t}},{key:"_show",value:function(){if(_(this,o,"f")&&_(this,p,"f")&&void 0!==_(this,p,"f").cues){var e=_(this,o,"f").querySelector("span");e&&(e.innerHTML=""),_(this,s,"f").getElement().addEventListener("timeupdate",_(this,l,"f").media.timeupdate,w.EVENT_OPTIONS)}}},{key:"_hide",value:function(){_(this,o,"f").classList.remove("op-captions--on"),_(this,p,"f")||(_(this,a,"f").classList.remove("op-controls__captions--on"),_(this,a,"f").setAttribute("data-active-captions","off"))}},{key:"_search",value:function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r].startTime,a=e[r].endTime;if(t>=s&&t<a)return r;s<t?n=r+1:s>t&&(i=r-1)}return-1}},{key:"_sanitize",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),i=n.length;i--;)(0,T.removeElement)(n[i]);for(var r=t.getElementsByTagName("*"),s=0,a=r.length;s<a;s++)for(var o=r[s].attributes,f=Array.prototype.slice.call(o),l=0,c=f.length;l<c;l++)/^(on|javascript:)/.test(f[l].name)?(0,T.removeElement)(r[s]):"style"===f[l].name&&r[s].removeAttribute(f[l].name);return t.innerHTML}},{key:"_prepareTrack",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_(this,d,"f")[t]=n,_(this,u,"f")[e].mode="disabled",r&&(E(this,v,t,"f"),_(this,a,"f").classList.add("op-controls__captions--on"),_(this,a,"f").setAttribute("data-active-captions",t),E(this,p,Array.from(_(this,u,"f")).filter((function(e){return e.language===_(i,v,"f")})).pop(),"f"),this._show(),_(this,s,"f").getContainer().classList.contains("op-captions--detected")||_(this,s,"f").getContainer().classList.add("op-captions--detected"))}},{key:"_formatMenuItems",value:function(){for(var e=this,t=[{key:"off",label:_(this,y,"f").off}],n=function(n,i){var r=_(e,u,"f")[n];(t=t.filter((function(e){return e.key!==r.language}))).push({key:r.language,label:_(e,y,"f").lang[r.language]||_(e,u,"f")[n].label})},i=0,r=_(this,u,"f").length;i<r;i++)n(i);return t}}])&&r(t.prototype,n),O&&r(t,O),e}();s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,t.default=O},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c,u,d,h,p=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),y=n(6),g=n(3),b=n(14),E=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,{button:{},global:{},media:{}}),f.set(this,void 0),l.set(this,void 0),c.set(this,[]),u.set(this,""),d.set(this,void 0),h.set(this,void 0),p(this,r,t,"f"),p(this,l,t.getOptions().labels,"f"),p(this,f,t.getOptions().detachMenus,"f"),p(this,d,n,"f"),p(this,h,i,"f"),this}var t,n,E;return t=e,(n=[{key:"create",value:function(){var e=this,t=null!==v(this,r,"f").getOptions().defaultLevel?parseInt(v(this,r,"f").getOptions().defaultLevel,10):v(this,r,"f").getMedia().level;p(this,u,"".concat(t),"f");var n=this._formatMenuItems(),i=n.length?n.find((function(t){return t.key===v(e,u,"f")})):null,h=i?i.label:v(this,l,"f").auto,E=!1;p(this,s,document.createElement("button"),"f"),v(this,s,"f").className="op-controls__levels op-control__".concat(v(this,d,"f")),v(this,s,"f").tabIndex=0,v(this,s,"f").title=v(this,l,"f").mediaLevels,v(this,s,"f").setAttribute("aria-controls",v(this,r,"f").id),v(this,s,"f").setAttribute("aria-label",v(this,l,"f").mediaLevels),v(this,s,"f").setAttribute("data-active-level",v(this,u,"f")),v(this,s,"f").innerHTML="<span>".concat(h,"</span>");var _=function(){v(e,c,"f").length?E||(v(e,r,"f").getMedia().level=t,E=!0):(e._gatherLevels(),setTimeout((function(){v(e,r,"f").getMedia().level=t;var n=(0,y.addEvent)("controlschanged");v(e,r,"f").getElement().dispatchEvent(n)}),0))};v(this,o,"f").media.loadedmetadata=_.bind(this),v(this,o,"f").media.manifestLoaded=_.bind(this),v(this,o,"f").media.hlsManifestParsed=_.bind(this),v(this,f,"f")&&(this._buildMenu(),v(this,o,"f").button.click=function(){if(v(e,f,"f")){for(var t=v(e,r,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==v(e,a,"f")&&t[n].setAttribute("aria-hidden","true");"true"===v(e,a,"f").getAttribute("aria-hidden")?v(e,a,"f").setAttribute("aria-hidden","false"):v(e,a,"f").setAttribute("aria-hidden","true")}},v(this,o,"f").button.mouseover=function(){if(!m.IS_IOS&&!m.IS_ANDROID){for(var t=v(e,r,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==v(e,a,"f")&&t[n].setAttribute("aria-hidden","true");"true"===v(e,a,"f").getAttribute("aria-hidden")&&v(e,a,"f").setAttribute("aria-hidden","false")}},v(this,o,"f").button.mouseout=function(){if(!m.IS_IOS&&!m.IS_ANDROID){for(var t=v(e,r,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n].setAttribute("aria-hidden","true");"false"===v(e,a,"f").getAttribute("aria-hidden")&&v(e,a,"f").setAttribute("aria-hidden","true")}},v(this,s,"f").addEventListener("click",v(this,o,"f").button.click,m.EVENT_OPTIONS),v(this,s,"f").addEventListener("mouseover",v(this,o,"f").button.mouseover,m.EVENT_OPTIONS),v(this,a,"f").addEventListener("mouseover",v(this,o,"f").button.mouseover,m.EVENT_OPTIONS),v(this,a,"f").addEventListener("mouseout",v(this,o,"f").button.mouseout,m.EVENT_OPTIONS),v(this,r,"f").getElement().addEventListener("controlshidden",v(this,o,"f").button.mouseout,m.EVENT_OPTIONS)),v(this,o,"f").global.click=function(t){var n=t.target,i=v(e,r,"f").getMedia().currentTime,o=v(e,r,"f").getMedia().paused;if(n.closest("#".concat(v(e,r,"f").id))&&(0,g.hasClass)(n,"op-levels__option")){var l=n.getAttribute("data-value"),c=parseInt(l?l.replace("levels-",""):"-1",10);if(p(e,u,"".concat(c),"f"),v(e,f,"f")){v(e,s,"f").setAttribute("data-active-level","".concat(c)),v(e,s,"f").innerHTML="<span>".concat(n.innerText,"</span>");for(var d=n.parentElement&&n.parentElement.parentElement?n.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"):[],h=0,m=d.length;h<m;++h)d[h].setAttribute("aria-checked","false");n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),v(e,a,"f").setAttribute("aria-hidden","false")}v(e,r,"f").getMedia().level=c,v(e,r,"f").getMedia().currentTime=i,o||v(e,r,"f").play();var b=(0,y.addEvent)("levelchanged",{detail:{label:n.innerText.trim(),level:c}});v(e,r,"f").getElement().dispatchEvent(b),t.preventDefault(),t.stopPropagation()}};var w=m.NAV.connection||m.NAV.mozConnection||m.NAV.webkitConnection;v(this,o,"f").global.connection=function(){var t=v(e,r,"f").getMedia().current;if(!(0,b.isDashSource)(t)&&!(0,b.isHlsSource)(t)){var n=w.effectiveType,i=v(e,c,"f").map((function(e){return Object.assign(Object.assign({},e),{resolution:parseInt(e.label.replace("p",""),10)})})),s=i.find((function(e){return e.resolution<360}));"4g"===n?s=i.find((function(e){return e.resolution>=720})):"3g"===n&&(s=i.find((function(e){return e.resolution>=360&&e.resolution<720}))),s&&(v(e,r,"f").pause(),v(e,r,"f").getMedia().level=s.id,v(e,r,"f").play()),n=w.effectiveType}},Object.keys(v(this,o,"f").media).forEach((function(t){v(e,r,"f").getElement().addEventListener(t,v(e,o,"f").media[t],m.EVENT_OPTIONS)})),document.addEventListener("click",v(this,o,"f").global.click,m.EVENT_OPTIONS),w&&w.addEventListener("change",v(this,o,"f").global.connection,m.EVENT_OPTIONS)}},{key:"destroy",value:function(){var e=this,t=m.NAV.connection||m.NAV.mozConnection||m.NAV.webkitConnection;Object.keys(v(this,o,"f").media).forEach((function(t){v(e,r,"f").getElement().removeEventListener(t,v(e,o,"f").media[t])})),document.removeEventListener("click",v(this,o,"f").global.click),t&&t.removeEventListener("change",v(this,o,"f").global.connection),v(this,f,"f")&&(v(this,s,"f").removeEventListener("click",v(this,o,"f").button.click),(0,g.removeElement)(v(this,s,"f")),v(this,s,"f").removeEventListener("mouseover",v(this,o,"f").button.mouseover),v(this,a,"f").removeEventListener("mouseover",v(this,o,"f").button.mouseover),v(this,a,"f").removeEventListener("mouseout",v(this,o,"f").button.mouseout),v(this,r,"f").getElement().removeEventListener("controlshidden",v(this,o,"f").button.mouseout),(0,g.removeElement)(v(this,a,"f")))}},{key:"addSettings",value:function(){if(v(this,f,"f"))return{};var e=this._formatMenuItems();return e.length>2?{className:"op-levels__option",default:v(this,u,"f")||"-1",key:"levels",name:v(this,l,"f").levels,subitems:e}:{}}},{key:"_formatMenuItems",value:function(){for(var e=this._gatherLevels(),t=e.length,n=t?[{key:"-1",label:v(this,l,"f").auto}]:[],i=function(t){var i=e[t];(n=n.filter((function(e){return e.key!==i.id}))).push({key:i.id,label:i.label})},r=0;r<t;r++)i(r);return n=n.reduce((function(e,t){return e.find((function(e){return e.label===t.label}))?e:e.concat([t])}),[]).sort((function(e,t){return parseInt(e.label,10)>parseInt(t.label,10)?1:-1}))}},{key:"_getResolutionsLabel",value:function(e){return e>=4320?"8K":e>=2160?"4K":e>=1440?"1440p":e>=1080?"1080p":e>=720?"720p":e>=480?"480p":e>=360?"360p":e>=240?"240p":e>=144?"144p":v(this,l,"f").auto}},{key:"_gatherLevels",value:function(){var e=this;return v(this,c,"f").length||v(this,r,"f").getMedia().levels.forEach((function(t){v(e,c,"f").push(Object.assign(Object.assign({},t),{label:t.label||e._getResolutionsLabel(t.height)}))})),v(this,c,"f")}},{key:"_buildMenu",value:function(){var e=this;if(v(this,f,"f")){v(this,s,"f").classList.add("op-control--no-hover"),p(this,a,document.createElement("div"),"f"),v(this,a,"f").className="op-settings op-levels__menu",v(this,a,"f").setAttribute("aria-hidden","true");var t=this._formatMenuItems(),n='<div class="op-settings__menu" role="menu" id="menu-item-levels">\n                '.concat(t.map((function(t){return'\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio"\n                    aria-checked="'.concat(v(e,u,"f")===t.key?"true":"false",'">\n                    <div class="op-settings__submenu-label ').concat("op-levels__option",'" data-value="levels-').concat(t.key,'">').concat(t.label,"</div>\n                </div>")})).join(""),"\n            </div>");v(this,a,"f").innerHTML=n;var i=document.createElement("div");i.className="op-controls__container op-control__".concat(v(this,d,"f")),i.appendChild(v(this,s,"f")),i.appendChild(v(this,a,"f")),v(this,r,"f").getControls().getLayer(v(this,h,"f")).appendChild(i)}}}])&&i(t.prototype,n),E&&i(t,E),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=E},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=d(n(54)),p=n(2),v=n(6),m=n(3),y=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,{controls:{},media:{}}),o.set(this,void 0),f.set(this,void 0),l.set(this,void 0),c(this,r,t,"f"),c(this,o,u(this,r,"f").getOptions().labels,"f"),c(this,f,n,"f"),c(this,l,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,d;return t=e,(n=[{key:"create",value:function(){var e=this;c(this,s,document.createElement("button"),"f"),u(this,s,"f").type="button",u(this,s,"f").className="op-controls__playpause op-control__".concat(u(this,f,"f")),u(this,s,"f").tabIndex=0,u(this,s,"f").title=u(this,o,"f").play,u(this,s,"f").setAttribute("aria-controls",u(this,r,"f").id),u(this,s,"f").setAttribute("aria-pressed","false"),u(this,s,"f").setAttribute("aria-label",u(this,o,"f").play),u(this,s,"f").innerHTML='<span class="op-sr">'.concat(u(this,o,"f").play,"/").concat(u(this,o,"f").pause,"</span>"),u(this,r,"f").getControls().getLayer(u(this,l,"f")).appendChild(u(this,s,"f")),u(this,a,"f").media.click=function(t){u(e,s,"f").setAttribute("aria-pressed","true");var n=u(e,r,"f").activeElement();n.paused||n.ended?(u(e,r,"f").getAd()&&(u(e,r,"f").getAd().playRequested=!0),n.play()):n.pause(),t.preventDefault(),t.stopPropagation()};var t=(0,m.isAudio)(u(this,r,"f").getElement());u(this,a,"f").media.play=function(){u(e,r,"f").activeElement().ended?(u(e,r,"f").isMedia()?u(e,s,"f").classList.add("op-controls__playpause--replay"):u(e,s,"f").classList.add("op-controls__playpause--pause"),u(e,s,"f").title=u(e,o,"f").play,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").play)):(u(e,s,"f").classList.remove("op-controls__playpause--replay"),u(e,s,"f").classList.add("op-controls__playpause--pause"),u(e,s,"f").title=u(e,o,"f").pause,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").pause),u(e,r,"f").getOptions().pauseOthers&&Object.keys(h.default.instances).forEach((function(t){t!==u(e,r,"f").id&&h.default.instances[t].activeElement().pause()})))},u(this,a,"f").media.loadedmetadata=function(){(0,m.hasClass)(u(e,s,"f"),"op-controls__playpause--pause")&&(u(e,s,"f").classList.remove("op-controls__playpause--replay"),u(e,s,"f").classList.remove("op-controls__playpause--pause"),u(e,s,"f").title=u(e,o,"f").play,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").play))},u(this,a,"f").media.playing=function(){(0,m.hasClass)(u(e,s,"f"),"op-controls__playpause--pause")||(u(e,s,"f").classList.remove("op-controls__playpause--replay"),u(e,s,"f").classList.add("op-controls__playpause--pause"),u(e,s,"f").title=u(e,o,"f").pause,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").pause))},u(this,a,"f").media.pause=function(){u(e,s,"f").classList.remove("op-controls__playpause--pause"),u(e,s,"f").title=u(e,o,"f").play,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").play)},u(this,a,"f").media.ended=function(){u(e,r,"f").activeElement().ended&&u(e,r,"f").isMedia()||u(e,r,"f").getElement().currentTime>=u(e,r,"f").getElement().duration||u(e,r,"f").getElement().currentTime<=0?(u(e,s,"f").classList.add("op-controls__playpause--replay"),u(e,s,"f").classList.remove("op-controls__playpause--pause")):(u(e,s,"f").classList.remove("op-controls__playpause--replay"),u(e,s,"f").classList.add("op-controls__playpause--pause")),u(e,s,"f").title=u(e,o,"f").play,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").play)},u(this,a,"f").media.adsmediaended=function(){u(e,s,"f").classList.remove("op-controls__playpause--replay"),u(e,s,"f").classList.add("op-controls__playpause--pause"),u(e,s,"f").title=u(e,o,"f").pause,u(e,s,"f").setAttribute("aria-label",u(e,o,"f").pause)},u(this,a,"f").media.playererror=function(){t&&u(e,r,"f").activeElement().pause()};var n=u(this,r,"f").getElement();u(this,a,"f").controls.controlschanged=function(){if(!u(e,r,"f").activeElement().paused){var t=(0,v.addEvent)("playing");n.dispatchEvent(t)}},Object.keys(u(this,a,"f").media).forEach((function(t){n.addEventListener(t,u(e,a,"f").media[t],p.EVENT_OPTIONS)})),u(this,r,"f").getControls().getContainer().addEventListener("controlschanged",u(this,a,"f").controls.controlschanged,p.EVENT_OPTIONS),u(this,r,"f").getContainer().addEventListener("keydown",this._keydownEvent,p.EVENT_OPTIONS),u(this,s,"f").addEventListener("click",u(this,a,"f").media.click,p.EVENT_OPTIONS)}},{key:"destroy",value:function(){var e=this;Object.keys(u(this,a,"f").media).forEach((function(t){u(e,r,"f").getElement().removeEventListener(t,u(e,a,"f").media[t])})),u(this,r,"f").getControls().getContainer().removeEventListener("controlschanged",u(this,a,"f").controls.controlschanged),u(this,r,"f").getContainer().removeEventListener("keydown",this._keydownEvent),u(this,s,"f").removeEventListener("click",u(this,a,"f").media.click),(0,m.removeElement)(u(this,s,"f"))}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__playpause"))||13!==n&&32!==n||u(this,a,"f").media.click(e)}}])&&i(t.prototype,n),d&&i(t,d),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,t.default=y},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c,u,d,h,p,v=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},m=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var y=n(2),g=n(3),b=n(53),E=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),f.set(this,void 0),l.set(this,void 0),c.set(this,{container:{},controls:{},global:{},media:{},slider:{}}),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p.set(this,void 0),v(this,r,t,"f"),v(this,d,t.getOptions().labels,"f"),v(this,u,!1,"f"),v(this,h,n,"f"),v(this,p,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,E;return t=e,(n=[{key:"create",value:function(){var e=this;v(this,s,document.createElement("div"),"f"),m(this,s,"f").className="op-controls__progress op-control__".concat(m(this,h,"f")),m(this,s,"f").tabIndex=0,m(this,s,"f").setAttribute("aria-label",m(this,d,"f").progressSlider),m(this,s,"f").setAttribute("aria-valuemin","0"),v(this,a,document.createElement("input"),"f"),m(this,a,"f").type="range",m(this,a,"f").className="op-controls__progress--seek",m(this,a,"f").tabIndex=-1,m(this,a,"f").setAttribute("min","0"),m(this,a,"f").setAttribute("max","0"),m(this,a,"f").setAttribute("step","0.1"),m(this,a,"f").value="0",m(this,a,"f").setAttribute("aria-label",m(this,d,"f").progressRail),m(this,a,"f").setAttribute("role","slider"),v(this,o,document.createElement("progress"),"f"),m(this,o,"f").className="op-controls__progress--buffer",m(this,o,"f").setAttribute("max","100"),m(this,o,"f").value=0,v(this,f,document.createElement("progress"),"f"),m(this,f,"f").className="op-controls__progress--played",m(this,f,"f").setAttribute("max","100"),m(this,f,"f").setAttribute("role","presentation"),m(this,f,"f").value=0,m(this,s,"f").appendChild(m(this,a,"f")),m(this,s,"f").appendChild(m(this,f,"f")),m(this,s,"f").appendChild(m(this,o,"f")),y.IS_IOS||y.IS_ANDROID||(v(this,l,document.createElement("span"),"f"),m(this,l,"f").className="op-controls__tooltip",m(this,l,"f").tabIndex=-1,m(this,l,"f").innerHTML="00:00",m(this,s,"f").appendChild(m(this,l,"f")));var t=function(){m(e,a,"f").classList.contains("error")&&m(e,a,"f").classList.remove("error");var t=m(e,r,"f").activeElement();if(t.duration===1/0||m(e,r,"f").getElement().getAttribute("op-live__enabled")||m(e,r,"f").getElement().getAttribute("op-dvr__enabled"))m(e,r,"f").getElement().getAttribute("op-dvr__enabled")?(m(e,a,"f").setAttribute("max","1"),m(e,a,"f").value="1",m(e,a,"f").style.backgroundSize="100% 100%",m(e,f,"f").value=1,m(e,s,"f").setAttribute("aria-valuemax","1"),m(e,s,"f").setAttribute("aria-hidden","false")):m(e,r,"f").getOptions().live.showProgress||m(e,s,"f").setAttribute("aria-hidden","true");else{m(e,a,"f").setAttribute("max","".concat(t.duration));var n=m(e,r,"f").isMedia()?t.currentTime:t.duration-t.currentTime;m(e,a,"f").value=n.toString(),m(e,s,"f").setAttribute("aria-valuemax",t.duration.toString())}},n=0,i=m(this,r,"f").getOptions().progress.duration||0,E=(0,g.isAudio)(m(this,r,"f").getElement());m(this,c,"f").media.loadedmetadata=t.bind(this),m(this,c,"f").controls.controlschanged=t.bind(this),m(this,c,"f").media.progress=function(t){var n=t.target;if(n.duration===1/0||m(e,r,"f").getElement().getAttribute("op-live__enabled"))m(e,r,"f").getElement().getAttribute("op-dvr__enabled")||"false"!==m(e,s,"f").getAttribute("aria-hidden")||m(e,r,"f").getOptions().live.showProgress||m(e,s,"f").setAttribute("aria-hidden","true");else if(n.duration>0)for(var i=0,a=n.buffered.length;i<a;i++)if(n.buffered.start(n.buffered.length-1-i)<n.currentTime){m(e,o,"f").value=n.buffered.end(n.buffered.length-1-i)/n.duration*100;break}},m(this,c,"f").media.waiting=function(){E&&!m(e,a,"f").classList.contains("loading")&&m(e,a,"f").classList.add("loading"),E&&m(e,a,"f").classList.contains("error")&&m(e,a,"f").classList.remove("error")},m(this,c,"f").media.playererror=function(){E&&!m(e,a,"f").classList.contains("error")&&m(e,a,"f").classList.add("error"),E&&m(e,a,"f").classList.contains("loading")&&m(e,a,"f").classList.remove("loading")},m(this,c,"f").media.pause=function(){var t=m(e,r,"f").activeElement();if(t.duration!==1/0&&!m(e,r,"f").getElement().getAttribute("op-live__enabled")){var n=t.currentTime;m(e,s,"f").setAttribute("aria-valuenow",n.toString()),m(e,s,"f").setAttribute("aria-valuetext",(0,b.formatTime)(n))}},m(this,c,"f").media.play=function(){E&&m(e,a,"f").classList.contains("loading")&&m(e,a,"f").classList.remove("loading"),E&&m(e,a,"f").classList.contains("error")&&m(e,a,"f").classList.remove("error"),m(e,r,"f").activeElement().duration===1/0||m(e,r,"f").getElement().getAttribute("op-live__enabled")||(m(e,s,"f").removeAttribute("aria-valuenow"),m(e,s,"f").removeAttribute("aria-valuetext"))},m(this,c,"f").media.playing=function(){E&&m(e,a,"f").classList.contains("loading")&&m(e,a,"f").classList.remove("loading"),E&&m(e,a,"f").classList.contains("error")&&m(e,a,"f").classList.remove("error")},m(this,c,"f").media.timeupdate=function(){var t=m(e,r,"f").activeElement();if(t.duration===1/0||m(e,r,"f").getElement().getAttribute("op-live__enabled")&&!m(e,r,"f").getElement().getAttribute("op-dvr__enabled"))m(e,r,"f").getElement().getAttribute("op-dvr__enabled")||"false"!==m(e,s,"f").getAttribute("aria-hidden")||m(e,r,"f").getOptions().live.showProgress||m(e,s,"f").setAttribute("aria-hidden","true");else{m(e,a,"f").getAttribute("max")&&"0"!==m(e,a,"f").getAttribute("max")&&parseFloat(m(e,a,"f").getAttribute("max")||"-1")===t.duration||(m(e,a,"f").setAttribute("max","".concat(t.duration)),m(e,s,"f").setAttribute("aria-hidden","false"));var o=m(e,r,"f").isMedia()?t.currentTime:t.duration-t.currentTime+1>=100?100:t.duration-t.currentTime+1,l=parseFloat(m(e,a,"f").min),c=parseFloat(m(e,a,"f").max);m(e,a,"f").value=o.toString(),m(e,a,"f").style.backgroundSize="".concat(100*(o-l)/(c-l),"% 100%"),m(e,f,"f").value=t.duration<=0||isNaN(t.duration)||!isFinite(t.duration)?i:o/t.duration*100,m(e,r,"f").getElement().getAttribute("op-dvr__enabled")&&Math.floor(m(e,f,"f").value)>=99&&(n=t.currentTime,m(e,s,"f").setAttribute("aria-hidden","false"))}},m(this,c,"f").media.durationchange=function(){var t=m(e,r,"f").activeElement(),n=m(e,r,"f").isMedia()?t.currentTime:t.duration-t.currentTime;m(e,a,"f").setAttribute("max","".concat(t.duration)),m(e,s,"f").setAttribute("aria-valuemax",t.duration.toString()),m(e,f,"f").value=t.duration<=0||isNaN(t.duration)||!isFinite(t.duration)?i:n/t.duration*100},m(this,c,"f").media.ended=function(){m(e,a,"f").style.backgroundSize="0% 100%",m(e,a,"f").setAttribute("max","0"),m(e,o,"f").value=0,m(e,f,"f").value=0};var _=function(t){if(!(0,g.hasClass)(m(e,a,"f"),"op-progress--pressed")){var s=t.target;m(e,a,"f").classList.add(".op-progress--pressed");var o=m(e,r,"f").activeElement(),l=parseFloat(s.min),c=parseFloat(s.max),u=parseFloat(s.value);m(e,a,"f").style.backgroundSize="".concat(100*(u-l)/(c-l),"% 100%"),m(e,f,"f").value=o.duration<=0||isNaN(o.duration)||!isFinite(o.duration)?i:u/o.duration*100,m(e,r,"f").getElement().getAttribute("op-dvr__enabled")?o.currentTime=Math.round(m(e,f,"f").value)>=99?n:u:o.currentTime=u,m(e,a,"f").classList.remove(".op-progress--pressed")}},w=function(t){var n=m(e,r,"f").activeElement();1!==t.which&&0!==t.which||!m(e,r,"f").isMedia()||n.paused||n.play().then((function(){n.pause(),v(e,u,!0,"f")}))},k=function(){var t=m(e,r,"f").activeElement();!0===m(e,u,"f")&&m(e,r,"f").isMedia()&&t.paused&&(t.play(),v(e,u,!1,"f"))};m(this,c,"f").slider.input=_.bind(this),m(this,c,"f").slider.change=_.bind(this),m(this,c,"f").slider.mousedown=w.bind(this),m(this,c,"f").slider.mouseup=k.bind(this),m(this,c,"f").slider.touchstart=function(t){var n=m(e,r,"f").activeElement();if(n.duration===1/0)return!0;var i=t.originalEvent?t.originalEvent.changedTouches:t.changedTouches,o=((i?i[0].pageX:t.pageX)-(0,g.offset)(m(e,s,"f")).left)/m(e,s,"f").offsetWidth*n.duration;m(e,a,"f").value=o.toString(),_(t),w(t)}.bind(this),m(this,c,"f").slider.touchend=k.bind(this),y.IS_IOS||y.IS_ANDROID||(m(this,c,"f").container.mousemove=function(t){var n=m(e,r,"f").activeElement();if(n.duration===1/0||m(e,r,"f").isAd())return!0;var i=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,o=i-(0,g.offset)(m(e,s,"f")).left,f=m(e,l,"f").offsetWidth/2,c=o/m(e,s,"f").offsetWidth,u=c*n.duration,d=m(e,r,"f").getContainer(),h=d.offsetWidth-m(e,l,"f").offsetWidth;o<=0||i-(0,g.offset)(d).left<=f?o=0:i-(0,g.offset)(d).left>=h?o=h-(0,g.offset)(m(e,a,"f")).left-10:o-=f,c>=0&&c<=1?m(e,l,"f").classList.add("op-controls__tooltip--visible"):m(e,l,"f").classList.remove("op-controls__tooltip--visible"),m(e,l,"f").style.left="".concat(o,"px"),m(e,l,"f").innerHTML=isNaN(u)?"00:00":(0,b.formatTime)(u)},m(this,c,"f").global.mousemove=function(t){t.target.closest(".op-controls__progress")&&!m(e,r,"f").isAd()||m(e,l,"f").classList.remove("op-controls__tooltip--visible")}),Object.keys(m(this,c,"f").media).forEach((function(t){m(e,r,"f").getElement().addEventListener(t,m(e,c,"f").media[t],y.EVENT_OPTIONS)})),Object.keys(m(this,c,"f").slider).forEach((function(t){m(e,a,"f").addEventListener(t,m(e,c,"f").slider[t],y.EVENT_OPTIONS)})),m(this,s,"f").addEventListener("keydown",m(this,r,"f").getEvents().keydown,y.EVENT_OPTIONS),m(this,s,"f").addEventListener("mousemove",m(this,c,"f").container.mousemove,y.EVENT_OPTIONS),document.addEventListener("mousemove",m(this,c,"f").global.mousemove,y.EVENT_OPTIONS),m(this,r,"f").getContainer().addEventListener("keydown",this._keydownEvent,y.EVENT_OPTIONS),m(this,r,"f").getControls().getContainer().addEventListener("controlschanged",m(this,c,"f").controls.controlschanged,y.EVENT_OPTIONS),m(this,r,"f").getControls().getLayer(m(this,p,"f")).appendChild(m(this,s,"f"))}},{key:"destroy",value:function(){var e=this;Object.keys(m(this,c,"f")).forEach((function(t){m(e,r,"f").getElement().removeEventListener(t,m(e,c,"f")[t])})),Object.keys(m(this,c,"f").slider).forEach((function(t){m(e,a,"f").removeEventListener(t,m(e,c,"f").slider[t])})),m(this,s,"f").removeEventListener("keydown",m(this,r,"f").getEvents().keydown),m(this,s,"f").removeEventListener("mousemove",m(this,c,"f").container.mousemove),document.removeEventListener("mousemove",m(this,c,"f").global.mousemove),m(this,r,"f").getContainer().removeEventListener("keydown",this._keydownEvent),m(this,r,"f").getControls().getContainer().removeEventListener("controlschanged",m(this,c,"f").controls.controlschanged),(0,g.removeElement)(m(this,o,"f")),(0,g.removeElement)(m(this,f,"f")),(0,g.removeElement)(m(this,a,"f")),y.IS_IOS||y.IS_ANDROID||(0,g.removeElement)(m(this,l,"f")),(0,g.removeElement)(m(this,s,"f"))}},{key:"_keydownEvent",value:function(e){var t=m(this,r,"f").activeElement(),n=m(this,r,"f").isAd(),i=e.which||e.keyCode||0;if(!n&&i>=48&&i<=57&&t.duration!==1/0){for(var s=0,a=48;a<=57;a++)a<i&&s++;t.currentTime=t.duration*(.1*s),e.preventDefault(),e.stopPropagation()}}}])&&i(t.prototype,n),E&&i(t,E),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,t.default=E},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s,a,o,f,l,c,u,d,h,p=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),y=n(3),g=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,void 0),a.set(this,{}),o.set(this,void 0),f.set(this,void 0),l.set(this,{global:{},media:{}}),c.set(this,""),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p(this,s,t,"f"),p(this,u,t.getOptions().labels,"f"),p(this,d,n,"f"),p(this,h,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,g;return t=e,(n=[{key:"create",value:function(){var e=this;p(this,o,document.createElement("button"),"f"),v(this,o,"f").className="op-controls__settings op-control__".concat(v(this,d,"f")),v(this,o,"f").tabIndex=0,v(this,o,"f").title=v(this,u,"f").settings,v(this,o,"f").setAttribute("aria-controls",v(this,s,"f").id),v(this,o,"f").setAttribute("aria-pressed","false"),v(this,o,"f").setAttribute("aria-label",v(this,u,"f").settings),v(this,o,"f").innerHTML='<span class="op-sr">'.concat(v(this,u,"f").settings,"</span>"),p(this,f,document.createElement("div"),"f"),v(this,f,"f").className="op-settings",v(this,f,"f").setAttribute("aria-hidden","true"),v(this,f,"f").innerHTML='<div class="op-settings__menu" role="menu"></div>',this.clickEvent=function(){v(e,o,"f").setAttribute("aria-pressed","true");for(var t=v(e,s,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==v(e,f,"f")&&t[n].setAttribute("aria-hidden","true");v(e,f,"f").setAttribute("aria-hidden","false"===v(e,f,"f").getAttribute("aria-hidden")?"true":"false")},this.hideEvent=function(){var t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((function(){v(e,f,"f").innerHTML=v(e,c,"f"),v(e,f,"f").setAttribute("aria-hidden","true")})))},this.removeEvent=function(t){var n=t.detail,i=n.id,r=n.type;e.removeItem(i,r)},v(this,l,"f").media.controlshidden=this.hideEvent.bind(this),v(this,l,"f").media.settingremoved=this.removeEvent.bind(this),v(this,l,"f").media.play=this.hideEvent.bind(this),v(this,l,"f").media.pause=this.hideEvent.bind(this),v(this,s,"f").getContainer().addEventListener("keydown",this._keydownEvent,m.EVENT_OPTIONS),this.clickEvent=this.clickEvent.bind(this),this.hideEvent=this.hideEvent.bind(this),v(this,l,"f").global.click=function(t){t.target.closest("#".concat(v(e,s,"f").id))&&(0,y.hasClass)(t.target,"op-speed__option")&&(v(e,s,"f").getMedia().playbackRate=parseFloat(t.target.getAttribute("data-value").replace("speed-","")))},v(this,l,"f").global.resize=this.hideEvent.bind(this),v(this,o,"f").addEventListener("click",this.clickEvent,m.EVENT_OPTIONS),Object.keys(v(this,l,"f")).forEach((function(t){v(e,s,"f").getElement().addEventListener(t,v(e,l,"f").media[t],m.EVENT_OPTIONS)})),document.addEventListener("click",v(this,l,"f").global.click,m.EVENT_OPTIONS),document.addEventListener("keydown",v(this,l,"f").global.click,m.EVENT_OPTIONS),"undefined"!=typeof window&&window.addEventListener("resize",v(this,l,"f").global.resize,m.EVENT_OPTIONS),v(this,s,"f").getControls().getLayer(v(this,h,"f")).appendChild(v(this,o,"f")),v(this,s,"f").getContainer().appendChild(v(this,f,"f"))}},{key:"destroy",value:function(){var e=this;v(this,o,"f").removeEventListener("click",this.clickEvent),Object.keys(v(this,l,"f")).forEach((function(t){v(e,s,"f").getElement().removeEventListener(t,v(e,l,"f").media[t])})),document.removeEventListener("click",v(this,l,"f").global.click),document.removeEventListener("keydown",v(this,l,"f").global.click),"undefined"!=typeof window&&window.removeEventListener("resize",v(this,l,"f").global.resize),void 0!==v(this,l,"f").global["settings.submenu"]&&(document.removeEventListener("click",v(this,l,"f").global["settings.submenu"]),v(this,s,"f").getElement().removeEventListener("controlshidden",this.hideEvent)),v(this,s,"f").getContainer().removeEventListener("keydown",this._keydownEvent),(0,y.removeElement)(v(this,f,"f")),(0,y.removeElement)(v(this,o,"f"))}},{key:"addSettings",value:function(){var e=v(this,s,"f").getMedia(),t=1;return v(this,s,"f")&&e&&(t=e.defaultPlaybackRate!==e.playbackRate?e.playbackRate:e.defaultPlaybackRate),{className:"op-speed__option",default:t.toString(),key:"speed",name:v(this,u,"f").speed,subitems:[{key:"0.25",label:"0.25"},{key:"0.5",label:"0.5"},{key:"0.75",label:"0.75"},{key:"1",label:v(this,u,"f").speedNormal},{key:"1.25",label:"1.25"},{key:"1.5",label:"1.5"},{key:"2",label:"2"}]}}},{key:"addItem",value:function(e,t,n,r,o){var u=this,d=document.createElement("div");d.className="op-settings__menu-item",d.tabIndex=0,d.setAttribute("role","menuitemradio"),d.innerHTML='<div class="op-settings__menu-label" data-value="'.concat(t,"-").concat(n,'">').concat(e,"</div>");var h=r?r.find((function(e){return e.key===n})):null;h&&(d.innerHTML+='<div class="op-settings__menu-content" tabindex="0">'.concat(h.label,"</div>"));var g=v(this,f,"f").querySelector(".op-settings__menu");if(g&&g.appendChild(d),p(this,c,v(this,f,"f").innerHTML,"f"),r){var b='\n                <div class="op-settings__header">\n                    <button type="button" class="op-settings__back" tabindex="0">'.concat(e,'</button>\n                </div>\n                <div class="op-settings__menu" role="menu" id="menu-item-').concat(t,'">\n                    ').concat(r.map((function(e){return'\n                    <div class="op-settings__submenu-item" role="menuitemradio"\n                        aria-checked="'.concat(n===e.key?"true":"false",'">\n                        <div class="op-settings__submenu-label ').concat(o||"",'" tabindex="0" data-value="').concat(t,"-").concat(e.key,'">').concat(e.label,"</div>\n                    </div>")})).join(""),"\n                </div>");v(this,a,"f")[t]=b}v(this,l,"f").global["settings.submenu"]=function(e){var r=e.target;if(r.closest("#".concat(v(u,s,"f").id))){if((0,y.hasClass)(r,"op-settings__back"))v(u,f,"f").classList.add("op-settings--sliding"),setTimeout((function(){v(u,f,"f").innerHTML=v(u,c,"f"),v(u,f,"f").classList.remove("op-settings--sliding")}),100);else if((0,y.hasClass)(r,"op-settings__menu-content")){var o=r.parentElement?r.parentElement.querySelector(".op-settings__menu-label"):null,l=o?o.getAttribute("data-value"):null,d=l?l.split("-"):[];if(d.length>0){d.pop();var h=d.join("-").replace(/^\-|\-$/,"");void 0!==i(v(u,a,"f")[h])&&(v(u,f,"f").classList.add("op-settings--sliding"),setTimeout((function(){v(u,f,"f").innerHTML=v(u,a,"f")[h],v(u,f,"f").classList.remove("op-settings--sliding")}),100))}}else if((0,y.hasClass)(r,"op-settings__submenu-label")){var m=r.getAttribute("data-value"),g=m?m.replace("".concat(t,"-"),""):"",b=r.innerText,E=v(u,f,"f").querySelector("#menu-item-".concat(t," .op-settings__submenu-item[aria-checked=true]"));E&&(E.setAttribute("aria-checked","false"),r.parentElement&&r.parentElement.setAttribute("aria-checked","true"),v(u,a,"f")[t]=v(u,f,"f").innerHTML,v(u,f,"f").classList.add("op-settings--sliding"),setTimeout((function(){v(u,f,"f").innerHTML=v(u,c,"f");var e=v(u,f,"f").querySelector('.op-settings__menu-label[data-value="'.concat(t,"-").concat(n,'"]'));e&&(e.setAttribute("data-value","".concat(m)),e.nextElementSibling&&(e.nextElementSibling.innerHTML=b)),n=g,p(u,c,v(u,f,"f").innerHTML,"f"),v(u,f,"f").classList.remove("op-settings--sliding")}),100))}}else u.hideEvent()},document.addEventListener("click",v(this,l,"f").global["settings.submenu"],m.EVENT_OPTIONS),v(this,s,"f").getElement().addEventListener("controlshidden",this.hideEvent,m.EVENT_OPTIONS)}},{key:"removeItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=v(this,s,"f").getElement().querySelector(".op-settings__submenu-label[data-value=".concat(t,"-").concat(e,"]"));if(i&&(0,y.removeElement)(i),v(this,s,"f").getElement().querySelectorAll(".op-settings__submenu-label[data-value^=".concat(t,"]")).length<n){delete v(this,a,"f")[t];var r=v(this,s,"f").getElement().querySelector(".op-settings__menu-label[data-value^=".concat(t,"]")),o=r?r.closest(".op-settings__menu-item"):null;o&&(0,y.removeElement)(o)}}},{key:"_keydownEvent",value:function(e){var t,n,i,r,a=e.which||e.keyCode||0,o=v(this,s,"f").isAd(),f=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__settings"),c=(null===(n=null===document||void 0===document?void 0:document.activeElement)||void 0===n?void 0:n.classList.contains("op-settings__menu-content"))||(null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.classList.contains("op-settings__back"))||(null===(r=null===document||void 0===document?void 0:document.activeElement)||void 0===r?void 0:r.classList.contains("op-settings__submenu-label"));o||(!f||13!==a&&32!==a?!c||13!==a&&32!==a||(v(this,l,"f").global["settings.submenu"](e),e.preventDefault(),e.stopPropagation()):(this.clickEvent(),e.preventDefault(),e.stopPropagation()))}}])&&r(t.prototype,n),g&&r(t,g),e}();s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=g},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c,u,d,h=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var v=n(2),m=n(3),y=n(53),g=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),f.set(this,void 0),l.set(this,{controls:{},media:{}}),c.set(this,void 0),u.set(this,void 0),d.set(this,void 0),h(this,r,t,"f"),h(this,c,t.getOptions().labels,"f"),h(this,u,n,"f"),h(this,d,i,"f"),this}var t,n,g;return t=e,(n=[{key:"create",value:function(){var e=this;h(this,s,document.createElement("time"),"f"),p(this,s,"f").className="op-controls__current",p(this,s,"f").setAttribute("role","timer"),p(this,s,"f").setAttribute("aria-live","off"),p(this,s,"f").setAttribute("aria-hidden","false"),p(this,s,"f").innerText="0:00";var t=p(this,r,"f").getOptions().progress.showCurrentTimeOnly;t||(h(this,a,document.createElement("span"),"f"),p(this,a,"f").className="op-controls__time-delimiter",p(this,a,"f").setAttribute("aria-hidden","false"),p(this,a,"f").innerText="/",h(this,o,document.createElement("time"),"f"),p(this,o,"f").className="op-controls__duration",p(this,o,"f").setAttribute("aria-hidden","false"),p(this,o,"f").innerText=(0,y.formatTime)(p(this,r,"f").getOptions().progress.duration));var n=p(this,r,"f").getControls().getLayer(p(this,d,"f"));h(this,f,document.createElement("span"),"f"),p(this,f,"f").className="op-controls-time op-control__".concat(p(this,u,"f")),p(this,f,"f").appendChild(p(this,s,"f")),t||(p(this,f,"f").appendChild(p(this,a,"f")),p(this,f,"f").appendChild(p(this,o,"f"))),n.appendChild(p(this,f,"f"));var i=function(){var n=p(e,r,"f").activeElement();if(n.duration===1/0||p(e,r,"f").getElement().getAttribute("op-live__enabled"))t||p(e,o,"f").setAttribute("aria-hidden","true"),p(e,a,"f").setAttribute("aria-hidden","true");else{if(!t){var i=isNaN(n.duration)?p(e,r,"f").getOptions().progress.duration:n.duration;p(e,o,"f").innerText=(0,y.formatTime)(i)}p(e,s,"f").innerText=(0,y.formatTime)(n.currentTime)}};p(this,l,"f").media.loadedmetadata=i.bind(this),p(this,l,"f").controls.controlschanged=i.bind(this);var m=p(this,r,"f").getOptions().live.showLabel;p(this,l,"f").media.timeupdate=function(){var n=p(e,r,"f").activeElement();if(n.duration===1/0||p(e,r,"f").getElement().getAttribute("op-live__enabled")||p(e,r,"f").getElement().getAttribute("op-dvr__enabled"))p(e,r,"f").getElement().getAttribute("op-dvr__enabled")?(t||(p(e,o,"f").setAttribute("aria-hidden","true"),p(e,a,"f").setAttribute("aria-hidden","true")),p(e,s,"f").innerText=(0,y.formatTime)(n.currentTime)):t||!p(e,r,"f").getElement().getAttribute("op-dvr__enabled")&&"false"===p(e,o,"f").getAttribute("aria-hidden")?(t||(p(e,o,"f").setAttribute("aria-hidden","true"),p(e,a,"f").setAttribute("aria-hidden","true")),p(e,s,"f").innerText=m?p(e,c,"f").live:(0,y.formatTime)(n.currentTime)):p(e,s,"f").innerText=m?p(e,c,"f").live:(0,y.formatTime)(n.currentTime);else{var i=(0,y.formatTime)(n.duration);t||isNaN(n.duration)||i===p(e,o,"f").innerText?(t||i!==p(e,o,"f").innerText)&&(p(e,s,"f").innerText=m?p(e,c,"f").live:(0,y.formatTime)(n.currentTime)):(p(e,o,"f").innerText=i,p(e,o,"f").setAttribute("aria-hidden","false"),p(e,a,"f").setAttribute("aria-hidden","false")),p(e,s,"f").innerText=(0,y.formatTime)(n.currentTime)}},p(this,l,"f").media.ended=function(){var n=p(e,r,"f").activeElement(),i=isNaN(n.duration)?p(e,r,"f").getOptions().progress.duration:n.duration;!t&&p(e,r,"f").isMedia()&&(p(e,o,"f").innerText=(0,y.formatTime)(i))},Object.keys(p(this,l,"f").media).forEach((function(t){p(e,r,"f").getElement().addEventListener(t,p(e,l,"f").media[t],v.EVENT_OPTIONS)})),p(this,r,"f").getControls().getContainer().addEventListener("controlschanged",p(this,l,"f").controls.controlschanged,v.EVENT_OPTIONS)}},{key:"destroy",value:function(){var e=this;Object.keys(p(this,l,"f").media).forEach((function(t){p(e,r,"f").getElement().removeEventListener(t,p(e,l,"f").media[t])})),p(this,r,"f").getControls().getContainer().removeEventListener("controlschanged",p(this,l,"f").controls.controlschanged),(0,m.removeElement)(p(this,s,"f")),p(this,r,"f").getOptions().progress.showCurrentTimeOnly||((0,m.removeElement)(p(this,a,"f")),(0,m.removeElement)(p(this,o,"f"))),(0,m.removeElement)(p(this,f,"f"))}}])&&i(t.prototype,n),g&&i(t,g),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,t.default=g},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c,u,d,h,p=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),y=n(6),g=n(3),b=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),f.set(this,void 0),l.set(this,{button:{},media:{},slider:{}}),c.set(this,void 0),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p(this,r,t,"f"),p(this,u,t.getOptions().labels,"f"),p(this,c,v(this,r,"f").getMedia().volume,"f"),p(this,d,n,"f"),p(this,h,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,b;return t=e,(n=[{key:"create",value:function(){var e=this;p(this,a,document.createElement("div"),"f"),v(this,a,"f").className="op-controls__volume op-control__".concat(v(this,d,"f")),v(this,a,"f").tabIndex=0,v(this,a,"f").setAttribute("aria-valuemin","0"),v(this,a,"f").setAttribute("aria-valuemax","100"),v(this,a,"f").setAttribute("aria-valuenow","".concat(v(this,c,"f"))),v(this,a,"f").setAttribute("aria-valuetext","".concat(v(this,u,"f").volume,": ").concat(v(this,c,"f"))),v(this,a,"f").setAttribute("aria-orientation","vertical"),v(this,a,"f").setAttribute("aria-label",v(this,u,"f").volumeSlider),p(this,f,document.createElement("input"),"f"),v(this,f,"f").type="range",v(this,f,"f").className="op-controls__volume--input",v(this,f,"f").tabIndex=-1,v(this,f,"f").value=v(this,r,"f").getMedia().volume.toString(),v(this,f,"f").setAttribute("min","0"),v(this,f,"f").setAttribute("max","1"),v(this,f,"f").setAttribute("step","0.1"),v(this,f,"f").setAttribute("aria-label",v(this,u,"f").volumeControl),p(this,o,document.createElement("progress"),"f"),v(this,o,"f").className="op-controls__volume--display",v(this,o,"f").setAttribute("max","10"),v(this,o,"f").setAttribute("role","presentation"),v(this,o,"f").value=10*v(this,r,"f").getMedia().volume,v(this,a,"f").appendChild(v(this,f,"f")),v(this,a,"f").appendChild(v(this,o,"f")),p(this,s,document.createElement("button"),"f"),v(this,s,"f").type="button",v(this,s,"f").className="op-controls__mute op-control__".concat(v(this,d,"f")),v(this,s,"f").tabIndex=0,v(this,s,"f").title=v(this,u,"f").mute,v(this,s,"f").setAttribute("aria-controls",v(this,r,"f").id),v(this,s,"f").setAttribute("aria-pressed","false"),v(this,s,"f").setAttribute("aria-label",v(this,u,"f").mute),v(this,s,"f").innerHTML='<span class="op-sr">'.concat(v(this,u,"f").mute,"</span>");var t=function(t){var n=v(e,r,"f").activeElement(),i=parseFloat(t.target.value);n.volume=i,n.muted=0===n.volume,p(e,c,i,"f");var s=v(e,r,"f").getContainer().querySelector(".op-player__unmute");!n.muted&&s&&(0,g.removeElement)(s);var a=(0,y.addEvent)("volumechange");v(e,r,"f").getElement().dispatchEvent(a)};if(v(this,l,"f").media.volumechange=function(){var t,n,i,l=v(e,r,"f").activeElement();n=1*(t=l).volume,i=Math.floor(100*n),v(e,f,"f").value="".concat(t.volume),v(e,o,"f").value=10*n,v(e,a,"f").setAttribute("aria-valuenow","".concat(i)),v(e,a,"f").setAttribute("aria-valuetext","".concat(v(e,u,"f").volume,": ").concat(i)),function(t){var n=t.volume;n<=.5&&n>0?(v(e,s,"f").classList.remove("op-controls__mute--muted"),v(e,s,"f").classList.add("op-controls__mute--half")):0===n?(v(e,s,"f").classList.add("op-controls__mute--muted"),v(e,s,"f").classList.remove("op-controls__mute--half")):(v(e,s,"f").classList.remove("op-controls__mute--muted"),v(e,s,"f").classList.remove("op-controls__mute--half"))}(l)},v(this,l,"f").media.timeupdate=function(){(0,g.isAudio)(v(e,r,"f").getElement())&&(v(e,r,"f").activeElement().duration===1/0||v(e,r,"f").getElement().getAttribute("op-live__enabled"))},v(this,l,"f").media.loadedmetadata=function(){var t=v(e,r,"f").activeElement();t.muted&&(t.volume=0);var n=(0,y.addEvent)("volumechange");v(e,r,"f").getElement().dispatchEvent(n)},v(this,l,"f").slider.input=t.bind(this),v(this,l,"f").slider.change=t.bind(this),v(this,l,"f").button.click=function(){v(e,s,"f").setAttribute("aria-pressed","true");var t=v(e,r,"f").activeElement();t.muted=!t.muted,t.muted?(t.volume=0,v(e,s,"f").title=v(e,u,"f").unmute,v(e,s,"f").setAttribute("aria-label",v(e,u,"f").unmute)):(t.volume=v(e,c,"f"),v(e,s,"f").title=v(e,u,"f").mute,v(e,s,"f").setAttribute("aria-label",v(e,u,"f").mute));var n=(0,y.addEvent)("volumechange");v(e,r,"f").getElement().dispatchEvent(n)},v(this,s,"f").addEventListener("click",v(this,l,"f").button.click,m.EVENT_OPTIONS),Object.keys(v(this,l,"f").media).forEach((function(t){v(e,r,"f").getElement().addEventListener(t,v(e,l,"f").media[t],m.EVENT_OPTIONS)})),Object.keys(v(this,l,"f").slider).forEach((function(t){v(e,f,"f").addEventListener(t,v(e,l,"f").slider[t],m.EVENT_OPTIONS)})),v(this,r,"f").getContainer().addEventListener("keydown",this._keydownEvent,m.EVENT_OPTIONS),!m.IS_ANDROID&&!m.IS_IOS){var n=v(this,r,"f").getControls().getLayer(v(this,h,"f"));n.appendChild(v(this,s,"f")),n.appendChild(v(this,a,"f"))}}},{key:"destroy",value:function(){var e=this;v(this,s,"f").removeEventListener("click",v(this,l,"f").button.click),Object.keys(v(this,l,"f").media).forEach((function(t){v(e,r,"f").getElement().removeEventListener(t,v(e,l,"f").media[t])})),Object.keys(v(this,l,"f").slider).forEach((function(t){v(e,f,"f").removeEventListener(t,v(e,l,"f").slider[t])})),v(this,r,"f").getContainer().removeEventListener("keydown",this._keydownEvent),(0,g.removeElement)(v(this,f,"f")),(0,g.removeElement)(v(this,o,"f")),(0,g.removeElement)(v(this,a,"f"))}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0,i=v(this,r,"f").activeElement();!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__mute"))||13!==n&&32!==n||(i.muted=!i.muted,i.volume=i.muted?0:v(this,c,"f"),e.preventDefault(),e.stopPropagation())}}])&&i(t.prototype,n),b&&i(t,b),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=b},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,o,f,l,c,u,d,h,p,v=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),m=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&v(t,e,n);return m(t,e),t},g=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},b=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},E=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=E(n(154)),w=E(n(155)),k=E(n(156)),T=E(n(157)),A=y(n(14)),O=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return r(this,e),a.set(this,void 0),o.set(this,void 0),f.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d.set(this,!1),h.set(this,{media:{},optionsKey:{},rules:[]}),p.set(this,void 0),g(this,a,t,"f"),g(this,c,n,"f"),g(this,f,this._getMediaFiles(),"f"),g(this,h,s,"f"),g(this,u,i,"f"),this}var t,n,v;return t=e,(n=[{key:"canPlayType",value:function(e){return b(this,o,"f").canPlayType(e)}},{key:"load",value:function(){var e=this;if(!b(this,f,"f").length)throw new TypeError("Media not set");b(this,o,"f")&&"function"==typeof b(this,o,"f").destroy&&(1===b(this,f,"f").length&&b(this,f,"f")[0].src===b(this,o,"f").media.src||b(this,o,"f").destroy()),b(this,f,"f").some((function(t){try{g(e,o,e._invoke(t),"f")}catch(n){g(e,o,new T.default(b(e,a,"f"),t),"f")}return b(e,o,"f").canPlayType(t.type)}));try{if(null===b(this,o,"f"))throw new TypeError("Media cannot be played with any valid media type");return b(this,o,"f").promise.then((function(){b(e,o,"f").load()}))}catch(e){throw b(this,o,"f").destroy(),e}}},{key:"play",value:function(){var e=this;if(!this.loaded){this.loaded=!0;var t=this.load();if(t)return this.loaded=!0,t.then((function(){b(e,o,"f").play()}))}return g(this,l,new Promise((function(e){e({})})).then(b(this,o,"f").promise.then(b(this,o,"f").play())),"f"),b(this,l,"f")}},{key:"pause",value:function(){var e=this;void 0!==b(this,l,"f")?b(this,l,"f").then((function(){b(e,o,"f").pause()})):b(this,o,"f").pause()}},{key:"destroy",value:function(){b(this,o,"f").destroy()}},{key:"src",get:function(){return b(this,f,"f")},set:function(e){var t=this;"string"==typeof e?b(this,f,"f").push({src:e,type:A.predictType(e)}):Array.isArray(e)?g(this,f,e,"f"):"object"===i(e)&&b(this,f,"f").push(e),b(this,f,"f").some((function(e){return t.canPlayType(e.type)})),b(this,a,"f").src&&b(this,a,"f").setAttribute("data-op-file",b(this,f,"f")[0].src),b(this,a,"f").src=b(this,f,"f")[0].src,b(this,o,"f").src=b(this,f,"f")[0],g(this,p,b(this,f,"f")[0],"f")}},{key:"current",get:function(){return b(this,p,"f")}},{key:"mediaFiles",get:function(){return b(this,f,"f")},set:function(e){g(this,f,e,"f")}},{key:"volume",get:function(){return b(this,o,"f")?b(this,o,"f").volume:b(this,a,"f").volume},set:function(e){b(this,o,"f")&&(b(this,o,"f").volume=e)}},{key:"muted",get:function(){return b(this,o,"f")?b(this,o,"f").muted:b(this,a,"f").muted},set:function(e){b(this,o,"f")&&(b(this,o,"f").muted=e)}},{key:"playbackRate",get:function(){return b(this,o,"f")?b(this,o,"f").playbackRate:b(this,a,"f").playbackRate},set:function(e){b(this,o,"f")&&(b(this,o,"f").playbackRate=e)}},{key:"defaultPlaybackRate",get:function(){return b(this,o,"f")?b(this,o,"f").defaultPlaybackRate:b(this,a,"f").defaultPlaybackRate},set:function(e){b(this,o,"f")&&(b(this,o,"f").defaultPlaybackRate=e)}},{key:"currentTime",get:function(){return b(this,o,"f")?b(this,o,"f").currentTime:b(this,a,"f").currentTime},set:function(e){b(this,o,"f")&&(b(this,o,"f").currentTime=e)}},{key:"duration",get:function(){var e=b(this,o,"f")?b(this,o,"f").duration:b(this,a,"f").duration;return e===1/0&&b(this,a,"f").seekable&&b(this,a,"f").seekable.length?b(this,a,"f").seekable.end(0):e}},{key:"paused",get:function(){return b(this,o,"f")?b(this,o,"f").paused:b(this,a,"f").paused}},{key:"ended",get:function(){return b(this,o,"f")?b(this,o,"f").ended:b(this,a,"f").ended}},{key:"loaded",get:function(){return b(this,d,"f")},set:function(e){g(this,d,e,"f")}},{key:"level",get:function(){return b(this,o,"f")?b(this,o,"f").level:-1},set:function(e){b(this,o,"f")&&(b(this,o,"f").level=e)}},{key:"levels",get:function(){return b(this,o,"f")?b(this,o,"f").levels:[]}},{key:"instance",get:function(){return b(this,o,"f")?b(this,o,"f").instance:null}},{key:"_getMediaFiles",value:function(){var e=[],t=b(this,a,"f").querySelectorAll("source"),n=b(this,a,"f").src;n&&e.push({src:n,type:b(this,a,"f").getAttribute("type")||A.predictType(n)});for(var i=0,r=t.length;i<r;i++){var s=t[i],o=s.src;e.push({src:o,type:s.getAttribute("type")||A.predictType(o)}),0===i&&g(this,p,e[0],"f")}return e.length||e.push({src:"",type:A.predictType("")}),e}},{key:"_invoke",value:function(e){var t=this,n=b(this,a,"f").canPlayType("application/vnd.apple.mpegurl")||b(this,a,"f").canPlayType("application/x-mpegURL");g(this,p,e,"f");var i,r=!1;if(Object.keys(b(this,c,"f").controls.layers).forEach((function(e){b(t,c,"f").controls.layers[e].indexOf("levels")>-1&&(r=!0)})),Object.keys(b(this,h,"f").media).length)return b(this,h,"f").rules.forEach((function(n){var r=n(e.src);if(r){var s=b(t,h,"f").media[r],o=b(t,c,"f")[b(t,h,"f").optionsKey[r]]||void 0;i=s(b(t,a,"f"),e,b(t,u,"f"),o)}})),i?(i.create(),i):new T.default(b(this,a,"f"),e);if(A.isHlsSource(e)){if(n&&b(this,c,"f").forceNative&&!r)return new T.default(b(this,a,"f"),e);var s=b(this,c,"f")&&b(this,c,"f").hls?b(this,c,"f").hls:void 0;return new k.default(b(this,a,"f"),e,b(this,u,"f"),s)}if(A.isDashSource(e)){var o=b(this,c,"f")&&b(this,c,"f").dash?b(this,c,"f").dash:void 0;return new _.default(b(this,a,"f"),e,o)}if(A.isFlvSource(e)){var f=b(this,c,"f")&&b(this,c,"f").flv?b(this,c,"f").flv:{debug:!1,type:"flv",url:e.src};return new w.default(b(this,a,"f"),e,f)}return new T.default(b(this,a,"f"),e)}}])&&s(t.prototype,n),v&&s(t,v),e}();a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,t.default=O},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u,d,h=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),y=n(6),g=n(3),b=n(14),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(E,e);var t,n,l,v=a(E);function E(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),i=v.call(this,e,t),c.set(f(i),void 0),u.set(f(i),{}),d.set(f(i),{}),h(f(i),d,n,"f"),i.promise="undefined"==typeof dashjs?(0,g.loadScript)("https://cdn.dashjs.org/latest/dash.all.min.js"):new Promise((function(e){e({})})),i._assign=i._assign.bind(f(i)),i.promise.then((function(){h(f(i),c,dashjs.MediaPlayer().create(),"f"),i.instance=p(f(i),c,"f")})),o(i,f(i))}return t=E,(n=[{key:"canPlayType",value:function(e){return m.HAS_MSE&&"application/dash+xml"===e}},{key:"load",value:function(){var e=this;this._preparePlayer(),p(this,c,"f").attachSource(this.media.src);var t=(0,y.addEvent)("loadedmetadata");this.element.dispatchEvent(t),p(this,u,"f")||(h(this,u,dashjs.MediaPlayer.events,"f"),Object.keys(p(this,u,"f")).forEach((function(t){p(e,c,"f").on(p(e,u,"f")[t],e._assign)})))}},{key:"destroy",value:function(){this._revoke()}},{key:"src",set:function(e){var t=this;(0,b.isDashSource)(e)&&(this._revoke(),h(this,c,dashjs.MediaPlayer().create(),"f"),this._preparePlayer(),p(this,c,"f").attachSource(e.src),h(this,u,dashjs.MediaPlayer.events,"f"),Object.keys(p(this,u,"f")).forEach((function(e){p(t,c,"f").on(p(t,u,"f")[e],t._assign)})))}},{key:"levels",get:function(){var e=[];if(p(this,c,"f")){var t=p(this,c,"f").getBitrateInfoListFor("video");t.length&&t.forEach((function(n){if(t[n]){var i=t[n],r=i.height,s=i.name,a={height:r,id:"".concat(n),label:s||null};e.push(a)}}))}return e}},{key:"level",get:function(){return p(this,c,"f")?p(this,c,"f").getQualityFor("video"):-1},set:function(e){0===e?p(this,c,"f").setAutoSwitchQuality(!0):(p(this,c,"f").setAutoSwitchQuality(!1),p(this,c,"f").setQualityFor("video",e))}},{key:"_assign",value:function(e){if("error"===e.type){var t={detail:{message:e,type:"M(PEG)-DASH"}},n=(0,y.addEvent)("playererror",t);this.element.dispatchEvent(n)}else{var i=(0,y.addEvent)(e.type,{detail:e});this.element.dispatchEvent(i)}}},{key:"_revoke",value:function(){var e=this;p(this,u,"f")&&(Object.keys(p(this,u,"f")).forEach((function(t){p(e,c,"f").off(p(e,u,"f")[t],e._assign)})),h(this,u,[],"f")),p(this,c,"f").reset()}},{key:"_preparePlayer",value:function(){void 0===p(this,c,"f").getDebug().setLogToBrowserConsole?p(this,c,"f").updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE},streaming:{fastSwitchEnabled:!0,scheduleWhilePaused:!1}}):(p(this,c,"f").getDebug().setLogToBrowserConsole(!1),p(this,c,"f").setScheduleWhilePaused(!1),p(this,c,"f").setFastSwitchEnabled(!0)),p(this,c,"f").initialize(),p(this,c,"f").attachView(this.element),p(this,c,"f").setAutoPlay(!1),p(this,d,"f")&&"object"===i(p(this,d,"f").drm)&&Object.keys(p(this,d,"f").drm).length&&(p(this,c,"f").setProtectionData(p(this,d,"f").drm),p(this,d,"f").robustnessLevel&&p(this,d,"f").robustnessLevel&&p(this,c,"f").getProtectionController().setRobustnessLevel(p(this,d,"f").robustnessLevel))}}])&&r(t.prototype,n),l&&r(t,l),E}(v(n(31)).default);c=new WeakMap,u=new WeakMap,d=new WeakMap,t.default=E},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u,d,h=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),y=n(6),g=n(3),b=n(14),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(v,e);var t,n,i,l=a(v);function v(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),i=l.call(this,e,t),c.set(f(i),void 0),u.set(f(i),{}),d.set(f(i),void 0),h(f(i),d,n,"f"),i.element=e,i.media=t,i.promise="undefined"==typeof flvjs?(0,g.loadScript)("https://cdn.jsdelivr.net/npm/flv.js@latest/dist/flv.min.js"):new Promise((function(e){e({})})),i._create=i._create.bind(f(i)),i.promise.then(i._create),o(i,f(i))}return t=v,(n=[{key:"canPlayType",value:function(e){return m.HAS_MSE&&("video/x-flv"===e||"video/flv"===e)}},{key:"load",value:function(){var e=this;p(this,c,"f").unload(),p(this,c,"f").detachMediaElement(),p(this,c,"f").attachMediaElement(this.element),p(this,c,"f").load();var t=(0,y.addEvent)("loadedmetadata");this.element.dispatchEvent(t),p(this,u,"f")||(h(this,u,flvjs.Events,"f"),Object.keys(p(this,u,"f")).forEach((function(t){p(e,c,"f").on(p(e,u,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(p(e,u,"f")[t],i)}))})))}},{key:"destroy",value:function(){this._revoke()}},{key:"src",set:function(e){(0,b.isFlvSource)(e)&&(this._revoke(),this._create())}},{key:"levels",get:function(){var e=this,t=[];return p(this,c,"f")&&p(this,c,"f").levels&&p(this,c,"f").levels.length&&Object.keys(p(this,c,"f").levels).forEach((function(n){var i=p(e,c,"f").levels[n],r={height:i.height,id:n,label:i.name||null};t.push(r)})),t}},{key:"level",get:function(){return p(this,c,"f")?p(this,c,"f").currentLevel:-1},set:function(e){p(this,c,"f").currentLevel=e}},{key:"_create",value:function(){var e,t,n,i,r=this,s=null===(e=p(this,d,"f"))||void 0===e?void 0:e.configs;null===(t=p(this,d,"f"))||void 0===t||delete t.configs,flvjs.LoggingControl.enableDebug=(null===(n=p(this,d,"f"))||void 0===n?void 0:n.debug)||!1,flvjs.LoggingControl.enableVerbose=(null===(i=p(this,d,"f"))||void 0===i?void 0:i.debug)||!1;var a=Object.assign(Object.assign({},p(this,d,"f")||{}),{type:"flv",url:this.media.src});h(this,c,flvjs.createPlayer(a,s),"f"),this.instance=p(this,c,"f"),p(this,u,"f")||(h(this,u,flvjs.Events,"f"),Object.keys(p(this,u,"f")).forEach((function(e){p(r,c,"f").on(p(r,u,"f")[e],(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r._assign(p(r,u,"f")[e],n)}))})))}},{key:"_assign",value:function(e,t){if("error"===e){var n={detail:{data:t,message:"".concat(t[0],": ").concat(t[1]," ").concat(t[2].msg),type:"FLV"}},i=(0,y.addEvent)("playererror",n);this.element.dispatchEvent(i)}else{var r=(0,y.addEvent)(e,{detail:{data:t}});this.element.dispatchEvent(r)}}},{key:"_revoke",value:function(){p(this,c,"f").destroy(),h(this,c,null,"f")}}])&&r(t.prototype,n),i&&r(t,i),v}(v(n(31)).default);c=new WeakMap,u=new WeakMap,d=new WeakMap,t.default=E},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d,h,p,v,m,y=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var E=n(2),_=n(6),w=n(3),k=n(14),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(b,e);var t,n,i,c=o(b);function b(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return r(this,b),n=c.call(this,e,t),u.set(l(n),void 0),d.set(l(n),{}),h.set(l(n),0),p.set(l(n),0),v.set(l(n),void 0),m.set(l(n),void 0),y(l(n),v,s||{},"f"),n.element=e,n.media=t,y(l(n),m,i,"f"),n.promise="undefined"==typeof Hls?(0,w.loadScript)("https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"):new Promise((function(e){e({})})),n._create=n._create.bind(l(n)),n.promise.then(n._create),f(n,l(n))}return t=b,(n=[{key:"canPlayType",value:function(e){return(0,E.SUPPORTS_HLS)()&&"application/x-mpegURL"===e}},{key:"load",value:function(){var e=this;g(this,u,"f").detachMedia(),g(this,u,"f").loadSource(this.media.src),g(this,u,"f").attachMedia(this.element);var t=(0,_.addEvent)("loadedmetadata");this.element.dispatchEvent(t),g(this,d,"f")||(y(this,d,Hls.Events,"f"),Object.keys(g(this,d,"f")).forEach((function(t){g(e,u,"f").on(g(e,d,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(g(e,d,"f")[t],i)}))})))}},{key:"destroy",value:function(){this._revoke()}},{key:"src",set:function(e){var t=this;(0,k.isHlsSource)(e)&&(this._revoke(),y(this,u,new Hls(g(this,v,"f")),"f"),g(this,u,"f").loadSource(e.src),g(this,u,"f").attachMedia(this.element),y(this,d,Hls.Events,"f"),Object.keys(g(this,d,"f")).forEach((function(e){g(t,u,"f").on(g(t,d,"f")[e],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t._assign(g(t,d,"f")[e],i)}))})))}},{key:"levels",get:function(){var e=this,t=[];return g(this,u,"f")&&g(this,u,"f").levels&&g(this,u,"f").levels.length&&Object.keys(g(this,u,"f").levels).forEach((function(n){var i=g(e,u,"f").levels[n],r={height:i.height,id:n,label:i.name||null};t.push(r)})),t}},{key:"level",get:function(){return g(this,u,"f")?g(this,u,"f").currentLevel:-1},set:function(e){g(this,u,"f").currentLevel=e}},{key:"_create",value:function(){var e=this,t=!("auto"!==this.element.preload&&!g(this,m,"f"));g(this,v,"f").autoStartLoad=t,y(this,u,new Hls(g(this,v,"f")),"f"),this.instance=g(this,u,"f"),y(this,d,Hls.Events,"f"),Object.keys(g(this,d,"f")).forEach((function(t){g(e,u,"f").on(g(e,d,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(g(e,d,"f")[t],i)}))})),t||(this.element.addEventListener("play",(function(){g(e,u,"f")&&g(e,u,"f").startLoad()}),E.EVENT_OPTIONS),this.element.addEventListener("pause",(function(){g(e,u,"f")&&g(e,u,"f").stopLoad()}),E.EVENT_OPTIONS))}},{key:"_assign",value:function(e,t){if("hlsError"===e){var n={detail:{data:t,message:t[1].details,type:"HLS"}},i=(0,_.addEvent)("playererror",n);this.element.dispatchEvent(i);var r=t[1].type,s=t[1].fatal,a=t[1];if(s)switch(r){case"mediaError":var o=(new Date).getTime();if(!g(this,h,"f")||o-g(this,h,"f")>3e3)y(this,h,(new Date).getTime(),"f"),g(this,u,"f").recoverMediaError();else if(!g(this,p,"f")||o-g(this,p,"f")>3e3)y(this,p,(new Date).getTime(),"f"),console.warn("Attempting to swap Audio Codec and recover from media error"),g(this,u,"f").swapAudioCodec(),g(this,u,"f").recoverMediaError();else{console.error("Cannot recover, last media error recovery failed");var f=(0,_.addEvent)(r,{detail:{data:a}});this.element.dispatchEvent(f)}break;case"networkError":console.error("Network error");var l=(0,_.addEvent)(r,{detail:{data:a}});this.element.dispatchEvent(l);break;default:g(this,u,"f").destroy();var c=(0,_.addEvent)(r,{detail:{data:a}});this.element.dispatchEvent(c)}else{var d=(0,_.addEvent)(r,{detail:{data:a}});this.element.dispatchEvent(d)}}else{var v=t[1];if("hlsLevelLoaded"===e&&!0===v.live){this.element.setAttribute("op-live__enabled","true");var m=(0,_.addEvent)("timeupdate");this.element.dispatchEvent(m)}else if("hlsLevelUpdated"===e&&!0===v.live&&v.totalduration>E.DVR_THRESHOLD){this.element.setAttribute("op-dvr__enabled","true");var b=(0,_.addEvent)("timeupdate");this.element.dispatchEvent(b)}else if("hlsFragParsingMetadata"===e){var w=(0,_.addEvent)("metadataready",{detail:{data:t[1]}});this.element.dispatchEvent(w)}var k=(0,_.addEvent)(e,{detail:{data:t[1]}});this.element.dispatchEvent(k)}}},{key:"_revoke",value:function(){var e=this;g(this,u,"f").stopLoad(),g(this,d,"f")&&Object.keys(g(this,d,"f")).forEach((function(t){g(e,u,"f").off(g(e,d,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(g(e,d,"f")[t],i)}))})),this.element.removeEventListener("play",(function(){g(e,u,"f")&&g(e,u,"f").startLoad()})),this.element.removeEventListener("pause",(function(){g(e,u,"f")&&g(e,u,"f").stopLoad()})),g(this,u,"f").destroy(),y(this,u,null,"f")}}])&&s(t.prototype,n),i&&s(t,i),b}(b(n(31)).default);u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,t.default=T},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u,d,h,p,v,m=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},y=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},g=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var b=n(2),E=n(6),_=n(3),w=n(14),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(g,e);var t,n,i,l=a(g);function g(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),n=l.call(this,e,t),c.set(f(n),void 0),u.set(f(n),[]),d.set(f(n),!1),h.set(f(n),0),p.set(f(n),!1),v.set(f(n),void 0),!(0,_.isAudio)(e)&&!(0,_.isVideo)(e))throw new TypeError("Native method only supports video/audio tags");return n._clearTimeout=n._clearTimeout.bind(f(n)),n._setTimeout=n._setTimeout.bind(f(n)),n._dispatchError=n._dispatchError.bind(f(n)),n._isDvrEnabled=n._isDvrEnabled.bind(f(n)),n._readMediadataInfo=n._readMediadataInfo.bind(f(n)),m(f(n),d,(0,w.isHlsSource)(t),"f"),n.element.addEventListener("playing",n._clearTimeout,b.EVENT_OPTIONS),n.element.addEventListener("stalled",n._setTimeout,b.EVENT_OPTIONS),n.element.addEventListener("error",n._dispatchError,b.EVENT_OPTIONS),n.element.addEventListener("loadeddata",n._isDvrEnabled,b.EVENT_OPTIONS),n.element.textTracks.addEventListener("addtrack",n._readMediadataInfo,b.EVENT_OPTIONS),o(n,f(n))}return t=g,(n=[{key:"canPlayType",value:function(e){return!!this.element.canPlayType(e).replace("no","")}},{key:"load",value:function(){this.element.load()}},{key:"destroy",value:function(){return this.element.removeEventListener("playing",this._clearTimeout),this.element.removeEventListener("stalled",this._setTimeout),this.element.removeEventListener("error",this._dispatchError),this.element.removeEventListener("loadeddata",this._isDvrEnabled),this.element.textTracks.removeEventListener("addtrack",this._readMediadataInfo),this}},{key:"levels",get:function(){if(!y(this,u,"f").length)for(var e=this.element.querySelectorAll("source[title]"),t=0,n=e.length;t<n;++t){var i={height:0,id:"".concat(t),label:e[t].getAttribute("title")||""};y(this,u,"f").push(i)}return y(this,u,"f")}},{key:"level",get:function(){var e;return(null===(e=y(this,c,"f"))||void 0===e?void 0:e.id)||"-1"},set:function(e){var t=y(this,u,"f").findIndex((function(t){return t.id===e}));if(t>-1){m(this,c,this.levels[t],"f");for(var n=this.element.querySelectorAll("source[title]"),i=0,r=n.length;i<r;++i){var s=n[i].getAttribute("src");s&&parseInt(y(this,c,"f").id,10)===i&&(this.element.src=s)}}}},{key:"src",set:function(e){this.element.src=e.src}},{key:"_isDvrEnabled",value:function(){var e=this.element.seekable.end(this.element.seekable.length-1)-this.element.seekable.start(0);if(y(this,d,"f")&&e>b.DVR_THRESHOLD&&!this.element.getAttribute("op-dvr__enabled")){this.element.setAttribute("op-dvr__enabled","true");var t=(0,E.addEvent)("timeupdate");this.element.dispatchEvent(t)}}},{key:"_readMediadataInfo",value:function(e){var t,n=this,i=e;"metadata"===(null===(t=null==i?void 0:i.track)||void 0===t?void 0:t.kind)&&(i.track.mode="hidden",i.track.addEventListener("cuechange",(function(e){var t=e.target,i=t.activeCues?t.activeCues[0]:null;if(i){var r=(0,E.addEvent)("metadataready",{detail:i});n.element.dispatchEvent(r)}}),b.EVENT_OPTIONS))}},{key:"_setTimeout",value:function(){var e=this;y(this,p,"f")||void 0===window||(m(this,p,!0,"f"),m(this,v,window.setInterval((function(){var t;if(y(e,h,"f")>=30){clearInterval(y(e,v,"f"));var n="Media download failed part-way due to a network error",i={detail:{data:{message:n,error:2},message:n,type:"HTML5"}},r=(0,E.addEvent)("playererror",i);e.element.dispatchEvent(r),m(e,h,0,"f"),m(e,p,!1,"f")}else m(e,h,(t=y(e,h,"f"),++t),"f")}),1e3),"f"))}},{key:"_clearTimeout",value:function(){y(this,v,"f")&&(clearInterval(y(this,v,"f")),m(this,h,0,"f"),m(this,p,!1,"f"))}},{key:"_dispatchError",value:function(e){var t,n=e.target,i=null==n?void 0:n.error;switch(null==i?void 0:i.code){case null==i?void 0:i.MEDIA_ERR_ABORTED:t="Media playback aborted";break;case null==i?void 0:i.MEDIA_ERR_NETWORK:t="Media download failed part-way due to a network error";break;case null==i?void 0:i.MEDIA_ERR_DECODE:t="Media playback aborted due to a corruption problem or because the\n                    media used features your browser did not support.";break;case null==i?void 0:i.MEDIA_ERR_SRC_NOT_SUPPORTED:t="Media could not be loaded, either because the server or network failed\n                    or because the format is not supported.";break;default:t="Unknown error occurred."}var r={detail:{data:Object.assign(Object.assign({},e),{message:t,error:null==i?void 0:i.code}),message:t,type:"HTML5"}},s=(0,E.addEvent)("playererror",r);this.element.dispatchEvent(s)}}])&&r(t.prototype,n),i&&r(t,i),g}(g(n(31)).default);c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,t.default=k},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,f,l,c,u,d,h,p,v,m,y,g,b,E,_,w,k,T,A,O,S,L,M,P,C,I,N,j,x=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},R=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var D=n(2),W=n(6),V=n(3),F=function(){function e(t,n,i,D,F){var H=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,!1),s.set(this,!1),a.set(this,!1),o.set(this,!1),f.set(this,0),l.set(this,void 0),c.set(this,!1),u.set(this,0),d.set(this,0),h.set(this,null),p.set(this,void 0),v.set(this,void 0),m.set(this,void 0),y.set(this,[]),g.set(this,void 0),b.set(this,void 0),E.set(this,void 0),_.set(this,void 0),w.set(this,void 0),k.set(this,void 0),T.set(this,void 0),A.set(this,!1),O.set(this,!1),S.set(this,!1),L.set(this,void 0),M.set(this,0),P.set(this,void 0),C.set(this,void 0),I.set(this,0),N.set(this,[]),j.set(this,!1);var B={autoPlayAdBreaks:!0,customClick:{enabled:!1,label:"Click here for more info"},debug:!1,enablePreloading:!1,language:"en",loop:!1,numRedirects:4,publisherId:null,sdkPath:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",sessionId:null,src:[],vpaidMode:"enabled"};if(x(this,p,t,"f"),x(this,g,n,"f"),x(this,v,t.getMedia(),"f"),x(this,m,t.getElement(),"f"),x(this,A,i||!1,"f"),x(this,O,D||!1,"f"),x(this,L,Object.assign(Object.assign({},B),F),"f"),F){["customClick"].forEach((function(e){R(H,L,"f")[e]=F[e]&&Object.keys(F[e]).length?Object.assign(Object.assign({},B[e]),F[e]):B[e]}))}x(this,S,!1,"f"),x(this,P,R(this,m,"f").volume,"f"),x(this,l,R(this,P,"f"),"f");var q=R(this,L,"f").debug&&R(this,L,"f").sdkPath?R(this,L,"f").sdkPath.replace(/(\.js$)/,"_debug.js"):R(this,L,"f").sdkPath;return this._handleClickInContainer=this._handleClickInContainer.bind(this),this._loaded=this._loaded.bind(this),this._error=this._error.bind(this),this._assign=this._assign.bind(this),this._contentLoadedAction=this._contentLoadedAction.bind(this),this._loadedMetadataHandler=this._loadedMetadataHandler.bind(this),this._contentEndedListener=this._contentEndedListener.bind(this),this.resizeAds=this.resizeAds.bind(this),this._handleResizeAds=this._handleResizeAds.bind(this),this._onContentPauseRequested=this._onContentPauseRequested.bind(this),this._onContentResumeRequested=this._onContentResumeRequested.bind(this),x(this,b,!q||"undefined"!=typeof google&&void 0!==google.ima?new Promise((function(e){e({})})):(0,V.loadScript)(q),"f"),R(this,b,"f").then((function(){H.load()})).catch((function(e){var t="Ad script could not be loaded; please check if you have an AdBlock\n                turned on, or if you provided a valid URL is correct";console.error("Ad error: ".concat(t));var n={detail:{data:e,message:t,type:"Ads"}},i=(0,W.addEvent)("playererror",n);R(H,m,"f").dispatchEvent(i)})),this}var t,n,F;return t=e,(n=[{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(google||google.ima||R(this,L,"f").autoPlayAdBreaks||t){var n=R(this,p,"f").getContainer().querySelector(".op-ads");n&&n.parentNode&&n.parentNode.removeChild(n),x(this,o,!0,"f"),x(this,_,document.createElement("div"),"f"),R(this,_,"f").className="op-ads",R(this,_,"f").tabIndex=-1,R(this,m,"f").parentElement&&R(this,m,"f").parentElement.insertBefore(R(this,_,"f"),R(this,m,"f").nextSibling),R(this,_,"f").addEventListener("click",this._handleClickInContainer),R(this,L,"f").customClick.enabled&&(x(this,w,document.createElement("div"),"f"),R(this,w,"f").className="op-ads__click-container",R(this,w,"f").innerHTML='<div class="op-ads__click-label">'.concat(R(this,L,"f").customClick.label,"</div>"),R(this,m,"f").parentElement&&R(this,m,"f").parentElement.insertBefore(R(this,w,"f"),R(this,m,"f").nextSibling)),x(this,N,R(this,v,"f").src,"f");var i={disabled:google.ima.ImaSdkSettings.VpaidMode.DISABLED,enabled:google.ima.ImaSdkSettings.VpaidMode.ENABLED,insecure:google.ima.ImaSdkSettings.VpaidMode.INSECURE};google.ima.settings.setVpaidMode(i[R(this,L,"f").vpaidMode]),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),google.ima.settings.setAutoPlayAdBreaks(R(this,L,"f").autoPlayAdBreaks),google.ima.settings.setNumRedirects(R(this,L,"f").numRedirects),google.ima.settings.setLocale(R(this,L,"f").language),R(this,L,"f").sessionId&&google.ima.settings.setSessionId(R(this,L,"f").sessionId),R(this,L,"f").publisherId&&google.ima.settings.setPpid(R(this,L,"f").publisherId),google.ima.settings.setPlayerType("openplayerjs"),google.ima.settings.setPlayerVersion("2.8.2"),x(this,k,new google.ima.AdDisplayContainer(R(this,_,"f"),R(this,m,"f"),R(this,w,"f")),"f"),x(this,E,new google.ima.AdsLoader(R(this,k,"f")),"f"),R(this,E,"f").addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded,D.EVENT_OPTIONS),R(this,E,"f").addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error,D.EVENT_OPTIONS),"undefined"!=typeof window&&window.addEventListener("resize",(function(){return e.resizeAds()}),D.EVENT_OPTIONS),R(this,m,"f").addEventListener("loadedmetadata",this._handleResizeAds,D.EVENT_OPTIONS),!0!==R(this,A,"f")&&!0!==R(this,O,"f")&&!0!==t&&!0!==R(this,L,"f").enablePreloading||(R(this,s,"f")||(x(this,s,!0,"f"),R(this,k,"f").initialize()),this._requestAds())}}},{key:"play",value:function(){var e=this,t=function(){if(R(e,s,"f")){if(R(e,h,"f")){R(e,f,"f")||!1!==R(e,a,"f")?R(e,h,"f").resume():R(e,h,"f").start(),x(e,a,!0,"f");var t=(0,W.addEvent)("play");R(e,m,"f").dispatchEvent(t)}}else e._initNotDoneAds()};return new Promise((function(e){e({})})).then(t)}},{key:"pause",value:function(){if(R(this,h,"f")){x(this,a,!1,"f"),R(this,h,"f").pause();var e=(0,W.addEvent)("pause");R(this,m,"f").dispatchEvent(e)}}},{key:"destroy",value:function(){var e=this;R(this,h,"f")&&(R(this,h,"f").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),R(this,y,"f")&&R(this,y,"f").forEach((function(t){R(e,h,"f").removeEventListener(t,e._assign)}))),x(this,y,[],"f");var t=R(this,p,"f").getControls(),n=t?t.events.mouse:{};Object.keys(n).forEach((function(t){R(e,_,"f")&&R(e,_,"f").removeEventListener(t,n[t])})),R(this,E,"f")&&(R(this,E,"f").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),R(this,E,"f").removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded));var i=!Array.isArray(R(this,g,"f"))||R(this,M,"f")>R(this,g,"f").length;R(this,h,"f")&&i&&R(this,h,"f").destroy(),R(this,L,"f").customClick.enabled&&(0,V.removeElement)(R(this,w,"f")),(D.IS_IOS||D.IS_ANDROID)&&R(this,m,"f").removeEventListener("loadedmetadata",this._contentLoadedAction),R(this,m,"f").removeEventListener("loadedmetadata",this._handleResizeAds),R(this,m,"f").removeEventListener("loadedmetadata",this._loadedMetadataHandler),R(this,m,"f").removeEventListener("ended",this._contentEndedListener),"undefined"!=typeof window&&window.removeEventListener("resize",(function(){return e.resizeAds()})),R(this,_,"f")&&R(this,_,"f").removeEventListener("click",this._handleClickInContainer),(0,V.removeElement)(R(this,_,"f"))}},{key:"resizeAds",value:function(e,t){var n=this;if(R(this,h,"f")){var i=R(this,m,"f"),r="true"===i.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL,s=e,a=e?e.toString():"";e&&a.indexOf("%")>-1&&R(this,m,"f").parentElement&&(s=R(this,m,"f").parentElement.offsetWidth*(parseInt(a,10)/100));var o,f=t,l=t?t.toString():"";t&&l.indexOf("%")>-1&&R(this,m,"f").parentElement&&(f=R(this,m,"f").parentElement.offsetHeight*(parseInt(l,10)/100)),o&&"undefined"!=typeof window&&window.cancelAnimationFrame(o),"undefined"!=typeof window&&(o=window.requestAnimationFrame((function(){R(n,h,"f").resize(s||i.offsetWidth,f||i.offsetHeight,r)})))}}},{key:"getAdsManager",value:function(){return R(this,h,"f")}},{key:"started",value:function(){return R(this,o,"f")}},{key:"src",set:function(e){x(this,g,e,"f")}},{key:"isDone",set:function(e){x(this,s,e,"f")}},{key:"playRequested",set:function(e){x(this,S,e,"f")}},{key:"volume",get:function(){return R(this,h,"f")?R(this,h,"f").getVolume():R(this,P,"f")},set:function(e){R(this,h,"f")&&(x(this,l,e,"f"),R(this,h,"f").setVolume(e),this._setMediaVolume(e),x(this,c,0===e,"f"))}},{key:"muted",get:function(){return R(this,c,"f")},set:function(e){R(this,h,"f")&&(e?(R(this,h,"f").setVolume(0),x(this,c,!0,"f"),this._setMediaVolume(0)):(R(this,h,"f").setVolume(R(this,l,"f")),x(this,c,!1,"f"),this._setMediaVolume(R(this,l,"f"))))}},{key:"currentTime",get:function(){return R(this,d,"f")},set:function(e){x(this,d,e,"f")}},{key:"duration",get:function(){return R(this,u,"f")}},{key:"paused",get:function(){return!R(this,a,"f")}},{key:"ended",get:function(){return R(this,r,"f")}},{key:"_assign",value:function(e){var t=this,n=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:if(n.isLinear()){if(D.IS_IPHONE&&(0,V.isVideo)(R(this,m,"f"))&&(R(this,m,"f").controls=!1),x(this,u,n.getDuration(),"f"),x(this,d,n.getDuration(),"f"),!R(this,j,"f")&&!D.IS_IOS&&!D.IS_ANDROID){var i=(0,W.addEvent)("waiting");R(this,m,"f").dispatchEvent(i);var s=(0,W.addEvent)("loadedmetadata");R(this,m,"f").dispatchEvent(s),this.resizeAds()}}else this._onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:if(n.isLinear()){R(this,m,"f").parentElement&&!R(this,m,"f").parentElement.classList.contains("op-ads--active")&&R(this,m,"f").parentElement.classList.add("op-ads--active"),R(this,v,"f").paused||R(this,v,"f").pause(),x(this,a,!0,"f");var l,p=(0,W.addEvent)("play");if(R(this,m,"f").dispatchEvent(p),l||(this.resizeAds(),l=!0),R(this,v,"f").ended){x(this,r,!1,"f");var y=(0,W.addEvent)("adsmediaended");R(this,m,"f").dispatchEvent(y)}"undefined"!=typeof window&&x(this,f,window.setInterval((function(){if(!0===R(t,a,"f")){x(t,d,Math.round(R(t,h,"f").getRemainingTime()),"f");var e=(0,W.addEvent)("timeupdate");R(t,m,"f").dispatchEvent(e)}}),350),"f")}break;case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.SKIPPED:if(n.isLinear()){if(e.type===google.ima.AdEvent.Type.SKIPPED){var g=(0,W.addEvent)("adsskipped");R(this,m,"f").dispatchEvent(g)}R(this,m,"f").parentElement&&R(this,m,"f").parentElement.classList.remove("op-ads--active"),x(this,a,!1,"f"),clearInterval(R(this,f,"f"))}break;case google.ima.AdEvent.Type.VOLUME_CHANGED:this._setMediaVolume(this.volume);break;case google.ima.AdEvent.Type.VOLUME_MUTED:if(n.isLinear()){var b=(0,W.addEvent)("volumechange");R(this,m,"f").dispatchEvent(b)}break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(n.isLinear()&&(x(this,a,!1,"f"),x(this,r,!0,"f"),x(this,f,0,"f"),x(this,c,!1,"f"),x(this,o,!1,"f"),x(this,u,0,"f"),x(this,d,0,"f"),R(this,m,"f").parentElement&&R(this,m,"f").parentElement.classList.remove("op-ads--active"),this.destroy(),R(this,m,"f").currentTime>=R(this,m,"f").duration)){var E=(0,W.addEvent)("ended");R(this,m,"f").dispatchEvent(E)}break;case google.ima.AdEvent.Type.CLICK:var _=(0,W.addEvent)("pause");R(this,m,"f").dispatchEvent(_);break;case google.ima.AdEvent.Type.AD_BREAK_READY:R(this,L,"f").autoPlayAdBreaks||this.play()}if(e.type===google.ima.AdEvent.Type.LOG){var w=e.getAdData();if(w.adError){var k=w.adError.getMessage();console.warn("Ad warning: Non-fatal error occurred: ".concat(k));var T={detail:{data:w.adError,message:k,type:"Ads"}},A=(0,W.addEvent)("playererror",T);R(this,m,"f").dispatchEvent(A)}}else{var O=(0,W.addEvent)("ads".concat(e.type));R(this,m,"f").dispatchEvent(O)}}},{key:"_error",value:function(e){var t,n=e.getError(),i={detail:{data:n,message:n.toString(),type:"Ads"}},r=(0,W.addEvent)("playererror",i);R(this,m,"f").dispatchEvent(r),Array.isArray(R(this,g,"f"))&&R(this,g,"f").length>1&&R(this,M,"f")<R(this,g,"f").length-1?(x(this,M,(t=R(this,M,"f"),++t),"f"),x(this,S,!0,"f"),x(this,o,!0,"f"),x(this,s,!1,"f"),this.destroy(),this.load(!0),console.warn("Ad warning: ".concat(n.toString()))):([100,101,102,300,301,302,303,400,401,402,403,405,406,407,408,409,410,500,501,502,503,900,901,1005].indexOf(n.getErrorCode())>-1?(R(this,h,"f")&&R(this,h,"f").destroy(),console.error("Ad error: ".concat(n.toString()))):console.warn("Ad warning: ".concat(n.toString())),!0!==R(this,A,"f")&&!0!==R(this,O,"f")&&!0!==R(this,o,"f")||(x(this,a,!1,"f"),this._resumeMedia()))}},{key:"_loaded",value:function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.enablePreloading=R(this,L,"f").enablePreloading,x(this,h,e.getAdsManager(R(this,m,"f"),t),"f"),this._start(R(this,h,"f"))}},{key:"_start",value:function(e){var t=this;R(this,w,"f")&&e.isCustomClickTrackingUsed()&&R(this,w,"f").classList.add("op-ads__click-container--visible"),e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,D.EVENT_OPTIONS),e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,D.EVENT_OPTIONS),x(this,y,[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.VIDEO_CLICKED,google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdEvent.Type.LOG],"f"),R(this,L,"f").autoPlayAdBreaks||R(this,y,"f").push(google.ima.AdEvent.Type.AD_BREAK_READY);var n=R(this,p,"f").getControls(),i=n?n.events.mouse:{};if(Object.keys(i).forEach((function(e){R(t,_,"f")&&R(t,_,"f").addEventListener(e,i[e],D.EVENT_OPTIONS)})),R(this,y,"f").forEach((function(n){e.addEventListener(n,t._assign,D.EVENT_OPTIONS)})),e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error,D.EVENT_OPTIONS),!0===R(this,A,"f")||!0===R(this,S,"f")){if(x(this,S,!1,"f"),!R(this,s,"f"))return void this._initNotDoneAds();e.init(R(this,m,"f").offsetWidth,R(this,m,"f").offsetHeight,R(this,m,"f").parentElement&&"true"===R(this,m,"f").parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.start();var r=(0,W.addEvent)("play");R(this,m,"f").dispatchEvent(r);var a=(0,W.addEvent)("playing");R(this,m,"f").dispatchEvent(a)}else!0===R(this,L,"f").enablePreloading&&e.init(R(this,m,"f").offsetWidth,R(this,m,"f").offsetHeight,R(this,m,"f").parentElement&&"true"===R(this,m,"f").parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}},{key:"_initNotDoneAds",value:function(){x(this,s,!0,"f"),R(this,k,"f").initialize(),D.IS_IOS||D.IS_ANDROID?(x(this,C,this._contentLoadedAction,"f"),R(this,m,"f").addEventListener("loadedmetadata",this._contentLoadedAction,D.EVENT_OPTIONS),R(this,m,"f").load()):this._contentLoadedAction()}},{key:"_contentEndedListener",value:function(){x(this,r,!0,"f"),x(this,a,!1,"f"),x(this,o,!1,"f"),R(this,E,"f").contentComplete()}},{key:"_onContentPauseRequested",value:function(){R(this,m,"f").removeEventListener("ended",this._contentEndedListener),x(this,I,R(this,v,"f").currentTime,"f"),R(this,o,"f")?R(this,v,"f").pause():x(this,o,!0,"f");var e=(0,W.addEvent)("play");R(this,m,"f").dispatchEvent(e)}},{key:"_onContentResumeRequested",value:function(){var e;if(R(this,L,"f").loop)Array.isArray(R(this,g,"f"))&&(R(this,M,"f")===R(this,g,"f").length-1?x(this,M,0,"f"):x(this,M,(e=R(this,M,"f"),++e),"f")),this.destroy(),R(this,E,"f").contentComplete(),x(this,S,!0,"f"),x(this,o,!0,"f"),x(this,s,!1,"f"),this.load(!0);else if(R(this,m,"f").addEventListener("ended",this._contentEndedListener,D.EVENT_OPTIONS),R(this,m,"f").addEventListener("loadedmetadata",this._loadedMetadataHandler,D.EVENT_OPTIONS),D.IS_IOS||D.IS_ANDROID)R(this,v,"f").src=R(this,N,"f"),R(this,v,"f").load(),this._prepareMedia(),R(this,m,"f").parentElement&&R(this,m,"f").parentElement.classList.add("op-ads--active");else{var t=(0,W.addEvent)("loadedmetadata");R(this,m,"f").dispatchEvent(t)}}},{key:"_loadedMetadataHandler",value:function(){var e;Array.isArray(R(this,g,"f"))?(x(this,M,(e=R(this,M,"f"),++e),"f"),R(this,M,"f")<=R(this,g,"f").length-1?(R(this,h,"f")&&R(this,h,"f").destroy(),R(this,E,"f").contentComplete(),x(this,S,!0,"f"),x(this,o,!0,"f"),x(this,s,!1,"f"),this._requestAds()):(R(this,L,"f").autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia())):R(this,m,"f").seekable.length?R(this,m,"f").seekable.end(0)>R(this,I,"f")&&(R(this,L,"f").autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia()):setTimeout(this._loadedMetadataHandler,100)}},{key:"_resumeMedia",value:function(){var e=this;x(this,f,0,"f"),x(this,c,!1,"f"),x(this,o,!1,"f"),x(this,u,0,"f"),x(this,d,0,"f"),R(this,m,"f").parentElement&&R(this,m,"f").parentElement.classList.remove("op-ads--active");var t,n,i=function(t){var n=(0,W.addEvent)(t);R(e,m,"f").dispatchEvent(n)};(t=50,n=R(this,v,"f").ended,new Promise((function(e,i){return n?i():setTimeout(e,t)}))).then((function(){return R(e,v,"f").play().then((function(){return i("play")}))})).catch((function(){return i("ended")}))}},{key:"_requestAds",value:function(){x(this,T,new google.ima.AdsRequest,"f");var e=Array.isArray(R(this,g,"f"))?R(this,g,"f")[R(this,M,"f")]:R(this,g,"f");(0,V.isXml)(e)?R(this,T,"f").adsResponse=e:R(this,T,"f").adTagUrl=e;var t=R(this,m,"f").parentElement?R(this,m,"f").parentElement.offsetWidth:0,n=R(this,m,"f").parentElement?R(this,m,"f").parentElement.offsetHeight:0;R(this,T,"f").linearAdSlotWidth=t,R(this,T,"f").linearAdSlotHeight=n,R(this,T,"f").nonLinearAdSlotWidth=t,R(this,T,"f").nonLinearAdSlotHeight=n/3,R(this,T,"f").setAdWillAutoPlay(R(this,A,"f")),R(this,T,"f").setAdWillPlayMuted(R(this,O,"f")),R(this,E,"f").requestAds(R(this,T,"f"))}},{key:"_contentLoadedAction",value:function(){R(this,C,"f")&&(R(this,m,"f").removeEventListener("loadedmetadata",R(this,C,"f")),x(this,C,null,"f")),this._requestAds()}},{key:"_resetAdsAfterManualBreak",value:function(){R(this,h,"f")&&R(this,h,"f").destroy(),R(this,E,"f").contentComplete(),x(this,s,!1,"f"),x(this,S,!0,"f")}},{key:"_prepareMedia",value:function(){R(this,v,"f").currentTime=R(this,I,"f"),R(this,m,"f").removeEventListener("loadedmetadata",this._loadedMetadataHandler),this._resumeMedia()}},{key:"_setMediaVolume",value:function(e){R(this,v,"f").volume=e,R(this,v,"f").muted=0===e}},{key:"_handleClickInContainer",value:function(){if(R(this,v,"f").paused){var e=(0,W.addEvent)("paused");R(this,m,"f").dispatchEvent(e),this.pause()}}},{key:"_handleResizeAds",value:function(){this.resizeAds()}}])&&i(t.prototype,n),F&&i(t,F),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,f=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,w=new WeakMap,k=new WeakMap,T=new WeakMap,A=new WeakMap,O=new WeakMap,S=new WeakMap,L=new WeakMap,M=new WeakMap,P=new WeakMap,C=new WeakMap,I=new WeakMap,N=new WeakMap,j=new WeakMap,t.default=F},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(160));"undefined"!=typeof window&&(0,r.default)(window)},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=e.Element.prototype;"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}}]).default}));