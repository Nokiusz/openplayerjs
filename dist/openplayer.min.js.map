{"version":3,"file":"openplayer.min.js","mappings":"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","sources":["webpack://openplayerjs/webpack/universalModuleDefinition","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/typeof.js","webpack://openplayerjs/./node_modules/@babel/runtime/regenerator/index.js","webpack://openplayerjs/webpack/bootstrap","webpack://openplayerjs/webpack/runtime/compat get default export","webpack://openplayerjs/webpack/runtime/define property getters","webpack://openplayerjs/webpack/runtime/hasOwnProperty shorthand","webpack://openplayerjs/webpack/runtime/make namespace object","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://openplayerjs/./src/js/utils/constants.ts","webpack://openplayerjs/./src/js/utils/general.ts","webpack://openplayerjs/./src/js/utils/time.ts","webpack://openplayerjs/./src/js/controls/captions.ts","webpack://openplayerjs/./src/js/controls/fullscreen.ts","webpack://openplayerjs/./src/js/utils/media.ts","webpack://openplayerjs/./src/js/controls/levels.ts","webpack://openplayerjs/./src/js/controls/play.ts","webpack://openplayerjs/./src/js/controls/progress.ts","webpack://openplayerjs/./src/js/controls/settings.ts","webpack://openplayerjs/./src/js/controls/time.ts","webpack://openplayerjs/./src/js/controls/volume.ts","webpack://openplayerjs/./src/js/controls.ts","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://openplayerjs/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://openplayerjs/./src/js/media/native.ts","webpack://openplayerjs/./src/js/media/dash.ts","webpack://openplayerjs/./src/js/media/flv.ts","webpack://openplayerjs/./src/js/media/hls.ts","webpack://openplayerjs/./src/js/media/html5.ts","webpack://openplayerjs/./src/js/media.ts","webpack://openplayerjs/./src/js/media/ads.ts","webpack://openplayerjs/./src/js/player.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"openplayerjs\"] = factory();\n\telse\n\t\troot[\"openplayerjs\"] = factory();\n})(this, function() {\nreturn ","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const NAV = typeof window !== 'undefined' ? window.navigator : null;\nexport const UA = NAV ? NAV.userAgent.toLowerCase() : null;\nexport const IS_IPAD = UA ? /ipad/i.test(UA) && !window.MSStream : false;\nexport const IS_IPHONE = UA ? /iphone/i.test(UA) && !window.MSStream : false;\nexport const IS_IPOD = UA ? /ipod/i.test(UA) && !window.MSStream : false;\nexport const IS_IOS = UA ? /ipad|iphone|ipod/i.test(UA) && !window.MSStream : false;\nexport const IS_ANDROID = UA ? /android/i.test(UA) : false;\nexport const IS_EDGE = NAV ? 'msLaunchUri' in NAV && !('documentMode' in document) : false;\nexport const IS_CHROME = UA ? /chrome/i.test(UA) : false;\nexport const IS_FIREFOX = UA ? /firefox/i.test(UA) : false;\nexport const IS_SAFARI = UA ? /safari/i.test(UA) && !IS_CHROME : false;\nexport const IS_STOCK_ANDROID = UA ? /^mozilla\\/\\d+\\.\\d+\\s\\(linux;\\su;/i.test(UA) : false;\nexport const HAS_MSE = typeof window !== 'undefined' ? 'MediaSource' in window : false;\nexport const SUPPORTS_HLS = () => {\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    const mediaSource = window.MediaSource || window.WebKitMediaSource;\n    const sourceBuffer = window.SourceBuffer || window.WebKitSourceBuffer;\n    const isTypeSupported = mediaSource &&\n        typeof mediaSource.isTypeSupported === 'function' &&\n        mediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n    const sourceBufferValidAPI = !sourceBuffer ||\n        (sourceBuffer.prototype &&\n            typeof sourceBuffer.prototype.appendBuffer === 'function' &&\n            typeof sourceBuffer.prototype.remove === 'function');\n    return !!isTypeSupported && !!sourceBufferValidAPI && !IS_SAFARI;\n};\nexport const DVR_THRESHOLD = 120;\nexport const EVENT_OPTIONS = { passive: false };\n","export function getAbsoluteUrl(url) {\n    const a = document.createElement('a');\n    a.href = url;\n    return a.href;\n}\nexport function isVideo(element) {\n    return element.tagName.toLowerCase() === 'video';\n}\nexport function isAudio(element) {\n    return element.tagName.toLowerCase() === 'audio';\n}\nexport function loadScript(url) {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.async = true;\n        script.onload = () => {\n            script.remove();\n            resolve();\n        };\n        script.onerror = () => {\n            script.remove();\n            reject(new Error(`${url} could not be loaded`));\n        };\n        if (document.head) {\n            document.head.appendChild(script);\n        }\n    });\n}\nexport function offset(el) {\n    const rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + (window.pageXOffset || document.documentElement.scrollLeft),\n        top: rect.top + (window.pageYOffset || document.documentElement.scrollTop),\n    };\n}\nexport function sanitize(html, plainText = true) {\n    const parser = new DOMParser();\n    const content = parser.parseFromString(html, 'text/html');\n    const formattedContent = content.body || document.createElement('body');\n    const scripts = formattedContent.querySelectorAll('script');\n    for (let i = 0, total = scripts.length; i < total; i++) {\n        scripts[i].remove();\n    }\n    const clean = (element) => {\n        const nodes = element.children;\n        for (let i = 0, total = nodes.length; i < total; i++) {\n            const node = nodes[i];\n            const { attributes } = node;\n            for (let j = 0, t = attributes.length; j < t; j++) {\n                const { name, value } = attributes[j];\n                const val = value.replace(/\\s+/g, '').toLowerCase();\n                if (['src', 'href', 'xlink:href'].includes(name)) {\n                    if (val.includes('javascript:') || val.includes('data:')) {\n                        node.removeAttribute(name);\n                    }\n                }\n                if (name.startsWith('on')) {\n                    node.removeAttribute(name);\n                }\n            }\n            clean(node);\n        }\n    };\n    clean(formattedContent);\n    return plainText ? (formattedContent.textContent || '').replace(/\\s{2,}/g, '') : formattedContent.innerHTML;\n}\nexport function isXml(input) {\n    let parsedXml;\n    if (typeof DOMParser !== 'undefined') {\n        parsedXml = (text) => new DOMParser().parseFromString(text, 'text/xml');\n    }\n    else {\n        return false;\n    }\n    try {\n        const response = parsedXml(input);\n        if (response.getElementsByTagName('parsererror').length > 0) {\n            return false;\n        }\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nexport function isJson(item) {\n    item = typeof item !== 'string' ? JSON.stringify(item) : item;\n    try {\n        item = JSON.parse(item);\n    }\n    catch (e) {\n        return false;\n    }\n    if (typeof item === 'object' && item !== null) {\n        return true;\n    }\n    return false;\n}\nexport function addEvent(event, details) {\n    let detail = {};\n    if (details && details.detail) {\n        detail = { detail: details.detail };\n    }\n    return new CustomEvent(event, detail);\n}\n","export function formatTime(seconds, frameRate) {\n    const f = Math.floor((seconds % 1) * (frameRate || 0));\n    let s = Math.floor(seconds);\n    let m = Math.floor(s / 60);\n    const h = Math.floor(m / 60);\n    const wrap = (value) => {\n        const formattedVal = value.toString();\n        if (value < 10) {\n            if (value <= 0) {\n                return '00';\n            }\n            return `0${formattedVal}`;\n        }\n        return formattedVal;\n    };\n    m %= 60;\n    s %= 60;\n    return `${h > 0 ? `${wrap(h)}:` : ''}${wrap(m)}:${wrap(s)}${f ? `:${wrap(f)}` : ''}`;\n}\nexport function timeToSeconds(timeCode) {\n    const time = timeCode.replace(/;/g, ':').split(':');\n    let seconds = 0;\n    if (time.length === 3) {\n        seconds += parseFloat(time[0]) * 60 * 60;\n        seconds += parseFloat(time[1]) * 60;\n        seconds += parseFloat(time[2]);\n    }\n    else {\n        seconds += parseFloat(time[0]) * 60;\n        seconds += parseFloat(time[1]);\n    }\n    return seconds;\n}\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Captions_player, _Captions_button, _Captions_captions, _Captions_menu, _Captions_events, _Captions_langTracks, _Captions_mediaTrackList, _Captions_trackUrlList, _Captions_hasTracks, _Captions_currentTrack, _Captions_default, _Captions_controlPosition, _Captions_controlLayer;\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS } from '../utils/constants';\nimport { addEvent, getAbsoluteUrl, isJson, sanitize } from '../utils/general';\nimport { timeToSeconds } from '../utils/time';\nclass Captions {\n    constructor(player, position, layer) {\n        _Captions_player.set(this, void 0);\n        _Captions_button.set(this, void 0);\n        _Captions_captions.set(this, void 0);\n        _Captions_menu.set(this, void 0);\n        _Captions_events.set(this, {\n            button: {},\n            global: {},\n            media: {},\n        });\n        _Captions_langTracks.set(this, {});\n        _Captions_mediaTrackList.set(this, void 0);\n        _Captions_trackUrlList.set(this, {});\n        _Captions_hasTracks.set(this, void 0);\n        _Captions_currentTrack.set(this, void 0);\n        _Captions_default.set(this, 'off');\n        _Captions_controlPosition.set(this, void 0);\n        _Captions_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Captions_player, player, \"f\");\n        __classPrivateFieldSet(this, _Captions_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Captions_controlLayer, layer, \"f\");\n        this._getCuesFromText = this._getCuesFromText.bind(this);\n        this._getNativeCues = this._getNativeCues.bind(this);\n        this._displayCaptions = this._displayCaptions.bind(this);\n        this._hideCaptions = this._hideCaptions.bind(this);\n        this._search = this._search.bind(this);\n        this._prepareTrack = this._prepareTrack.bind(this);\n        this._formatMenuItems = this._formatMenuItems.bind(this);\n    }\n    create() {\n        const trackList = __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().textTracks;\n        const tracks = [];\n        for (let i = 0, total = trackList.length; i < total; i++) {\n            const selector = [\n                `track[kind=\"subtitles\"][srclang=\"${trackList[i].language}\"][label=\"${trackList[i].label}\"]`,\n                `track[kind=\"captions\"][srclang=\"${trackList[i].language}\"][label=\"${trackList[i].label}\"]`,\n            ];\n            const tag = __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().querySelector(selector.join(', '));\n            if (tag) {\n                tracks.push(trackList[i]);\n            }\n        }\n        if (!tracks.length) {\n            for (let i = 0, total = trackList.length; i < total; i++) {\n                tracks.push(trackList[i]);\n            }\n        }\n        __classPrivateFieldSet(this, _Captions_mediaTrackList, tracks, \"f\");\n        __classPrivateFieldSet(this, _Captions_hasTracks, !!__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\").length, \"f\");\n        if (!__classPrivateFieldGet(this, _Captions_hasTracks, \"f\")) {\n            return;\n        }\n        const { labels, detachMenus } = __classPrivateFieldGet(this, _Captions_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Captions_button, document.createElement('button'), \"f\");\n        __classPrivateFieldGet(this, _Captions_button, \"f\").className = `op-controls__captions op-control__${__classPrivateFieldGet(this, _Captions_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Captions_button, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Captions_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.toggleCaptions) || '';\n        __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('aria-controls', __classPrivateFieldGet(this, _Captions_player, \"f\").id);\n        __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('aria-pressed', 'false');\n        __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.toggleCaptions) || '');\n        __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', 'off');\n        if (detachMenus) {\n            __classPrivateFieldGet(this, _Captions_button, \"f\").classList.add('op-control--no-hover');\n            __classPrivateFieldSet(this, _Captions_menu, document.createElement('div'), \"f\");\n            __classPrivateFieldGet(this, _Captions_menu, \"f\").className = 'op-settings op-captions__menu';\n            __classPrivateFieldGet(this, _Captions_menu, \"f\").setAttribute('aria-hidden', 'true');\n            __classPrivateFieldGet(this, _Captions_menu, \"f\").innerHTML = `<div class=\"op-settings__menu\" role=\"menu\" id=\"menu-item-captions\">\n                <div class=\"op-settings__submenu-item\" tabindex=\"0\" role=\"menuitemradio\" aria-checked=\"${__classPrivateFieldGet(this, _Captions_default, \"f\") === 'off' ? 'true' : 'false'}\">\n                    <div class=\"op-settings__submenu-label op-subtitles__option\" data-value=\"captions-off\">${labels === null || labels === void 0 ? void 0 : labels.off}</div>\n                </div>\n            </div>`;\n        }\n        for (let i = 0, trackItems = __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().querySelectorAll('track'), total = trackItems.length; i < total; i++) {\n            const element = trackItems[i];\n            if (element.kind === 'subtitles' || element.kind === 'captions') {\n                if (element.default) {\n                    __classPrivateFieldSet(this, _Captions_default, element.srclang, \"f\");\n                    __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', element.srclang);\n                }\n                const trackUrl = getAbsoluteUrl(element.src);\n                const currTrack = __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i];\n                if (currTrack && currTrack.language === element.srclang) {\n                    if (currTrack.cues && currTrack.cues.length > 0) {\n                        __classPrivateFieldGet(this, _Captions_langTracks, \"f\")[element.srclang] = this._getNativeCues(__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i]);\n                        this._prepareTrack(i, element.srclang, trackUrl, element.default || false);\n                    }\n                    else {\n                        fetch(trackUrl)\n                            .then((response) => {\n                            if (!response.ok) {\n                                throw new Error('Network response was not ok');\n                            }\n                            return response.text();\n                        })\n                            .then((d) => {\n                            __classPrivateFieldGet(this, _Captions_langTracks, \"f\")[element.srclang] = this._getCuesFromText(d);\n                            this._prepareTrack(i, element.srclang, trackUrl, element.default || false);\n                            const selector = `.op-subtitles__option[data-value=\"captions-${__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i].language}\"]`;\n                            if (__classPrivateFieldGet(this, _Captions_menu, \"f\") && !__classPrivateFieldGet(this, _Captions_menu, \"f\").querySelector(selector)) {\n                                const item = document.createElement('div');\n                                const label = (labels === null || labels === void 0 ? void 0 : labels.lang) ? labels.lang[__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i].language] : null;\n                                item.className = 'op-settings__submenu-item';\n                                item.tabIndex = 0;\n                                item.setAttribute('role', 'menuitemradio');\n                                item.setAttribute('aria-checked', __classPrivateFieldGet(this, _Captions_default, \"f\") === __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i].language ? 'true' : 'false');\n                                item.innerHTML = `<div class=\"op-settings__submenu-label op-subtitles__option\"\n                                        data-value=\"captions-${__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i].language}\">\n                                        ${label || __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i].label}\n                                    </div>`;\n                                __classPrivateFieldGet(this, _Captions_menu, \"f\").appendChild(item);\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        __classPrivateFieldSet(this, _Captions_captions, document.createElement('div'), \"f\");\n        __classPrivateFieldGet(this, _Captions_captions, \"f\").className = 'op-captions';\n        __classPrivateFieldGet(this, _Captions_captions, \"f\").innerHTML = '<span></span>';\n        const container = __classPrivateFieldGet(this, _Captions_captions, \"f\").querySelector('span');\n        __classPrivateFieldGet(this, _Captions_events, \"f\").media.timeupdate = () => {\n            if (__classPrivateFieldGet(this, _Captions_player, \"f\").isMedia()) {\n                if (__classPrivateFieldGet(this, _Captions_currentTrack, \"f\")) {\n                    const currentCues = __classPrivateFieldGet(this, _Captions_langTracks, \"f\")[__classPrivateFieldGet(this, _Captions_currentTrack, \"f\").language];\n                    if (container && currentCues !== undefined) {\n                        const index = this._search(currentCues, __classPrivateFieldGet(this, _Captions_player, \"f\").getMedia().currentTime);\n                        container.innerHTML = '';\n                        if (index > -1 && __classPrivateFieldGet(this, _Captions_button, \"f\").classList.contains('op-controls__captions--on')) {\n                            __classPrivateFieldGet(this, _Captions_captions, \"f\").classList.add('op-captions--on');\n                            container.innerHTML = sanitize(currentCues[index].text, false);\n                        }\n                        else {\n                            this._hideCaptions();\n                        }\n                    }\n                }\n                else {\n                    this._hideCaptions();\n                }\n            }\n            else {\n                this._hideCaptions();\n            }\n        };\n        __classPrivateFieldGet(this, _Captions_events, \"f\").button.click = (e) => {\n            const button = e.target;\n            if (detachMenus) {\n                const menus = __classPrivateFieldGet(this, _Captions_player, \"f\").getContainer().querySelectorAll('.op-settings');\n                for (let i = 0, total = menus.length; i < total; ++i) {\n                    if (menus[i] !== __classPrivateFieldGet(this, _Captions_menu, \"f\")) {\n                        menus[i].setAttribute('aria-hidden', 'true');\n                    }\n                }\n                if (__classPrivateFieldGet(this, _Captions_menu, \"f\").getAttribute('aria-hidden') === 'true') {\n                    __classPrivateFieldGet(this, _Captions_menu, \"f\").setAttribute('aria-hidden', 'false');\n                }\n                else {\n                    __classPrivateFieldGet(this, _Captions_menu, \"f\").setAttribute('aria-hidden', 'true');\n                }\n            }\n            else {\n                button.setAttribute('aria-pressed', 'true');\n                if (button.classList.contains('op-controls__captions--on')) {\n                    this._hideCaptions();\n                    button.classList.remove('op-controls__captions--on');\n                    button.setAttribute('data-active-captions', 'off');\n                }\n                else {\n                    if (!__classPrivateFieldGet(this, _Captions_currentTrack, \"f\")) {\n                        const [track] = __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\");\n                        __classPrivateFieldSet(this, _Captions_currentTrack, track, \"f\");\n                    }\n                    this._displayCaptions();\n                    button.classList.add('op-controls__captions--on');\n                    button.setAttribute('data-active-captions', __classPrivateFieldGet(this, _Captions_currentTrack, \"f\").language);\n                }\n            }\n        };\n        __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseover = () => {\n            if (!IS_IOS && !IS_ANDROID && detachMenus) {\n                const menus = __classPrivateFieldGet(this, _Captions_player, \"f\").getContainer().querySelectorAll('.op-settings');\n                for (let i = 0, total = menus.length; i < total; ++i) {\n                    if (menus[i] !== __classPrivateFieldGet(this, _Captions_menu, \"f\")) {\n                        menus[i].setAttribute('aria-hidden', 'true');\n                    }\n                }\n                if (__classPrivateFieldGet(this, _Captions_menu, \"f\").getAttribute('aria-hidden') === 'true') {\n                    __classPrivateFieldGet(this, _Captions_menu, \"f\").setAttribute('aria-hidden', 'false');\n                }\n            }\n        };\n        __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseout = () => {\n            if (!IS_IOS && !IS_ANDROID && detachMenus) {\n                const menus = __classPrivateFieldGet(this, _Captions_player, \"f\").getContainer().querySelectorAll('.op-settings');\n                for (let i = 0, total = menus.length; i < total; ++i) {\n                    menus[i].setAttribute('aria-hidden', 'true');\n                }\n                if (__classPrivateFieldGet(this, _Captions_menu, \"f\").getAttribute('aria-hidden') === 'false') {\n                    __classPrivateFieldGet(this, _Captions_menu, \"f\").setAttribute('aria-hidden', 'true');\n                }\n            }\n        };\n        if (__classPrivateFieldGet(this, _Captions_hasTracks, \"f\")) {\n            const target = __classPrivateFieldGet(this, _Captions_player, \"f\").getContainer();\n            target.insertBefore(__classPrivateFieldGet(this, _Captions_captions, \"f\"), target.firstChild);\n            if (detachMenus) {\n                const itemContainer = document.createElement('div');\n                itemContainer.className = `op-controls__container op-control__${__classPrivateFieldGet(this, _Captions_controlPosition, \"f\")}`;\n                itemContainer.appendChild(__classPrivateFieldGet(this, _Captions_button, \"f\"));\n                itemContainer.appendChild(__classPrivateFieldGet(this, _Captions_menu, \"f\"));\n                __classPrivateFieldGet(this, _Captions_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Captions_controlLayer, \"f\")).appendChild(itemContainer);\n            }\n            else {\n                __classPrivateFieldGet(this, _Captions_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Captions_controlLayer, \"f\")).appendChild(__classPrivateFieldGet(this, _Captions_button, \"f\"));\n            }\n            __classPrivateFieldGet(this, _Captions_button, \"f\").addEventListener('click', __classPrivateFieldGet(this, _Captions_events, \"f\").button.click, EVENT_OPTIONS);\n        }\n        if ((__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\").length <= 1 && !detachMenus) || (!__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\").length && detachMenus)) {\n            return;\n        }\n        __classPrivateFieldGet(this, _Captions_events, \"f\").global.click = (e) => {\n            const option = e.target;\n            if (option.closest(`#${__classPrivateFieldGet(this, _Captions_player, \"f\").id}`) && option.classList.contains('op-subtitles__option')) {\n                const langEl = option.getAttribute('data-value');\n                const language = langEl ? langEl.replace('captions-', '') : '';\n                const currentLang = Array.from(__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")).filter((item) => item.language === language);\n                __classPrivateFieldSet(this, _Captions_currentTrack, currentLang ? currentLang.pop() : undefined, \"f\");\n                if (detachMenus) {\n                    if (__classPrivateFieldGet(this, _Captions_button, \"f\").classList.contains('op-controls__captions--on')) {\n                        this._hideCaptions();\n                        __classPrivateFieldGet(this, _Captions_button, \"f\").classList.remove('op-controls__captions--on');\n                        __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', 'off');\n                    }\n                    else {\n                        this._displayCaptions();\n                        __classPrivateFieldGet(this, _Captions_button, \"f\").classList.add('op-controls__captions--on');\n                        __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', language);\n                    }\n                    if (option.parentElement && option.parentElement.parentElement) {\n                        const captions = option.parentElement.parentElement.querySelectorAll('.op-settings__submenu-item');\n                        for (let i = 0, total = captions.length; i < total; ++i) {\n                            captions[i].setAttribute('aria-checked', 'false');\n                        }\n                    }\n                    if (option.parentElement) {\n                        option.parentElement.setAttribute('aria-checked', 'true');\n                    }\n                    __classPrivateFieldGet(this, _Captions_menu, \"f\").setAttribute('aria-hidden', 'false');\n                }\n                else {\n                    this._displayCaptions();\n                    __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', language);\n                }\n                const event = addEvent('captionschanged');\n                __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().dispatchEvent(event);\n            }\n        };\n        if (detachMenus) {\n            __classPrivateFieldGet(this, _Captions_button, \"f\").addEventListener('mouseover', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseover, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Captions_menu, \"f\").addEventListener('mouseover', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseover, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Captions_menu, \"f\").addEventListener('mouseout', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseout, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().addEventListener('controlshidden', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseout, EVENT_OPTIONS);\n        }\n        if (typeof __classPrivateFieldGet(this, _Captions_events, \"f\").global.click !== 'undefined') {\n            document.addEventListener('click', __classPrivateFieldGet(this, _Captions_events, \"f\").global.click, EVENT_OPTIONS);\n        }\n    }\n    destroy() {\n        const { detachMenus } = __classPrivateFieldGet(this, _Captions_player, \"f\").getOptions();\n        if (typeof __classPrivateFieldGet(this, _Captions_events, \"f\").global.click !== 'undefined') {\n            document.removeEventListener('click', __classPrivateFieldGet(this, _Captions_events, \"f\").global.click);\n        }\n        if (__classPrivateFieldGet(this, _Captions_hasTracks, \"f\")) {\n            __classPrivateFieldGet(this, _Captions_button, \"f\").removeEventListener('click', __classPrivateFieldGet(this, _Captions_events, \"f\").button.click);\n            if (detachMenus) {\n                __classPrivateFieldGet(this, _Captions_button, \"f\").removeEventListener('mouseover', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseover);\n                __classPrivateFieldGet(this, _Captions_menu, \"f\").removeEventListener('mouseover', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseover);\n                __classPrivateFieldGet(this, _Captions_menu, \"f\").removeEventListener('mouseout', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseout);\n                __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().removeEventListener('controlshidden', __classPrivateFieldGet(this, _Captions_events, \"f\").button.mouseout);\n                __classPrivateFieldGet(this, _Captions_menu, \"f\").remove();\n            }\n            __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().removeEventListener('timeupdate', __classPrivateFieldGet(this, _Captions_events, \"f\").media.timeupdate);\n            __classPrivateFieldGet(this, _Captions_button, \"f\").remove();\n            __classPrivateFieldGet(this, _Captions_captions, \"f\").remove();\n        }\n    }\n    addSettings() {\n        const { detachMenus, labels } = __classPrivateFieldGet(this, _Captions_player, \"f\").getOptions();\n        if (detachMenus || __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\").length <= 1) {\n            return {};\n        }\n        const subitems = this._formatMenuItems();\n        return subitems.length > 2\n            ? {\n                className: 'op-subtitles__option',\n                default: __classPrivateFieldGet(this, _Captions_default, \"f\") || 'off',\n                key: 'captions',\n                name: (labels === null || labels === void 0 ? void 0 : labels.captions) || '',\n                subitems,\n            }\n            : {};\n    }\n    _getCuesFromText(vttText) {\n        const lines = vttText.split(/\\r?\\n/);\n        const entries = [];\n        const urlRegexp = /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi;\n        let timePattern = '^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --> ';\n        timePattern += '((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*?)$';\n        const regexp = new RegExp(timePattern);\n        let identifier;\n        for (let i = 0, total = lines.length; i < total; i++) {\n            const timeCode = regexp.exec(lines[i]);\n            if (timeCode && i < lines.length) {\n                if (i - 1 >= 0 && lines[i - 1] !== '') {\n                    identifier = lines[i - 1];\n                }\n                i++;\n                let cue = lines[i];\n                i++;\n                while (lines[i] !== '' && i < lines.length) {\n                    cue = `${cue}\\n${lines[i]}`;\n                    i++;\n                }\n                cue = cue.trim().replace(urlRegexp, \"<a href='$1' target='_blank'>$1</a>\");\n                const initTime = timeToSeconds(timeCode[1]);\n                entries.push({\n                    endTime: timeToSeconds(timeCode[3]),\n                    identifier: identifier || '',\n                    settings: isJson(timeCode[5]) ? JSON.parse(timeCode[5]) : {},\n                    startTime: initTime === 0 ? 0.2 : initTime,\n                    text: cue,\n                });\n            }\n            identifier = '';\n        }\n        return entries;\n    }\n    _getNativeCues(track) {\n        const cues = [];\n        const trackCues = track.cues;\n        Object.keys(trackCues).forEach((index) => {\n            const j = parseInt(index, 10);\n            const current = trackCues[j];\n            cues.push({\n                endTime: current.endTime,\n                identifier: current.id,\n                settings: {},\n                startTime: current.startTime,\n                text: current.text,\n            });\n        });\n        return cues;\n    }\n    _displayCaptions() {\n        if (!__classPrivateFieldGet(this, _Captions_captions, \"f\") || !__classPrivateFieldGet(this, _Captions_currentTrack, \"f\") || __classPrivateFieldGet(this, _Captions_currentTrack, \"f\").cues === undefined) {\n            return;\n        }\n        const container = __classPrivateFieldGet(this, _Captions_captions, \"f\").querySelector('span');\n        if (container) {\n            container.innerHTML = '';\n        }\n        __classPrivateFieldGet(this, _Captions_player, \"f\").getElement().addEventListener('timeupdate', __classPrivateFieldGet(this, _Captions_events, \"f\").media.timeupdate, EVENT_OPTIONS);\n    }\n    _hideCaptions() {\n        __classPrivateFieldGet(this, _Captions_captions, \"f\").classList.remove('op-captions--on');\n        if (!__classPrivateFieldGet(this, _Captions_currentTrack, \"f\")) {\n            __classPrivateFieldGet(this, _Captions_button, \"f\").classList.remove('op-controls__captions--on');\n            __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', 'off');\n        }\n    }\n    _search(tracks, currentTime) {\n        let low = 0;\n        let high = tracks.length - 1;\n        while (low <= high) {\n            const mid = (low + high) >> 1;\n            const start = tracks[mid].startTime;\n            const stop = tracks[mid].endTime;\n            if (currentTime >= start && currentTime < stop) {\n                return mid;\n            }\n            if (start < currentTime) {\n                low = mid + 1;\n            }\n            else if (start > currentTime) {\n                high = mid - 1;\n            }\n        }\n        return -1;\n    }\n    _prepareTrack(index, language, trackUrl, showTrack = false) {\n        __classPrivateFieldGet(this, _Captions_trackUrlList, \"f\")[language] = trackUrl;\n        __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[index].mode = 'disabled';\n        if (showTrack) {\n            __classPrivateFieldSet(this, _Captions_default, language, \"f\");\n            __classPrivateFieldGet(this, _Captions_button, \"f\").classList.add('op-controls__captions--on');\n            __classPrivateFieldGet(this, _Captions_button, \"f\").setAttribute('data-active-captions', language);\n            __classPrivateFieldSet(this, _Captions_currentTrack, Array.from(__classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\"))\n                .filter((item) => item.language === __classPrivateFieldGet(this, _Captions_default, \"f\"))\n                .pop(), \"f\");\n            this._displayCaptions();\n            if (!__classPrivateFieldGet(this, _Captions_player, \"f\").getContainer().classList.contains('op-captions--detected')) {\n                __classPrivateFieldGet(this, _Captions_player, \"f\").getContainer().classList.add('op-captions--detected');\n            }\n        }\n    }\n    _formatMenuItems() {\n        const { labels } = __classPrivateFieldGet(this, _Captions_player, \"f\").getOptions();\n        let items = [{ key: 'off', label: (labels === null || labels === void 0 ? void 0 : labels.off) || '' }];\n        for (let i = 0, total = __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\").length; i < total; i++) {\n            const track = __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i];\n            const label = (labels === null || labels === void 0 ? void 0 : labels.lang) ? labels.lang[track.language] : null;\n            items = items.filter((el) => el.key !== track.language);\n            items.push({ key: track.language, label: label || __classPrivateFieldGet(this, _Captions_mediaTrackList, \"f\")[i].label });\n        }\n        return items;\n    }\n}\n_Captions_player = new WeakMap(), _Captions_button = new WeakMap(), _Captions_captions = new WeakMap(), _Captions_menu = new WeakMap(), _Captions_events = new WeakMap(), _Captions_langTracks = new WeakMap(), _Captions_mediaTrackList = new WeakMap(), _Captions_trackUrlList = new WeakMap(), _Captions_hasTracks = new WeakMap(), _Captions_currentTrack = new WeakMap(), _Captions_default = new WeakMap(), _Captions_controlPosition = new WeakMap(), _Captions_controlLayer = new WeakMap();\nexport default Captions;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Fullscreen_player, _Fullscreen_isFullscreen, _Fullscreen_button, _Fullscreen_fullscreenEvents, _Fullscreen_fullscreenWidth, _Fullscreen_fullscreenHeight, _Fullscreen_clickEvent, _Fullscreen_controlPosition, _Fullscreen_controlLayer;\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IPHONE } from '../utils/constants';\nclass Fullscreen {\n    constructor(player, position, layer) {\n        _Fullscreen_player.set(this, void 0);\n        _Fullscreen_isFullscreen.set(this, void 0);\n        _Fullscreen_button.set(this, void 0);\n        _Fullscreen_fullscreenEvents.set(this, []);\n        _Fullscreen_fullscreenWidth.set(this, 0);\n        _Fullscreen_fullscreenHeight.set(this, 0);\n        _Fullscreen_clickEvent.set(this, void 0);\n        _Fullscreen_controlPosition.set(this, void 0);\n        _Fullscreen_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Fullscreen_player, player, \"f\");\n        __classPrivateFieldSet(this, _Fullscreen_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Fullscreen_controlLayer, layer, \"f\");\n        __classPrivateFieldSet(this, _Fullscreen_isFullscreen, document.body.classList.contains('op-fullscreen__on'), \"f\");\n        const target = document;\n        this.fullScreenEnabled = !!(target.fullscreenEnabled ||\n            target.mozFullScreenEnabled ||\n            target.msFullscreenEnabled ||\n            target.webkitSupportsFullscreen ||\n            target.webkitFullscreenEnabled ||\n            document.createElement('video').webkitRequestFullScreen);\n        this._enterSpaceKeyEvent = this._enterSpaceKeyEvent.bind(this);\n        this._resize = this._resize.bind(this);\n        this._fullscreenChange = this._fullscreenChange.bind(this);\n        this._setFullscreen = this._setFullscreen.bind(this);\n        this._unsetFullscreen = this._unsetFullscreen.bind(this);\n        __classPrivateFieldSet(this, _Fullscreen_fullscreenEvents, [\n            'fullscreenchange',\n            'mozfullscreenchange',\n            'webkitfullscreenchange',\n            'msfullscreenchange',\n        ], \"f\");\n        __classPrivateFieldGet(this, _Fullscreen_fullscreenEvents, \"f\").forEach((event) => {\n            document.addEventListener(event, this._fullscreenChange, EVENT_OPTIONS);\n        });\n        this._setFullscreenData(false);\n        __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getContainer().addEventListener('keydown', this._enterSpaceKeyEvent, EVENT_OPTIONS);\n        if (IS_IPHONE) {\n            __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getElement().addEventListener('webkitbeginfullscreen', this._setFullscreen, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getElement().addEventListener('webkitendfullscreen', this._unsetFullscreen, EVENT_OPTIONS);\n        }\n    }\n    create() {\n        const { labels } = __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Fullscreen_button, document.createElement('button'), \"f\");\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").type = 'button';\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").className = `op-controls__fullscreen op-control__${__classPrivateFieldGet(this, _Fullscreen_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.fullscreen) || '';\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").setAttribute('aria-controls', __classPrivateFieldGet(this, _Fullscreen_player, \"f\").id);\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").setAttribute('aria-pressed', 'false');\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.fullscreen) || '');\n        __classPrivateFieldSet(this, _Fullscreen_clickEvent, () => {\n            __classPrivateFieldGet(this, _Fullscreen_button, \"f\").setAttribute('aria-pressed', 'true');\n            this.toggleFullscreen();\n        }, \"f\");\n        __classPrivateFieldSet(this, _Fullscreen_clickEvent, __classPrivateFieldGet(this, _Fullscreen_clickEvent, \"f\").bind(this), \"f\");\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").addEventListener('click', __classPrivateFieldGet(this, _Fullscreen_clickEvent, \"f\"), EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Fullscreen_controlLayer, \"f\")).appendChild(__classPrivateFieldGet(this, _Fullscreen_button, \"f\"));\n    }\n    destroy() {\n        __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getContainer().removeEventListener('keydown', this._enterSpaceKeyEvent);\n        __classPrivateFieldGet(this, _Fullscreen_fullscreenEvents, \"f\").forEach((event) => {\n            document.removeEventListener(event, this._fullscreenChange);\n        });\n        if (IS_IPHONE) {\n            __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getElement().removeEventListener('webkitbeginfullscreen', this._setFullscreen);\n            __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getElement().removeEventListener('webkitendfullscreen', this._unsetFullscreen);\n        }\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").removeEventListener('click', __classPrivateFieldGet(this, _Fullscreen_clickEvent, \"f\"));\n        __classPrivateFieldGet(this, _Fullscreen_button, \"f\").remove();\n    }\n    toggleFullscreen() {\n        if (__classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\")) {\n            const target = document;\n            if (target.exitFullscreen) {\n                target.exitFullscreen();\n            }\n            else if (target.mozCancelFullScreen) {\n                target.mozCancelFullScreen();\n            }\n            else if (target.webkitCancelFullScreen) {\n                target.webkitCancelFullScreen();\n            }\n            else if (target.msExitFullscreen) {\n                target.msExitFullscreen();\n            }\n            else {\n                this._fullscreenChange();\n            }\n            document.body.classList.remove('op-fullscreen__on');\n        }\n        else {\n            const video = __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getElement();\n            __classPrivateFieldSet(this, _Fullscreen_fullscreenWidth, window.screen.width, \"f\");\n            __classPrivateFieldSet(this, _Fullscreen_fullscreenHeight, window.screen.height, \"f\");\n            if (video.requestFullscreen) {\n                video.parentElement.requestFullscreen();\n            }\n            else if (video.mozRequestFullScreen) {\n                video.parentElement.mozRequestFullScreen();\n            }\n            else if (video.webkitRequestFullScreen) {\n                video.parentElement.webkitRequestFullScreen();\n            }\n            else if (video.msRequestFullscreen) {\n                video.parentElement.msRequestFullscreen();\n            }\n            else if (video.webkitEnterFullscreen) {\n                video.webkitEnterFullscreen();\n            }\n            else {\n                this._fullscreenChange();\n            }\n            document.body.classList.add('op-fullscreen__on');\n        }\n        if (typeof window !== 'undefined' && (IS_ANDROID || IS_IPHONE)) {\n            const { screen } = window;\n            if (screen.orientation && !__classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\")) {\n                screen.orientation.lock('landscape');\n            }\n        }\n    }\n    _fullscreenChange() {\n        const width = __classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\") ? undefined : __classPrivateFieldGet(this, _Fullscreen_fullscreenWidth, \"f\");\n        const height = __classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\") ? undefined : __classPrivateFieldGet(this, _Fullscreen_fullscreenHeight, \"f\");\n        this._setFullscreenData(!__classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\"));\n        if (__classPrivateFieldGet(this, _Fullscreen_player, \"f\").isAd()) {\n            __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getAd().resizeAds(width, height);\n        }\n        __classPrivateFieldSet(this, _Fullscreen_isFullscreen, !__classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\"), \"f\");\n        if (__classPrivateFieldGet(this, _Fullscreen_isFullscreen, \"f\")) {\n            document.body.classList.add('op-fullscreen__on');\n        }\n        else {\n            document.body.classList.remove('op-fullscreen__on');\n        }\n        this._resize(width, height);\n    }\n    _setFullscreenData(isFullscreen) {\n        __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getContainer().setAttribute('data-fullscreen', (!!isFullscreen).toString());\n        if (__classPrivateFieldGet(this, _Fullscreen_button, \"f\")) {\n            if (isFullscreen) {\n                __classPrivateFieldGet(this, _Fullscreen_button, \"f\").classList.add('op-controls__fullscreen--out');\n            }\n            else {\n                __classPrivateFieldGet(this, _Fullscreen_button, \"f\").classList.remove('op-controls__fullscreen--out');\n            }\n        }\n    }\n    _resize(width, height) {\n        const wrapper = __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getContainer();\n        const video = __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getElement();\n        const options = __classPrivateFieldGet(this, _Fullscreen_player, \"f\").getOptions();\n        let styles = '';\n        if (width) {\n            wrapper.style.width = '100%';\n            video.style.width = '100%';\n        }\n        else if (options.width) {\n            const defaultWidth = typeof options.width === 'number' ? `${options.width}px` : options.width;\n            styles += `width: ${defaultWidth} !important;`;\n            video.style.removeProperty('width');\n        }\n        else {\n            video.style.removeProperty('width');\n            wrapper.style.removeProperty('width');\n        }\n        if (height) {\n            video.style.height = '100%';\n            wrapper.style.height = '100%';\n        }\n        else if (options.height) {\n            const defaultHeight = typeof options.height === 'number' ? `${options.height}px` : options.height;\n            styles += `height: ${defaultHeight} !important;`;\n            video.style.removeProperty('height');\n        }\n        else {\n            video.style.removeProperty('height');\n            wrapper.style.removeProperty('height');\n        }\n        if (styles) {\n            wrapper.setAttribute('style', styles);\n        }\n    }\n    _enterSpaceKeyEvent(e) {\n        var _a;\n        const key = e.which || e.keyCode || 0;\n        const fullscreenBtnFocused = (_a = document === null || document === void 0 ? void 0 : document.activeElement) === null || _a === void 0 ? void 0 : _a.classList.contains('op-controls__fullscreen');\n        if (fullscreenBtnFocused && (key === 13 || key === 32)) {\n            this.toggleFullscreen();\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n    _setFullscreen() {\n        __classPrivateFieldSet(this, _Fullscreen_isFullscreen, true, \"f\");\n        this._setFullscreenData(true);\n        document.body.classList.add('op-fullscreen__on');\n    }\n    _unsetFullscreen() {\n        __classPrivateFieldSet(this, _Fullscreen_isFullscreen, false, \"f\");\n        this._setFullscreenData(false);\n        document.body.classList.remove('op-fullscreen__on');\n    }\n}\n_Fullscreen_player = new WeakMap(), _Fullscreen_isFullscreen = new WeakMap(), _Fullscreen_button = new WeakMap(), _Fullscreen_fullscreenEvents = new WeakMap(), _Fullscreen_fullscreenWidth = new WeakMap(), _Fullscreen_fullscreenHeight = new WeakMap(), _Fullscreen_clickEvent = new WeakMap(), _Fullscreen_controlPosition = new WeakMap(), _Fullscreen_controlLayer = new WeakMap();\nexport default Fullscreen;\n","import { isAudio } from './general';\nexport function getExtension(url) {\n    const baseUrl = url.split('?')[0];\n    const baseFrags = (baseUrl || '').split('\\\\');\n    const baseUrlFragment = (baseFrags || []).pop();\n    const baseNameFrags = (baseUrlFragment || '').split('/');\n    const baseName = (baseNameFrags || []).pop() || '';\n    return baseName.includes('.') ? baseName.substring(baseName.lastIndexOf('.') + 1) : '';\n}\nexport function isHlsSource(media) {\n    return (/\\.m3u8$/i.test(media.src) || ['application/x-mpegURL', 'application/vnd.apple.mpegurl'].includes(media.type));\n}\nexport function isM3USource(media) {\n    return /\\.m3u$/i.test(media.src);\n}\nexport function isDashSource(media) {\n    return /\\.mpd/i.test(media.src) || media.type === 'application/dash+xml';\n}\nexport function isFlvSource(media) {\n    return /(^rtmp:\\/\\/|\\.flv$)/i.test(media.src) || ['video/x-flv', 'video/flv'].includes(media.type);\n}\nexport function predictMimeType(url, element) {\n    const extension = getExtension(url);\n    if (!extension) {\n        return isAudio(element) ? 'audio/mp3' : 'video/mp4';\n    }\n    switch (extension) {\n        case 'm3u8':\n        case 'm3u':\n            return 'application/x-mpegURL';\n        case 'mpd':\n            return 'application/dash+xml';\n        case 'mp4':\n            return isAudio(element) ? 'audio/mp4' : 'video/mp4';\n        case 'mp3':\n            return 'audio/mp3';\n        case 'webm':\n            return isAudio(element) ? 'audio/webm' : 'video/webm';\n        case 'ogg':\n            return isAudio(element) ? 'audio/ogg' : 'video/ogg';\n        case 'ogv':\n            return 'video/ogg';\n        case 'oga':\n            return 'audio/ogg';\n        case '3gp':\n            return 'audio/3gpp';\n        case 'wav':\n            return 'audio/wav';\n        case 'aac':\n            return 'audio/aac';\n        case 'flac':\n            return 'audio/flac';\n        default:\n            return isAudio(element) ? 'audio/mp3' : 'video/mp4';\n    }\n}\nexport function isAutoplaySupported(media, defaultVol, autoplay, muted, callback) {\n    const playPromise = media.play();\n    if (playPromise !== undefined) {\n        playPromise\n            .then(() => {\n            media.pause();\n            autoplay(true);\n            muted(false);\n            callback();\n        })\n            .catch(() => {\n            media.volume = 0;\n            media.muted = true;\n            media\n                .play()\n                .then(() => {\n                media.pause();\n                autoplay(true);\n                muted(true);\n                callback();\n            })\n                .catch(() => {\n                media.volume = defaultVol;\n                media.muted = false;\n                autoplay(false);\n                muted(false);\n                callback();\n            });\n        });\n    }\n    else {\n        autoplay(!media.paused || ('Promise' in window && playPromise instanceof Promise));\n        media.pause();\n        muted(false);\n        callback();\n    }\n}\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Levels_player, _Levels_button, _Levels_menu, _Levels_events, _Levels_levels, _Levels_defaultLevel, _Levels_controlPosition, _Levels_controlLayer;\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS, NAV } from '../utils/constants';\nimport { addEvent, sanitize } from '../utils/general';\nimport { isDashSource, isHlsSource } from '../utils/media';\nclass Levels {\n    constructor(player, position, layer) {\n        _Levels_player.set(this, void 0);\n        _Levels_button.set(this, void 0);\n        _Levels_menu.set(this, void 0);\n        _Levels_events.set(this, {\n            button: {},\n            global: {},\n            media: {},\n        });\n        _Levels_levels.set(this, []);\n        _Levels_defaultLevel.set(this, '');\n        _Levels_controlPosition.set(this, void 0);\n        _Levels_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Levels_player, player, \"f\");\n        __classPrivateFieldSet(this, _Levels_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Levels_controlLayer, layer, \"f\");\n    }\n    create() {\n        const { labels, defaultLevel: startLevel, detachMenus } = __classPrivateFieldGet(this, _Levels_player, \"f\").getOptions();\n        const initialLevel = startLevel !== null ? parseInt(startLevel || '0', 10) : __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().level;\n        __classPrivateFieldSet(this, _Levels_defaultLevel, `${initialLevel}`, \"f\");\n        const menuItems = this._formatMenuItems();\n        const defaultLevel = menuItems.length ? menuItems.find((items) => items.key === __classPrivateFieldGet(this, _Levels_defaultLevel, \"f\")) : null;\n        const defaultLabel = defaultLevel ? defaultLevel.label : (labels === null || labels === void 0 ? void 0 : labels.auto) || '';\n        let levelSet = false;\n        __classPrivateFieldSet(this, _Levels_button, document.createElement('button'), \"f\");\n        __classPrivateFieldGet(this, _Levels_button, \"f\").className = `op-controls__levels op-control__${__classPrivateFieldGet(this, _Levels_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Levels_button, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Levels_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.mediaLevels) || '';\n        __classPrivateFieldGet(this, _Levels_button, \"f\").setAttribute('aria-controls', __classPrivateFieldGet(this, _Levels_player, \"f\").id);\n        __classPrivateFieldGet(this, _Levels_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.mediaLevels) || '');\n        __classPrivateFieldGet(this, _Levels_button, \"f\").setAttribute('data-active-level', __classPrivateFieldGet(this, _Levels_defaultLevel, \"f\"));\n        __classPrivateFieldGet(this, _Levels_button, \"f\").innerHTML = `<span>${defaultLabel}</span>`;\n        const loadLevelsEvent = () => {\n            if (!__classPrivateFieldGet(this, _Levels_levels, \"f\").length) {\n                this._gatherLevels();\n                setTimeout(() => {\n                    __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().level = initialLevel;\n                    const e = addEvent('controlschanged');\n                    __classPrivateFieldGet(this, _Levels_player, \"f\").getElement().dispatchEvent(e);\n                }, 0);\n            }\n            else if (!levelSet) {\n                __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().level = initialLevel;\n                levelSet = true;\n            }\n        };\n        __classPrivateFieldGet(this, _Levels_events, \"f\").media.loadedmetadata = loadLevelsEvent.bind(this);\n        __classPrivateFieldGet(this, _Levels_events, \"f\").media.manifestLoaded = loadLevelsEvent.bind(this);\n        __classPrivateFieldGet(this, _Levels_events, \"f\").media.hlsManifestParsed = loadLevelsEvent.bind(this);\n        if (detachMenus) {\n            this._buildMenu();\n            __classPrivateFieldGet(this, _Levels_events, \"f\").button.click = () => {\n                if (detachMenus) {\n                    const menus = __classPrivateFieldGet(this, _Levels_player, \"f\").getContainer().querySelectorAll('.op-settings');\n                    for (let i = 0, total = menus.length; i < total; ++i) {\n                        if (menus[i] !== __classPrivateFieldGet(this, _Levels_menu, \"f\")) {\n                            menus[i].setAttribute('aria-hidden', 'true');\n                        }\n                    }\n                    if (__classPrivateFieldGet(this, _Levels_menu, \"f\").getAttribute('aria-hidden') === 'true') {\n                        __classPrivateFieldGet(this, _Levels_menu, \"f\").setAttribute('aria-hidden', 'false');\n                    }\n                    else {\n                        __classPrivateFieldGet(this, _Levels_menu, \"f\").setAttribute('aria-hidden', 'true');\n                    }\n                }\n            };\n            __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseover = () => {\n                if (!IS_IOS && !IS_ANDROID) {\n                    const menus = __classPrivateFieldGet(this, _Levels_player, \"f\").getContainer().querySelectorAll('.op-settings');\n                    for (let i = 0, total = menus.length; i < total; ++i) {\n                        if (menus[i] !== __classPrivateFieldGet(this, _Levels_menu, \"f\")) {\n                            menus[i].setAttribute('aria-hidden', 'true');\n                        }\n                    }\n                    if (__classPrivateFieldGet(this, _Levels_menu, \"f\").getAttribute('aria-hidden') === 'true') {\n                        __classPrivateFieldGet(this, _Levels_menu, \"f\").setAttribute('aria-hidden', 'false');\n                    }\n                }\n            };\n            __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseout = () => {\n                if (!IS_IOS && !IS_ANDROID) {\n                    const menus = __classPrivateFieldGet(this, _Levels_player, \"f\").getContainer().querySelectorAll('.op-settings');\n                    for (let i = 0, total = menus.length; i < total; ++i) {\n                        menus[i].setAttribute('aria-hidden', 'true');\n                    }\n                    if (__classPrivateFieldGet(this, _Levels_menu, \"f\").getAttribute('aria-hidden') === 'false') {\n                        __classPrivateFieldGet(this, _Levels_menu, \"f\").setAttribute('aria-hidden', 'true');\n                    }\n                }\n            };\n            __classPrivateFieldGet(this, _Levels_button, \"f\").addEventListener('click', __classPrivateFieldGet(this, _Levels_events, \"f\").button.click, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Levels_button, \"f\").addEventListener('mouseover', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseover, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").addEventListener('mouseover', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseover, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").addEventListener('mouseout', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseout, EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Levels_player, \"f\").getElement().addEventListener('controlshidden', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseout, EVENT_OPTIONS);\n        }\n        __classPrivateFieldGet(this, _Levels_events, \"f\").global.click = (e) => {\n            const option = e.target;\n            const { currentTime } = __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia();\n            const isPaused = __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().paused;\n            if (option.closest(`#${__classPrivateFieldGet(this, _Levels_player, \"f\").id}`) && option.classList.contains('op-levels__option')) {\n                const levelVal = option.getAttribute('data-value');\n                const level = levelVal ? levelVal.replace('levels-', '') : '-1';\n                __classPrivateFieldSet(this, _Levels_defaultLevel, `${level}`, \"f\");\n                if (detachMenus) {\n                    __classPrivateFieldGet(this, _Levels_button, \"f\").setAttribute('data-active-level', `${level}`);\n                    __classPrivateFieldGet(this, _Levels_button, \"f\").innerHTML = `<span>${sanitize(option.innerText, true)}</span>`;\n                    const levels = option.parentElement && option.parentElement.parentElement\n                        ? option.parentElement.parentElement.querySelectorAll('.op-settings__submenu-item')\n                        : [];\n                    for (let i = 0, total = levels.length; i < total; ++i) {\n                        levels[i].setAttribute('aria-checked', 'false');\n                    }\n                    if (option.parentElement) {\n                        option.parentElement.setAttribute('aria-checked', 'true');\n                    }\n                    __classPrivateFieldGet(this, _Levels_menu, \"f\").setAttribute('aria-hidden', 'false');\n                }\n                __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().level = level;\n                __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().currentTime = currentTime;\n                if (!isPaused) {\n                    __classPrivateFieldGet(this, _Levels_player, \"f\").play();\n                }\n                const event = addEvent('levelchanged', {\n                    detail: {\n                        label: option.innerText.trim(),\n                        level,\n                    },\n                });\n                __classPrivateFieldGet(this, _Levels_player, \"f\").getElement().dispatchEvent(event);\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        const connection = (NAV === null || NAV === void 0 ? void 0 : NAV.connection) || (NAV === null || NAV === void 0 ? void 0 : NAV.mozConnection) || (NAV === null || NAV === void 0 ? void 0 : NAV.webkitConnection);\n        __classPrivateFieldGet(this, _Levels_events, \"f\").global.connection = () => {\n            const media = __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().current;\n            if (!isDashSource(media) && !isHlsSource(media)) {\n                const type = (connection === null || connection === void 0 ? void 0 : connection.effectiveType) || '';\n                const levels = __classPrivateFieldGet(this, _Levels_levels, \"f\").map((item) => (Object.assign(Object.assign({}, item), { resolution: parseInt(item.label.replace('p', ''), 10) })));\n                let level = levels.find((item) => item.resolution < 360);\n                if (type === '4g') {\n                    level = levels.find((item) => item.resolution >= 720);\n                }\n                else if (type === '3g') {\n                    level = levels.find((item) => item.resolution >= 360 && item.resolution < 720);\n                }\n                if (level) {\n                    __classPrivateFieldGet(this, _Levels_player, \"f\").pause();\n                    __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().level = level.id;\n                    __classPrivateFieldGet(this, _Levels_player, \"f\").play();\n                }\n            }\n        };\n        Object.keys(__classPrivateFieldGet(this, _Levels_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Levels_player, \"f\").getElement().addEventListener(event, __classPrivateFieldGet(this, _Levels_events, \"f\").media[event], EVENT_OPTIONS);\n        });\n        document.addEventListener('click', __classPrivateFieldGet(this, _Levels_events, \"f\").global.click, EVENT_OPTIONS);\n        if (connection) {\n            connection.addEventListener('change', __classPrivateFieldGet(this, _Levels_events, \"f\").global.connection, EVENT_OPTIONS);\n        }\n    }\n    destroy() {\n        const { detachMenus } = __classPrivateFieldGet(this, _Levels_player, \"f\").getOptions();\n        const connection = (NAV === null || NAV === void 0 ? void 0 : NAV.connection) || (NAV === null || NAV === void 0 ? void 0 : NAV.mozConnection) || (NAV === null || NAV === void 0 ? void 0 : NAV.webkitConnection);\n        Object.keys(__classPrivateFieldGet(this, _Levels_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Levels_player, \"f\").getElement().removeEventListener(event, __classPrivateFieldGet(this, _Levels_events, \"f\").media[event]);\n        });\n        document.removeEventListener('click', __classPrivateFieldGet(this, _Levels_events, \"f\").global.click);\n        if (connection) {\n            connection.removeEventListener('change', __classPrivateFieldGet(this, _Levels_events, \"f\").global.connection);\n        }\n        if (detachMenus) {\n            __classPrivateFieldGet(this, _Levels_button, \"f\").removeEventListener('click', __classPrivateFieldGet(this, _Levels_events, \"f\").button.click);\n            __classPrivateFieldGet(this, _Levels_button, \"f\").remove();\n            __classPrivateFieldGet(this, _Levels_button, \"f\").removeEventListener('mouseover', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseover);\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").removeEventListener('mouseover', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseover);\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").removeEventListener('mouseout', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseout);\n            __classPrivateFieldGet(this, _Levels_player, \"f\").getElement().removeEventListener('controlshidden', __classPrivateFieldGet(this, _Levels_events, \"f\").button.mouseout);\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").remove();\n        }\n    }\n    addSettings() {\n        const { labels, detachMenus } = __classPrivateFieldGet(this, _Levels_player, \"f\").getOptions();\n        if (detachMenus) {\n            return {};\n        }\n        const subitems = this._formatMenuItems();\n        return subitems.length > 2\n            ? {\n                className: 'op-levels__option',\n                default: __classPrivateFieldGet(this, _Levels_defaultLevel, \"f\") || '-1',\n                key: 'levels',\n                name: labels === null || labels === void 0 ? void 0 : labels.levels,\n                subitems,\n            }\n            : {};\n    }\n    _formatMenuItems() {\n        const { labels } = __classPrivateFieldGet(this, _Levels_player, \"f\").getOptions();\n        const levels = this._gatherLevels();\n        const total = levels.length;\n        let items = total ? [{ key: '-1', label: labels === null || labels === void 0 ? void 0 : labels.auto }] : [];\n        for (let i = 0; i < total; i++) {\n            const level = levels[i];\n            items = items.filter((el) => el.key !== level.id);\n            items.push({ key: level.id, label: level.label });\n        }\n        return items\n            .reduce((acc, current) => {\n            const duplicate = acc.find((item) => item.label === current.label);\n            if (!duplicate) {\n                return acc.concat([current]);\n            }\n            return acc;\n        }, [])\n            .sort((a, b) => (parseInt((a === null || a === void 0 ? void 0 : a.label) || '', 10) > parseInt((b === null || b === void 0 ? void 0 : b.label) || '', 10) ? 1 : -1));\n    }\n    _getResolutionsLabel(height) {\n        const { labels } = __classPrivateFieldGet(this, _Levels_player, \"f\").getOptions();\n        if (height >= 4320) {\n            return '8K';\n        }\n        if (height >= 2160) {\n            return '4K';\n        }\n        if (height >= 1440) {\n            return '1440p';\n        }\n        if (height >= 1080) {\n            return '1080p';\n        }\n        if (height >= 720) {\n            return '720p';\n        }\n        if (height >= 480) {\n            return '480p';\n        }\n        if (height >= 360) {\n            return '360p';\n        }\n        if (height >= 240) {\n            return '240p';\n        }\n        if (height >= 144) {\n            return '144p';\n        }\n        return (labels === null || labels === void 0 ? void 0 : labels.auto) || '';\n    }\n    _gatherLevels() {\n        if (!__classPrivateFieldGet(this, _Levels_levels, \"f\").length) {\n            __classPrivateFieldGet(this, _Levels_player, \"f\").getMedia().levels.forEach((level) => {\n                __classPrivateFieldGet(this, _Levels_levels, \"f\").push(Object.assign(Object.assign({}, level), { label: level.label || this._getResolutionsLabel(level.height) }));\n            });\n        }\n        return __classPrivateFieldGet(this, _Levels_levels, \"f\");\n    }\n    _buildMenu() {\n        const { detachMenus } = __classPrivateFieldGet(this, _Levels_player, \"f\").getOptions();\n        if (detachMenus) {\n            __classPrivateFieldGet(this, _Levels_button, \"f\").classList.add('op-control--no-hover');\n            __classPrivateFieldSet(this, _Levels_menu, document.createElement('div'), \"f\");\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").className = 'op-settings op-levels__menu';\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").setAttribute('aria-hidden', 'true');\n            const className = 'op-levels__option';\n            const options = this._formatMenuItems();\n            const menu = `<div class=\"op-settings__menu\" role=\"menu\" id=\"menu-item-levels\">\n                ${options\n                .map((item) => `\n                <div class=\"op-settings__submenu-item\" tabindex=\"0\" role=\"menuitemradio\"\n                    aria-checked=\"${__classPrivateFieldGet(this, _Levels_defaultLevel, \"f\") === item.key ? 'true' : 'false'}\">\n                    <div class=\"op-settings__submenu-label ${className || ''}\" data-value=\"levels-${item.key}\">${item.label}</div>\n                </div>`)\n                .join('')}\n            </div>`;\n            __classPrivateFieldGet(this, _Levels_menu, \"f\").innerHTML = menu;\n            const itemContainer = document.createElement('div');\n            itemContainer.className = `op-controls__container op-control__${__classPrivateFieldGet(this, _Levels_controlPosition, \"f\")}`;\n            itemContainer.appendChild(__classPrivateFieldGet(this, _Levels_button, \"f\"));\n            itemContainer.appendChild(__classPrivateFieldGet(this, _Levels_menu, \"f\"));\n            __classPrivateFieldGet(this, _Levels_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Levels_controlLayer, \"f\")).appendChild(itemContainer);\n        }\n    }\n}\n_Levels_player = new WeakMap(), _Levels_button = new WeakMap(), _Levels_menu = new WeakMap(), _Levels_events = new WeakMap(), _Levels_levels = new WeakMap(), _Levels_defaultLevel = new WeakMap(), _Levels_controlPosition = new WeakMap(), _Levels_controlLayer = new WeakMap();\nexport default Levels;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Play_player, _Play_button, _Play_events, _Play_controlPosition, _Play_controlLayer;\nimport Player from '../player';\nimport { EVENT_OPTIONS } from '../utils/constants';\nimport { addEvent, isAudio } from '../utils/general';\nclass Play {\n    constructor(player, position, layer) {\n        _Play_player.set(this, void 0);\n        _Play_button.set(this, void 0);\n        _Play_events.set(this, {\n            controls: {},\n            media: {},\n        });\n        _Play_controlPosition.set(this, void 0);\n        _Play_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Play_player, player, \"f\");\n        __classPrivateFieldSet(this, _Play_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Play_controlLayer, layer, \"f\");\n        this._enterSpaceKeyEvent = this._enterSpaceKeyEvent.bind(this);\n    }\n    create() {\n        var _a;\n        const { labels } = __classPrivateFieldGet(this, _Play_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Play_button, document.createElement('button'), \"f\");\n        __classPrivateFieldGet(this, _Play_button, \"f\").type = 'button';\n        __classPrivateFieldGet(this, _Play_button, \"f\").className = `op-controls__playpause op-control__${__classPrivateFieldGet(this, _Play_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Play_button, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.play) || '';\n        __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-controls', __classPrivateFieldGet(this, _Play_player, \"f\").id);\n        __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-pressed', 'false');\n        __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.play) || '');\n        __classPrivateFieldGet(this, _Play_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Play_controlLayer, \"f\")).appendChild(__classPrivateFieldGet(this, _Play_button, \"f\"));\n        __classPrivateFieldGet(this, _Play_events, \"f\").button = (e) => {\n            __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-pressed', 'true');\n            const el = __classPrivateFieldGet(this, _Play_player, \"f\").activeElement();\n            if (el.paused || el.ended) {\n                if (__classPrivateFieldGet(this, _Play_player, \"f\").getAd()) {\n                    __classPrivateFieldGet(this, _Play_player, \"f\").getAd().playRequested = true;\n                }\n                el.play();\n                __classPrivateFieldGet(this, _Play_events, \"f\").media.play();\n            }\n            else {\n                el.pause();\n                __classPrivateFieldGet(this, _Play_events, \"f\").media.pause();\n            }\n            e.preventDefault();\n            e.stopPropagation();\n        };\n        const isAudioEl = isAudio(__classPrivateFieldGet(this, _Play_player, \"f\").getElement());\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.play = () => {\n            var _a;\n            if (__classPrivateFieldGet(this, _Play_player, \"f\").activeElement().ended) {\n                if (__classPrivateFieldGet(this, _Play_player, \"f\").isMedia()) {\n                    __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--replay');\n                }\n                else {\n                    __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--pause');\n                }\n                __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.play) || '';\n                __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.play) || '');\n            }\n            else {\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--replay');\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--pause');\n                __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.pause) || '';\n                __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.pause) || '');\n                if ((_a = __classPrivateFieldGet(this, _Play_player, \"f\").getOptions()) === null || _a === void 0 ? void 0 : _a.pauseOthers) {\n                    Object.keys(Player.instances).forEach((key) => {\n                        if (key !== __classPrivateFieldGet(this, _Play_player, \"f\").id) {\n                            const target = Player.instances[key].activeElement();\n                            target.pause();\n                        }\n                    });\n                }\n            }\n        };\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.loadedmetadata = () => {\n            if (__classPrivateFieldGet(this, _Play_button, \"f\").classList.contains('op-controls__playpause--pause')) {\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--replay');\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--pause');\n                __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.play) || '';\n                __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.play) || '');\n            }\n        };\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.playing = () => {\n            if (!__classPrivateFieldGet(this, _Play_button, \"f\").classList.contains('op-controls__playpause--pause')) {\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--replay');\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--pause');\n                __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.pause) || '';\n                __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.pause) || '');\n            }\n        };\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.pause = () => {\n            __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--pause');\n            __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.play) || '';\n            __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.play) || '');\n        };\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.ended = () => {\n            if (__classPrivateFieldGet(this, _Play_player, \"f\").activeElement().ended && __classPrivateFieldGet(this, _Play_player, \"f\").isMedia()) {\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--replay');\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--pause');\n            }\n            else if (__classPrivateFieldGet(this, _Play_player, \"f\").getElement().currentTime >= __classPrivateFieldGet(this, _Play_player, \"f\").getElement().duration ||\n                __classPrivateFieldGet(this, _Play_player, \"f\").getElement().currentTime <= 0) {\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--replay');\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--pause');\n            }\n            else {\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--replay');\n                __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--pause');\n            }\n            __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.play) || '';\n            __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.play) || '');\n        };\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.adsmediaended = () => {\n            __classPrivateFieldGet(this, _Play_button, \"f\").classList.remove('op-controls__playpause--replay');\n            __classPrivateFieldGet(this, _Play_button, \"f\").classList.add('op-controls__playpause--pause');\n            __classPrivateFieldGet(this, _Play_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.pause) || '';\n            __classPrivateFieldGet(this, _Play_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.pause) || '');\n        };\n        __classPrivateFieldGet(this, _Play_events, \"f\").media.playererror = () => {\n            if (isAudioEl) {\n                const el = __classPrivateFieldGet(this, _Play_player, \"f\").activeElement();\n                el.pause();\n            }\n        };\n        const element = __classPrivateFieldGet(this, _Play_player, \"f\").getElement();\n        __classPrivateFieldGet(this, _Play_events, \"f\").controls.controlschanged = () => {\n            if (!__classPrivateFieldGet(this, _Play_player, \"f\").activeElement().paused) {\n                const event = addEvent('playing');\n                element.dispatchEvent(event);\n            }\n        };\n        Object.keys(__classPrivateFieldGet(this, _Play_events, \"f\").media).forEach((event) => {\n            element.addEventListener(event, __classPrivateFieldGet(this, _Play_events, \"f\").media[event], EVENT_OPTIONS);\n        });\n        if ((_a = __classPrivateFieldGet(this, _Play_player, \"f\").getOptions().media) === null || _a === void 0 ? void 0 : _a.pauseOnClick) {\n            element.addEventListener('click', __classPrivateFieldGet(this, _Play_events, \"f\").button, EVENT_OPTIONS);\n        }\n        __classPrivateFieldGet(this, _Play_player, \"f\")\n            .getControls()\n            .getContainer()\n            .addEventListener('controlschanged', __classPrivateFieldGet(this, _Play_events, \"f\").controls.controlschanged, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Play_player, \"f\").getContainer().addEventListener('keydown', this._enterSpaceKeyEvent, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Play_button, \"f\").addEventListener('click', __classPrivateFieldGet(this, _Play_events, \"f\").button, EVENT_OPTIONS);\n    }\n    destroy() {\n        var _a;\n        Object.keys(__classPrivateFieldGet(this, _Play_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Play_player, \"f\").getElement().removeEventListener(event, __classPrivateFieldGet(this, _Play_events, \"f\").media[event]);\n        });\n        if ((_a = __classPrivateFieldGet(this, _Play_player, \"f\").getOptions().media) === null || _a === void 0 ? void 0 : _a.pauseOnClick) {\n            __classPrivateFieldGet(this, _Play_player, \"f\").getElement().removeEventListener('click', __classPrivateFieldGet(this, _Play_events, \"f\").button);\n        }\n        __classPrivateFieldGet(this, _Play_player, \"f\")\n            .getControls()\n            .getContainer()\n            .removeEventListener('controlschanged', __classPrivateFieldGet(this, _Play_events, \"f\").controls.controlschanged);\n        __classPrivateFieldGet(this, _Play_player, \"f\").getContainer().removeEventListener('keydown', this._enterSpaceKeyEvent);\n        __classPrivateFieldGet(this, _Play_button, \"f\").removeEventListener('click', __classPrivateFieldGet(this, _Play_events, \"f\").button);\n        __classPrivateFieldGet(this, _Play_button, \"f\").remove();\n    }\n    _enterSpaceKeyEvent(e) {\n        var _a;\n        const key = e.which || e.keyCode || 0;\n        const playBtnFocused = (_a = document === null || document === void 0 ? void 0 : document.activeElement) === null || _a === void 0 ? void 0 : _a.classList.contains('op-controls__playpause');\n        if (playBtnFocused && (key === 13 || key === 32)) {\n            __classPrivateFieldGet(this, _Play_events, \"f\").button(e);\n        }\n    }\n}\n_Play_player = new WeakMap(), _Play_button = new WeakMap(), _Play_events = new WeakMap(), _Play_controlPosition = new WeakMap(), _Play_controlLayer = new WeakMap();\nexport default Play;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Progress_player, _Progress_progress, _Progress_slider, _Progress_buffer, _Progress_played, _Progress_tooltip, _Progress_events, _Progress_forcePause, _Progress_controlPosition, _Progress_controlLayer;\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS } from '../utils/constants';\nimport { isAudio, offset } from '../utils/general';\nimport { formatTime } from '../utils/time';\nclass Progress {\n    constructor(player, position, layer) {\n        _Progress_player.set(this, void 0);\n        _Progress_progress.set(this, void 0);\n        _Progress_slider.set(this, void 0);\n        _Progress_buffer.set(this, void 0);\n        _Progress_played.set(this, void 0);\n        _Progress_tooltip.set(this, void 0);\n        _Progress_events.set(this, {\n            container: {},\n            controls: {},\n            global: {},\n            media: {},\n            slider: {},\n        });\n        _Progress_forcePause.set(this, false);\n        _Progress_controlPosition.set(this, void 0);\n        _Progress_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Progress_player, player, \"f\");\n        __classPrivateFieldSet(this, _Progress_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Progress_controlLayer, layer, \"f\");\n        this._enterSpaceKeyEvent = this._enterSpaceKeyEvent.bind(this);\n    }\n    create() {\n        var _a;\n        const { labels, progress } = __classPrivateFieldGet(this, _Progress_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Progress_progress, document.createElement('div'), \"f\");\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").className = `op-controls__progress op-control__${__classPrivateFieldGet(this, _Progress_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.progressSlider) || '');\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-valuemin', '0');\n        __classPrivateFieldSet(this, _Progress_slider, document.createElement('input'), \"f\");\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").type = 'range';\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").className = 'op-controls__progress--seek';\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").tabIndex = -1;\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('min', '0');\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('max', '0');\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('step', '0.1');\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").value = '0';\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.progressRail) || '');\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('role', 'slider');\n        __classPrivateFieldSet(this, _Progress_buffer, document.createElement('progress'), \"f\");\n        __classPrivateFieldGet(this, _Progress_buffer, \"f\").className = 'op-controls__progress--buffer';\n        __classPrivateFieldGet(this, _Progress_buffer, \"f\").setAttribute('max', '100');\n        __classPrivateFieldGet(this, _Progress_buffer, \"f\").value = 0;\n        __classPrivateFieldSet(this, _Progress_played, document.createElement('progress'), \"f\");\n        __classPrivateFieldGet(this, _Progress_played, \"f\").className = 'op-controls__progress--played';\n        __classPrivateFieldGet(this, _Progress_played, \"f\").setAttribute('max', '100');\n        __classPrivateFieldGet(this, _Progress_played, \"f\").setAttribute('role', 'presentation');\n        __classPrivateFieldGet(this, _Progress_played, \"f\").value = 0;\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").appendChild(__classPrivateFieldGet(this, _Progress_slider, \"f\"));\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").appendChild(__classPrivateFieldGet(this, _Progress_played, \"f\"));\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").appendChild(__classPrivateFieldGet(this, _Progress_buffer, \"f\"));\n        if (!IS_IOS && !IS_ANDROID) {\n            __classPrivateFieldSet(this, _Progress_tooltip, document.createElement('span'), \"f\");\n            __classPrivateFieldGet(this, _Progress_tooltip, \"f\").className = 'op-controls__tooltip';\n            __classPrivateFieldGet(this, _Progress_tooltip, \"f\").tabIndex = -1;\n            __classPrivateFieldGet(this, _Progress_tooltip, \"f\").innerHTML = '00:00';\n            __classPrivateFieldGet(this, _Progress_progress, \"f\").appendChild(__classPrivateFieldGet(this, _Progress_tooltip, \"f\"));\n        }\n        const setInitialProgress = () => {\n            var _a;\n            if (__classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('error')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('error');\n            }\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            if (el.duration !== Infinity &&\n                !__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-live__enabled') &&\n                !__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('max', `${el.duration}`);\n                const current = __classPrivateFieldGet(this, _Progress_player, \"f\").isMedia() ? el.currentTime : el.duration - el.currentTime;\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").value = current.toString();\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-valuemax', el.duration.toString());\n            }\n            else if (__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('max', '1');\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").value = '1';\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").style.backgroundSize = '100% 100%';\n                __classPrivateFieldGet(this, _Progress_played, \"f\").value = 1;\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-valuemax', '1');\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-hidden', 'false');\n            }\n            else if (!((_a = __classPrivateFieldGet(this, _Progress_player, \"f\").getOptions().live) === null || _a === void 0 ? void 0 : _a.showProgress)) {\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-hidden', 'true');\n            }\n        };\n        let lastCurrentTime = 0;\n        const defaultDuration = ((_a = __classPrivateFieldGet(this, _Progress_player, \"f\").getOptions().progress) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n        const isAudioEl = isAudio(__classPrivateFieldGet(this, _Progress_player, \"f\").getElement());\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.loadedmetadata = setInitialProgress.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").controls.controlschanged = setInitialProgress.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.progress = (e) => {\n            var _a;\n            const el = e.target;\n            if (el.duration !== Infinity && !__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-live__enabled')) {\n                if (el.duration > 0) {\n                    for (let i = 0, total = el.buffered.length; i < total; i++) {\n                        if (el.buffered.start(el.buffered.length - 1 - i) < el.currentTime) {\n                            __classPrivateFieldGet(this, _Progress_buffer, \"f\").value = (el.buffered.end(el.buffered.length - 1 - i) / el.duration) * 100;\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (!__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled') &&\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").getAttribute('aria-hidden') === 'false' &&\n                !((_a = __classPrivateFieldGet(this, _Progress_player, \"f\").getOptions().live) === null || _a === void 0 ? void 0 : _a.showProgress)) {\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-hidden', 'true');\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.waiting = () => {\n            if (isAudioEl && !__classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('loading')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.add('loading');\n            }\n            if (isAudioEl && __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('error')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('error');\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.playererror = () => {\n            if (isAudioEl && !__classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('error')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.add('error');\n            }\n            if (isAudioEl && __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('loading')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('loading');\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.pause = () => {\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            if (el.duration !== Infinity && !__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-live__enabled')) {\n                const current = el.currentTime;\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-valuenow', current.toString());\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-valuetext', formatTime(current));\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.play = () => {\n            if (isAudioEl && __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('loading')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('loading');\n            }\n            if (isAudioEl && __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('error')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('error');\n            }\n            if (__classPrivateFieldGet(this, _Progress_player, \"f\").activeElement().duration !== Infinity &&\n                !__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-live__enabled')) {\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").removeAttribute('aria-valuenow');\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").removeAttribute('aria-valuetext');\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.playing = () => {\n            if (isAudioEl && __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('loading')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('loading');\n            }\n            if (isAudioEl && __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('error')) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('error');\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.timeupdate = () => {\n            var _a;\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            if (el.duration !== Infinity &&\n                (!__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-live__enabled') ||\n                    __classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled'))) {\n                if (!__classPrivateFieldGet(this, _Progress_slider, \"f\").getAttribute('max') ||\n                    __classPrivateFieldGet(this, _Progress_slider, \"f\").getAttribute('max') === '0' ||\n                    parseFloat(__classPrivateFieldGet(this, _Progress_slider, \"f\").getAttribute('max') || '-1') !== el.duration) {\n                    __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('max', `${el.duration}`);\n                    __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-hidden', 'false');\n                }\n                const duration = el.duration - el.currentTime + 1 >= 100 ? 100 : el.duration - el.currentTime + 1;\n                const current = __classPrivateFieldGet(this, _Progress_player, \"f\").isMedia() ? el.currentTime : duration;\n                const min = parseFloat(__classPrivateFieldGet(this, _Progress_slider, \"f\").min);\n                const max = parseFloat(__classPrivateFieldGet(this, _Progress_slider, \"f\").max);\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").value = current.toString();\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").style.backgroundSize = `${((current - min) * 100) / (max - min)}% 100%`;\n                __classPrivateFieldGet(this, _Progress_played, \"f\").value =\n                    el.duration <= 0 || Number.isNaN(el.duration) || !Number.isFinite(el.duration)\n                        ? defaultDuration\n                        : (current / el.duration) * 100;\n                if (__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled') && Math.floor(__classPrivateFieldGet(this, _Progress_played, \"f\").value) >= 99) {\n                    lastCurrentTime = el.currentTime;\n                    __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-hidden', 'false');\n                }\n            }\n            else if (!__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled') &&\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").getAttribute('aria-hidden') === 'false' &&\n                !((_a = __classPrivateFieldGet(this, _Progress_player, \"f\").getOptions().live) === null || _a === void 0 ? void 0 : _a.showProgress)) {\n                __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-hidden', 'true');\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.durationchange = () => {\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            const current = __classPrivateFieldGet(this, _Progress_player, \"f\").isMedia() ? el.currentTime : el.duration - el.currentTime;\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('max', `${el.duration}`);\n            __classPrivateFieldGet(this, _Progress_progress, \"f\").setAttribute('aria-valuemax', el.duration.toString());\n            __classPrivateFieldGet(this, _Progress_played, \"f\").value =\n                el.duration <= 0 || Number.isNaN(el.duration) || !Number.isFinite(el.duration)\n                    ? defaultDuration\n                    : (current / el.duration) * 100;\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").media.ended = () => {\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").style.backgroundSize = '0% 100%';\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").setAttribute('max', '0');\n            __classPrivateFieldGet(this, _Progress_buffer, \"f\").value = 0;\n            __classPrivateFieldGet(this, _Progress_played, \"f\").value = 0;\n        };\n        const updateSlider = (e) => {\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            const target = e.target;\n            const value = parseFloat(target.value);\n            if (__classPrivateFieldGet(this, _Progress_slider, \"f\").classList.contains('op-progress--pressed') ||\n                (value < el.currentTime && !(progress === null || progress === void 0 ? void 0 : progress.allowRewind)) ||\n                (value > el.currentTime && !(progress === null || progress === void 0 ? void 0 : progress.allowSkip))) {\n                __classPrivateFieldGet(this, _Progress_slider, \"f\").value = el.currentTime.toString();\n                return;\n            }\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.add('.op-progress--pressed');\n            const min = parseFloat(target.min);\n            const max = parseFloat(target.max);\n            const val = parseFloat(target.value);\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").style.backgroundSize = `${((val - min) * 100) / (max - min)}% 100%`;\n            __classPrivateFieldGet(this, _Progress_played, \"f\").value =\n                el.duration <= 0 || Number.isNaN(el.duration) || !Number.isFinite(el.duration)\n                    ? defaultDuration\n                    : (val / el.duration) * 100;\n            if (__classPrivateFieldGet(this, _Progress_player, \"f\").getElement().getAttribute('op-dvr__enabled')) {\n                el.currentTime = Math.round(__classPrivateFieldGet(this, _Progress_played, \"f\").value) >= 99 ? lastCurrentTime : val;\n            }\n            else {\n                el.currentTime = val;\n            }\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").classList.remove('.op-progress--pressed');\n        };\n        const forcePause = (e) => {\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            const key = e.which || e.keyCode || 0;\n            const target = __classPrivateFieldGet(this, _Progress_slider, \"f\");\n            const value = Math.round(Number(target.value));\n            const current = Math.round(el.currentTime);\n            const isProgressManipulationAllowed = (value < current && (progress === null || progress === void 0 ? void 0 : progress.allowRewind)) || (value >= current && (progress === null || progress === void 0 ? void 0 : progress.allowSkip));\n            if (isProgressManipulationAllowed && (key === 1 || key === 0) && __classPrivateFieldGet(this, _Progress_player, \"f\").isMedia() && !el.paused) {\n                el.pause();\n                __classPrivateFieldSet(this, _Progress_forcePause, true, \"f\");\n            }\n        };\n        const releasePause = () => {\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            if (__classPrivateFieldGet(this, _Progress_forcePause, \"f\") === true && __classPrivateFieldGet(this, _Progress_player, \"f\").isMedia()) {\n                if (el.paused) {\n                    el.play();\n                    __classPrivateFieldSet(this, _Progress_forcePause, false, \"f\");\n                }\n            }\n        };\n        const mobileForcePause = (e) => {\n            var _a;\n            const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n            if (el.duration !== Infinity) {\n                const { changedTouches } = e;\n                const x = ((_a = changedTouches[0]) === null || _a === void 0 ? void 0 : _a.pageX) || 0;\n                const pos = x - offset(__classPrivateFieldGet(this, _Progress_progress, \"f\")).left;\n                const percentage = pos / __classPrivateFieldGet(this, _Progress_progress, \"f\").offsetWidth;\n                const time = percentage * el.duration;\n                if ((time < el.currentTime && (progress === null || progress === void 0 ? void 0 : progress.allowRewind)) ||\n                    (time > el.currentTime && (progress === null || progress === void 0 ? void 0 : progress.allowSkip))) {\n                    __classPrivateFieldGet(this, _Progress_slider, \"f\").value = time.toString();\n                    updateSlider(e);\n                    if (!el.paused) {\n                        el.pause();\n                        __classPrivateFieldSet(this, _Progress_forcePause, true, \"f\");\n                    }\n                }\n            }\n        };\n        __classPrivateFieldGet(this, _Progress_events, \"f\").slider.input = updateSlider.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").slider.change = updateSlider.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").slider.mousedown = forcePause.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").slider.mouseup = releasePause.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").slider.touchstart = mobileForcePause.bind(this);\n        __classPrivateFieldGet(this, _Progress_events, \"f\").slider.touchend = releasePause.bind(this);\n        if (!IS_IOS && !IS_ANDROID) {\n            __classPrivateFieldGet(this, _Progress_events, \"f\").container.mousemove = (e) => {\n                const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n                if (el.duration !== Infinity && !__classPrivateFieldGet(this, _Progress_player, \"f\").isAd()) {\n                    const x = e.pageX;\n                    let pos = x - offset(__classPrivateFieldGet(this, _Progress_progress, \"f\")).left;\n                    const half = __classPrivateFieldGet(this, _Progress_tooltip, \"f\").offsetWidth / 2;\n                    const percentage = pos / __classPrivateFieldGet(this, _Progress_progress, \"f\").offsetWidth;\n                    const time = percentage * el.duration;\n                    const mediaContainer = __classPrivateFieldGet(this, _Progress_player, \"f\").getContainer();\n                    const limit = mediaContainer.offsetWidth - __classPrivateFieldGet(this, _Progress_tooltip, \"f\").offsetWidth;\n                    if (pos <= 0 || x - offset(mediaContainer).left <= half) {\n                        pos = 0;\n                    }\n                    else if (x - offset(mediaContainer).left >= limit) {\n                        pos = limit - offset(__classPrivateFieldGet(this, _Progress_slider, \"f\")).left - 10;\n                    }\n                    else {\n                        pos -= half;\n                    }\n                    if (percentage >= 0 && percentage <= 1) {\n                        __classPrivateFieldGet(this, _Progress_tooltip, \"f\").classList.add('op-controls__tooltip--visible');\n                    }\n                    else {\n                        __classPrivateFieldGet(this, _Progress_tooltip, \"f\").classList.remove('op-controls__tooltip--visible');\n                    }\n                    __classPrivateFieldGet(this, _Progress_tooltip, \"f\").style.left = `${pos}px`;\n                    __classPrivateFieldGet(this, _Progress_tooltip, \"f\").innerHTML = Number.isNaN(time) ? '00:00' : formatTime(time);\n                }\n            };\n            __classPrivateFieldGet(this, _Progress_events, \"f\").global.mousemove = (e) => {\n                if (!e.target.closest('.op-controls__progress') || __classPrivateFieldGet(this, _Progress_player, \"f\").isAd()) {\n                    __classPrivateFieldGet(this, _Progress_tooltip, \"f\").classList.remove('op-controls__tooltip--visible');\n                }\n            };\n        }\n        Object.keys(__classPrivateFieldGet(this, _Progress_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Progress_player, \"f\").getElement().addEventListener(event, __classPrivateFieldGet(this, _Progress_events, \"f\").media[event], EVENT_OPTIONS);\n        });\n        Object.keys(__classPrivateFieldGet(this, _Progress_events, \"f\").slider).forEach((event) => {\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").addEventListener(event, __classPrivateFieldGet(this, _Progress_events, \"f\").slider[event], EVENT_OPTIONS);\n        });\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").addEventListener('keydown', __classPrivateFieldGet(this, _Progress_player, \"f\").getEvents().keydown, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").addEventListener('mousemove', __classPrivateFieldGet(this, _Progress_events, \"f\").container.mousemove, EVENT_OPTIONS);\n        document.addEventListener('mousemove', __classPrivateFieldGet(this, _Progress_events, \"f\").global.mousemove, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Progress_player, \"f\").getContainer().addEventListener('keydown', this._enterSpaceKeyEvent, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Progress_player, \"f\")\n            .getControls()\n            .getContainer()\n            .addEventListener('controlschanged', __classPrivateFieldGet(this, _Progress_events, \"f\").controls.controlschanged, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Progress_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Progress_controlLayer, \"f\")).appendChild(__classPrivateFieldGet(this, _Progress_progress, \"f\"));\n    }\n    destroy() {\n        Object.keys(__classPrivateFieldGet(this, _Progress_events, \"f\")).forEach((event) => {\n            __classPrivateFieldGet(this, _Progress_player, \"f\").getElement().removeEventListener(event, __classPrivateFieldGet(this, _Progress_events, \"f\")[event]);\n        });\n        Object.keys(__classPrivateFieldGet(this, _Progress_events, \"f\").slider).forEach((event) => {\n            __classPrivateFieldGet(this, _Progress_slider, \"f\").removeEventListener(event, __classPrivateFieldGet(this, _Progress_events, \"f\").slider[event]);\n        });\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").removeEventListener('keydown', __classPrivateFieldGet(this, _Progress_player, \"f\").getEvents().keydown);\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").removeEventListener('mousemove', __classPrivateFieldGet(this, _Progress_events, \"f\").container.mousemove);\n        document.removeEventListener('mousemove', __classPrivateFieldGet(this, _Progress_events, \"f\").global.mousemove);\n        __classPrivateFieldGet(this, _Progress_player, \"f\").getContainer().removeEventListener('keydown', this._enterSpaceKeyEvent);\n        __classPrivateFieldGet(this, _Progress_player, \"f\")\n            .getControls()\n            .getContainer()\n            .removeEventListener('controlschanged', __classPrivateFieldGet(this, _Progress_events, \"f\").controls.controlschanged);\n        __classPrivateFieldGet(this, _Progress_buffer, \"f\").remove();\n        __classPrivateFieldGet(this, _Progress_played, \"f\").remove();\n        __classPrivateFieldGet(this, _Progress_slider, \"f\").remove();\n        if (!IS_IOS && !IS_ANDROID) {\n            __classPrivateFieldGet(this, _Progress_tooltip, \"f\").remove();\n        }\n        __classPrivateFieldGet(this, _Progress_progress, \"f\").remove();\n    }\n    _enterSpaceKeyEvent(e) {\n        const el = __classPrivateFieldGet(this, _Progress_player, \"f\").activeElement();\n        const isAd = __classPrivateFieldGet(this, _Progress_player, \"f\").isAd();\n        const key = e.which || e.keyCode || 0;\n        if (!isAd && key >= 48 && key <= 57 && el.duration !== Infinity) {\n            let step = 0;\n            for (let i = 48, limit = 57; i <= limit; i++) {\n                if (i < key) {\n                    step++;\n                }\n            }\n            el.currentTime = el.duration * (0.1 * step);\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n}\n_Progress_player = new WeakMap(), _Progress_progress = new WeakMap(), _Progress_slider = new WeakMap(), _Progress_buffer = new WeakMap(), _Progress_played = new WeakMap(), _Progress_tooltip = new WeakMap(), _Progress_events = new WeakMap(), _Progress_forcePause = new WeakMap(), _Progress_controlPosition = new WeakMap(), _Progress_controlLayer = new WeakMap();\nexport default Progress;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Settings_player, _Settings_submenu, _Settings_button, _Settings_menu, _Settings_events, _Settings_originalOutput, _Settings_controlPosition, _Settings_controlLayer;\nimport { EVENT_OPTIONS } from '../utils/constants';\nimport { sanitize } from '../utils/general';\nclass Settings {\n    constructor(player, position, layer) {\n        _Settings_player.set(this, void 0);\n        _Settings_submenu.set(this, {});\n        _Settings_button.set(this, void 0);\n        _Settings_menu.set(this, void 0);\n        _Settings_events.set(this, {\n            global: {},\n            media: {},\n        });\n        _Settings_originalOutput.set(this, '');\n        _Settings_controlPosition.set(this, void 0);\n        _Settings_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Settings_player, player, \"f\");\n        __classPrivateFieldSet(this, _Settings_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Settings_controlLayer, layer, \"f\");\n        this._enterSpaceKeyEvent = this._enterSpaceKeyEvent.bind(this);\n    }\n    create() {\n        const { labels } = __classPrivateFieldGet(this, _Settings_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Settings_button, document.createElement('button'), \"f\");\n        __classPrivateFieldGet(this, _Settings_button, \"f\").className = `op-controls__settings op-control__${__classPrivateFieldGet(this, _Settings_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Settings_button, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Settings_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.settings) || '';\n        __classPrivateFieldGet(this, _Settings_button, \"f\").setAttribute('aria-controls', __classPrivateFieldGet(this, _Settings_player, \"f\").id);\n        __classPrivateFieldGet(this, _Settings_button, \"f\").setAttribute('aria-pressed', 'false');\n        __classPrivateFieldGet(this, _Settings_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.settings) || '');\n        __classPrivateFieldSet(this, _Settings_menu, document.createElement('div'), \"f\");\n        __classPrivateFieldGet(this, _Settings_menu, \"f\").className = 'op-settings';\n        __classPrivateFieldGet(this, _Settings_menu, \"f\").setAttribute('aria-hidden', 'true');\n        __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML = '<div class=\"op-settings__menu\" role=\"menu\"></div>';\n        this.clickEvent = () => {\n            __classPrivateFieldGet(this, _Settings_button, \"f\").setAttribute('aria-pressed', 'true');\n            const menus = __classPrivateFieldGet(this, _Settings_player, \"f\").getContainer().querySelectorAll('.op-settings');\n            for (let i = 0, total = menus.length; i < total; ++i) {\n                if (menus[i] !== __classPrivateFieldGet(this, _Settings_menu, \"f\")) {\n                    menus[i].setAttribute('aria-hidden', 'true');\n                }\n            }\n            __classPrivateFieldGet(this, _Settings_menu, \"f\").setAttribute('aria-hidden', __classPrivateFieldGet(this, _Settings_menu, \"f\").getAttribute('aria-hidden') === 'false' ? 'true' : 'false');\n        };\n        this.hideEvent = () => {\n            let timeout;\n            if (timeout && typeof window !== 'undefined') {\n                window.cancelAnimationFrame(timeout);\n            }\n            if (typeof window !== 'undefined') {\n                timeout = window.requestAnimationFrame(() => {\n                    __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML = __classPrivateFieldGet(this, _Settings_originalOutput, \"f\");\n                    __classPrivateFieldGet(this, _Settings_menu, \"f\").setAttribute('aria-hidden', 'true');\n                });\n            }\n        };\n        this.removeEvent = (e) => {\n            const { id, type } = e.detail;\n            this.removeItem(id, type);\n        };\n        this.clickEvent = this.clickEvent.bind(this);\n        this.hideEvent = this.hideEvent.bind(this);\n        this.removeEvent = this.removeEvent.bind(this);\n        __classPrivateFieldGet(this, _Settings_events, \"f\").media.controlshidden = this.hideEvent.bind(this);\n        __classPrivateFieldGet(this, _Settings_events, \"f\").media.settingremoved = this.removeEvent.bind(this);\n        __classPrivateFieldGet(this, _Settings_events, \"f\").media.play = this.hideEvent.bind(this);\n        __classPrivateFieldGet(this, _Settings_events, \"f\").media.pause = this.hideEvent.bind(this);\n        __classPrivateFieldGet(this, _Settings_player, \"f\").getContainer().addEventListener('keydown', this._enterSpaceKeyEvent, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Settings_events, \"f\").global.click = (e) => {\n            const { target } = e;\n            const current = target;\n            if ((current === null || current === void 0 ? void 0 : current.closest(`#${__classPrivateFieldGet(this, _Settings_player, \"f\").id}`)) && (current === null || current === void 0 ? void 0 : current.classList.contains('op-speed__option'))) {\n                const level = (current === null || current === void 0 ? void 0 : current.getAttribute('data-value')) || '';\n                __classPrivateFieldGet(this, _Settings_player, \"f\").getMedia().playbackRate = parseFloat(level.replace('speed-', ''));\n            }\n        };\n        __classPrivateFieldGet(this, _Settings_events, \"f\").global.resize = this.hideEvent.bind(this);\n        __classPrivateFieldGet(this, _Settings_button, \"f\").addEventListener('click', this.clickEvent, EVENT_OPTIONS);\n        Object.keys(__classPrivateFieldGet(this, _Settings_events, \"f\")).forEach((event) => {\n            __classPrivateFieldGet(this, _Settings_player, \"f\").getElement().addEventListener(event, __classPrivateFieldGet(this, _Settings_events, \"f\").media[event], EVENT_OPTIONS);\n        });\n        document.addEventListener('click', __classPrivateFieldGet(this, _Settings_events, \"f\").global.click, EVENT_OPTIONS);\n        document.addEventListener('keydown', __classPrivateFieldGet(this, _Settings_events, \"f\").global.click, EVENT_OPTIONS);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('resize', __classPrivateFieldGet(this, _Settings_events, \"f\").global.resize, EVENT_OPTIONS);\n        }\n        __classPrivateFieldGet(this, _Settings_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Settings_controlLayer, \"f\")).appendChild(__classPrivateFieldGet(this, _Settings_button, \"f\"));\n        __classPrivateFieldGet(this, _Settings_player, \"f\").getContainer().appendChild(__classPrivateFieldGet(this, _Settings_menu, \"f\"));\n    }\n    destroy() {\n        __classPrivateFieldGet(this, _Settings_button, \"f\").removeEventListener('click', this.clickEvent);\n        Object.keys(__classPrivateFieldGet(this, _Settings_events, \"f\")).forEach((event) => {\n            __classPrivateFieldGet(this, _Settings_player, \"f\").getElement().removeEventListener(event, __classPrivateFieldGet(this, _Settings_events, \"f\").media[event]);\n        });\n        document.removeEventListener('click', __classPrivateFieldGet(this, _Settings_events, \"f\").global.click);\n        document.removeEventListener('keydown', __classPrivateFieldGet(this, _Settings_events, \"f\").global.click);\n        if (typeof window !== 'undefined') {\n            window.removeEventListener('resize', __classPrivateFieldGet(this, _Settings_events, \"f\").global.resize);\n        }\n        if (__classPrivateFieldGet(this, _Settings_events, \"f\").global['settings.submenu'] !== undefined) {\n            document.removeEventListener('click', __classPrivateFieldGet(this, _Settings_events, \"f\").global['settings.submenu']);\n            __classPrivateFieldGet(this, _Settings_player, \"f\").getElement().removeEventListener('controlshidden', this.hideEvent);\n        }\n        __classPrivateFieldGet(this, _Settings_player, \"f\").getContainer().removeEventListener('keydown', this._enterSpaceKeyEvent);\n        __classPrivateFieldGet(this, _Settings_menu, \"f\").remove();\n        __classPrivateFieldGet(this, _Settings_button, \"f\").remove();\n    }\n    addSettings() {\n        const media = __classPrivateFieldGet(this, _Settings_player, \"f\").getMedia();\n        const { labels } = __classPrivateFieldGet(this, _Settings_player, \"f\").getOptions();\n        let rate = 1;\n        if (__classPrivateFieldGet(this, _Settings_player, \"f\") && media) {\n            rate = media.defaultPlaybackRate !== media.playbackRate ? media.playbackRate : media.defaultPlaybackRate;\n        }\n        return {\n            className: 'op-speed__option',\n            default: rate.toString(),\n            key: 'speed',\n            name: (labels === null || labels === void 0 ? void 0 : labels.speed) || '',\n            subitems: [\n                { key: '0.25', label: '0.25' },\n                { key: '0.5', label: '0.5' },\n                { key: '0.75', label: '0.75' },\n                { key: '1', label: (labels === null || labels === void 0 ? void 0 : labels.speedNormal) || '' },\n                { key: '1.25', label: '1.25' },\n                { key: '1.5', label: '1.5' },\n                { key: '2', label: '2' },\n            ],\n        };\n    }\n    addItem(name, key, defaultValue, submenu, className) {\n        const dataValue = `${key}-${sanitize(defaultValue, true)}`;\n        const menuItem = document.createElement('div');\n        menuItem.className = 'op-settings__menu-item';\n        menuItem.tabIndex = 0;\n        menuItem.setAttribute('role', 'menuitemradio');\n        menuItem.innerHTML = `<div class=\"op-settings__menu-label\" data-value=\"${dataValue}\">${name}</div>`;\n        const submenuMatch = submenu ? submenu.find((x) => x.key === defaultValue) : null;\n        if (submenuMatch) {\n            menuItem.innerHTML += `<div class=\"op-settings__menu-content\" tabindex=\"0\">${submenuMatch.label}</div>`;\n        }\n        const mainMenu = __classPrivateFieldGet(this, _Settings_menu, \"f\").querySelector('.op-settings__menu');\n        if (mainMenu) {\n            mainMenu.appendChild(menuItem);\n        }\n        __classPrivateFieldSet(this, _Settings_originalOutput, __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML, \"f\");\n        if (submenu) {\n            const subItems = `\n                <div class=\"op-settings__header\">\n                    <button type=\"button\" class=\"op-settings__back\" tabindex=\"0\">${name}</button>\n                </div>\n                <div class=\"op-settings__menu\" role=\"menu\" id=\"menu-item-${key}\">\n                    ${submenu\n                .map((item) => `\n                    <div class=\"op-settings__submenu-item\" role=\"menuitemradio\" aria-checked=\"${defaultValue === item.key ? 'true' : 'false'}\">\n                        <div class=\"op-settings__submenu-label ${className || ''}\" tabindex=\"0\" data-value=\"${key}-${item.key}\">\n                            ${item.label}\n                        </div>\n                    </div>`)\n                .join('')}\n                </div>`;\n            __classPrivateFieldGet(this, _Settings_submenu, \"f\")[key] = subItems;\n        }\n        __classPrivateFieldGet(this, _Settings_events, \"f\").global['settings.submenu'] = (e) => {\n            const target = e.target;\n            if (target.closest(`#${__classPrivateFieldGet(this, _Settings_player, \"f\").id}`)) {\n                if (target.classList.contains('op-settings__back')) {\n                    __classPrivateFieldGet(this, _Settings_menu, \"f\").classList.add('op-settings--sliding');\n                    setTimeout(() => {\n                        __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML = __classPrivateFieldGet(this, _Settings_originalOutput, \"f\");\n                        __classPrivateFieldGet(this, _Settings_menu, \"f\").classList.remove('op-settings--sliding');\n                    }, 100);\n                }\n                else if (target.classList.contains('op-settings__menu-content')) {\n                    const labelEl = target.parentElement\n                        ? target.parentElement.querySelector('.op-settings__menu-label')\n                        : null;\n                    const label = labelEl ? labelEl.getAttribute('data-value') : null;\n                    const fragments = label ? label.split('-') : [];\n                    if (fragments.length > 0) {\n                        fragments.pop();\n                        const current = fragments.join('-').replace(/^\\-|\\-$/, '');\n                        if (typeof __classPrivateFieldGet(this, _Settings_submenu, \"f\")[current] !== 'undefined') {\n                            __classPrivateFieldGet(this, _Settings_menu, \"f\").classList.add('op-settings--sliding');\n                            setTimeout(() => {\n                                __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML = __classPrivateFieldGet(this, _Settings_submenu, \"f\")[current];\n                                __classPrivateFieldGet(this, _Settings_menu, \"f\").classList.remove('op-settings--sliding');\n                            }, 100);\n                        }\n                    }\n                }\n                else if (target.classList.contains('op-settings__submenu-label')) {\n                    const current = target.getAttribute('data-value');\n                    const value = current ? current.replace(`${key}-`, '') : '';\n                    const label = target.innerText;\n                    const menuTarget = __classPrivateFieldGet(this, _Settings_menu, \"f\").querySelector(`#menu-item-${key} .op-settings__submenu-item[aria-checked=true]`);\n                    if (menuTarget) {\n                        menuTarget.setAttribute('aria-checked', 'false');\n                        if (target.parentElement) {\n                            target.parentElement.setAttribute('aria-checked', 'true');\n                        }\n                        __classPrivateFieldGet(this, _Settings_submenu, \"f\")[key] = __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML;\n                        __classPrivateFieldGet(this, _Settings_menu, \"f\").classList.add('op-settings--sliding');\n                        setTimeout(() => {\n                            __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML = __classPrivateFieldGet(this, _Settings_originalOutput, \"f\");\n                            const prev = __classPrivateFieldGet(this, _Settings_menu, \"f\").querySelector(`.op-settings__menu-label[data-value=\"${key}-${defaultValue}\"]`);\n                            if (prev) {\n                                prev.setAttribute('data-value', `${current}`);\n                                if (prev.nextElementSibling) {\n                                    prev.nextElementSibling.textContent = label;\n                                }\n                            }\n                            defaultValue = value;\n                            __classPrivateFieldSet(this, _Settings_originalOutput, __classPrivateFieldGet(this, _Settings_menu, \"f\").innerHTML, \"f\");\n                            __classPrivateFieldGet(this, _Settings_menu, \"f\").classList.remove('op-settings--sliding');\n                        }, 100);\n                    }\n                }\n            }\n            else {\n                this.hideEvent();\n            }\n        };\n        document.addEventListener('click', __classPrivateFieldGet(this, _Settings_events, \"f\").global['settings.submenu'], EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Settings_player, \"f\").getElement().addEventListener('controlshidden', this.hideEvent, EVENT_OPTIONS);\n    }\n    removeItem(id, type, minItems = 2) {\n        const target = __classPrivateFieldGet(this, _Settings_player, \"f\").getElement().querySelector(`.op-settings__submenu-label[data-value=${type}-${id}]`);\n        if (target) {\n            target.remove();\n        }\n        if (__classPrivateFieldGet(this, _Settings_player, \"f\").getElement().querySelectorAll(`.op-settings__submenu-label[data-value^=${type}]`).length <\n            minItems) {\n            delete __classPrivateFieldGet(this, _Settings_submenu, \"f\")[type];\n            const label = __classPrivateFieldGet(this, _Settings_player, \"f\").getElement().querySelector(`.op-settings__menu-label[data-value^=${type}]`);\n            const menuItem = label ? label.closest('.op-settings__menu-item') : null;\n            if (menuItem) {\n                menuItem.remove();\n            }\n        }\n    }\n    _enterSpaceKeyEvent(e) {\n        var _a, _b, _c, _d;\n        const key = e.which || e.keyCode || 0;\n        const isAd = __classPrivateFieldGet(this, _Settings_player, \"f\").isAd();\n        const settingsBtnFocused = (_a = document === null || document === void 0 ? void 0 : document.activeElement) === null || _a === void 0 ? void 0 : _a.classList.contains('op-controls__settings');\n        const menuFocused = ((_b = document === null || document === void 0 ? void 0 : document.activeElement) === null || _b === void 0 ? void 0 : _b.classList.contains('op-settings__menu-content')) ||\n            ((_c = document === null || document === void 0 ? void 0 : document.activeElement) === null || _c === void 0 ? void 0 : _c.classList.contains('op-settings__back')) ||\n            ((_d = document === null || document === void 0 ? void 0 : document.activeElement) === null || _d === void 0 ? void 0 : _d.classList.contains('op-settings__submenu-label'));\n        if (!isAd) {\n            if (settingsBtnFocused && (key === 13 || key === 32)) {\n                this.clickEvent();\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            else if (menuFocused && (key === 13 || key === 32)) {\n                __classPrivateFieldGet(this, _Settings_events, \"f\").global['settings.submenu'](e);\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n    }\n}\n_Settings_player = new WeakMap(), _Settings_submenu = new WeakMap(), _Settings_button = new WeakMap(), _Settings_menu = new WeakMap(), _Settings_events = new WeakMap(), _Settings_originalOutput = new WeakMap(), _Settings_controlPosition = new WeakMap(), _Settings_controlLayer = new WeakMap();\nexport default Settings;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Time_player, _Time_currentTime, _Time_delimiter, _Time_duration, _Time_container, _Time_events, _Time_controlPosition, _Time_controlLayer;\nimport { EVENT_OPTIONS } from '../utils/constants';\nimport { formatTime } from '../utils/time';\nclass Time {\n    constructor(player, position, layer) {\n        _Time_player.set(this, void 0);\n        _Time_currentTime.set(this, void 0);\n        _Time_delimiter.set(this, void 0);\n        _Time_duration.set(this, void 0);\n        _Time_container.set(this, void 0);\n        _Time_events.set(this, {\n            controls: {},\n            media: {},\n        });\n        _Time_controlPosition.set(this, void 0);\n        _Time_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Time_player, player, \"f\");\n        __classPrivateFieldSet(this, _Time_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Time_controlLayer, layer, \"f\");\n    }\n    create() {\n        const { labels, progress } = __classPrivateFieldGet(this, _Time_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Time_currentTime, document.createElement('time'), \"f\");\n        __classPrivateFieldGet(this, _Time_currentTime, \"f\").className = 'op-controls__current';\n        __classPrivateFieldGet(this, _Time_currentTime, \"f\").setAttribute('role', 'timer');\n        __classPrivateFieldGet(this, _Time_currentTime, \"f\").setAttribute('aria-live', 'off');\n        __classPrivateFieldGet(this, _Time_currentTime, \"f\").setAttribute('aria-hidden', 'false');\n        __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = '0:00';\n        const showOnlyCurrent = (progress === null || progress === void 0 ? void 0 : progress.showCurrentTimeOnly) || false;\n        if (!showOnlyCurrent) {\n            __classPrivateFieldSet(this, _Time_delimiter, document.createElement('span'), \"f\");\n            __classPrivateFieldGet(this, _Time_delimiter, \"f\").className = 'op-controls__time-delimiter';\n            __classPrivateFieldGet(this, _Time_delimiter, \"f\").setAttribute('aria-hidden', 'false');\n            __classPrivateFieldGet(this, _Time_delimiter, \"f\").innerText = '/';\n            __classPrivateFieldSet(this, _Time_duration, document.createElement('time'), \"f\");\n            __classPrivateFieldGet(this, _Time_duration, \"f\").className = 'op-controls__duration';\n            __classPrivateFieldGet(this, _Time_duration, \"f\").setAttribute('aria-hidden', 'false');\n            __classPrivateFieldGet(this, _Time_duration, \"f\").innerText = formatTime((progress === null || progress === void 0 ? void 0 : progress.duration) || 0);\n        }\n        const controls = __classPrivateFieldGet(this, _Time_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Time_controlLayer, \"f\"));\n        __classPrivateFieldSet(this, _Time_container, document.createElement('span'), \"f\");\n        __classPrivateFieldGet(this, _Time_container, \"f\").className = `op-controls-time op-control__${__classPrivateFieldGet(this, _Time_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Time_container, \"f\").appendChild(__classPrivateFieldGet(this, _Time_currentTime, \"f\"));\n        if (!showOnlyCurrent) {\n            __classPrivateFieldGet(this, _Time_container, \"f\").appendChild(__classPrivateFieldGet(this, _Time_delimiter, \"f\"));\n            __classPrivateFieldGet(this, _Time_container, \"f\").appendChild(__classPrivateFieldGet(this, _Time_duration, \"f\"));\n        }\n        controls.appendChild(__classPrivateFieldGet(this, _Time_container, \"f\"));\n        const setInitialTime = () => {\n            var _a;\n            const el = __classPrivateFieldGet(this, _Time_player, \"f\").activeElement();\n            if (el.duration !== Infinity && !__classPrivateFieldGet(this, _Time_player, \"f\").getElement().getAttribute('op-live__enabled')) {\n                if (!showOnlyCurrent) {\n                    const duration = !Number.isNaN(el.duration)\n                        ? el.duration\n                        : ((_a = __classPrivateFieldGet(this, _Time_player, \"f\").getOptions().progress) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n                    __classPrivateFieldGet(this, _Time_duration, \"f\").innerText = formatTime(duration);\n                }\n                __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = formatTime(el.currentTime);\n            }\n            else if (!showOnlyCurrent) {\n                __classPrivateFieldGet(this, _Time_duration, \"f\").setAttribute('aria-hidden', 'true');\n                __classPrivateFieldGet(this, _Time_delimiter, \"f\").setAttribute('aria-hidden', 'true');\n            }\n        };\n        __classPrivateFieldGet(this, _Time_events, \"f\").media.loadedmetadata = setInitialTime.bind(this);\n        __classPrivateFieldGet(this, _Time_events, \"f\").controls.controlschanged = setInitialTime.bind(this);\n        const { showLabel: showLiveLabel } = __classPrivateFieldGet(this, _Time_player, \"f\").getOptions().live || {};\n        __classPrivateFieldGet(this, _Time_events, \"f\").media.timeupdate = () => {\n            const el = __classPrivateFieldGet(this, _Time_player, \"f\").activeElement();\n            if (el.duration !== Infinity &&\n                !__classPrivateFieldGet(this, _Time_player, \"f\").getElement().getAttribute('op-live__enabled') &&\n                !__classPrivateFieldGet(this, _Time_player, \"f\").getElement().getAttribute('op-dvr__enabled')) {\n                const duration = formatTime(el.duration);\n                if (!showOnlyCurrent && !Number.isNaN(el.duration) && duration !== __classPrivateFieldGet(this, _Time_duration, \"f\").innerText) {\n                    __classPrivateFieldGet(this, _Time_duration, \"f\").innerText = duration;\n                    __classPrivateFieldGet(this, _Time_duration, \"f\").setAttribute('aria-hidden', 'false');\n                    __classPrivateFieldGet(this, _Time_delimiter, \"f\").setAttribute('aria-hidden', 'false');\n                }\n                else if (showOnlyCurrent || duration !== __classPrivateFieldGet(this, _Time_duration, \"f\").innerText) {\n                    __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = showLiveLabel ? (labels === null || labels === void 0 ? void 0 : labels.live) || '' : formatTime(el.currentTime);\n                }\n                __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = formatTime(el.currentTime);\n            }\n            else if (__classPrivateFieldGet(this, _Time_player, \"f\").getElement().getAttribute('op-dvr__enabled')) {\n                if (!showOnlyCurrent) {\n                    __classPrivateFieldGet(this, _Time_duration, \"f\").setAttribute('aria-hidden', 'true');\n                    __classPrivateFieldGet(this, _Time_delimiter, \"f\").setAttribute('aria-hidden', 'true');\n                }\n                __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = formatTime(el.currentTime);\n            }\n            else if (showOnlyCurrent ||\n                (!__classPrivateFieldGet(this, _Time_player, \"f\").getElement().getAttribute('op-dvr__enabled') &&\n                    __classPrivateFieldGet(this, _Time_duration, \"f\").getAttribute('aria-hidden') === 'false')) {\n                if (!showOnlyCurrent) {\n                    __classPrivateFieldGet(this, _Time_duration, \"f\").setAttribute('aria-hidden', 'true');\n                    __classPrivateFieldGet(this, _Time_delimiter, \"f\").setAttribute('aria-hidden', 'true');\n                }\n                __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = showLiveLabel ? (labels === null || labels === void 0 ? void 0 : labels.live) || '' : formatTime(el.currentTime);\n            }\n            else {\n                __classPrivateFieldGet(this, _Time_currentTime, \"f\").innerText = showLiveLabel ? (labels === null || labels === void 0 ? void 0 : labels.live) || '' : formatTime(el.currentTime);\n            }\n        };\n        __classPrivateFieldGet(this, _Time_events, \"f\").media.ended = () => {\n            var _a;\n            const el = __classPrivateFieldGet(this, _Time_player, \"f\").activeElement();\n            const duration = !Number.isNaN(el.duration)\n                ? el.duration\n                : ((_a = __classPrivateFieldGet(this, _Time_player, \"f\").getOptions().progress) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n            if (!showOnlyCurrent && __classPrivateFieldGet(this, _Time_player, \"f\").isMedia()) {\n                __classPrivateFieldGet(this, _Time_duration, \"f\").innerText = formatTime(duration);\n            }\n        };\n        Object.keys(__classPrivateFieldGet(this, _Time_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Time_player, \"f\").getElement().addEventListener(event, __classPrivateFieldGet(this, _Time_events, \"f\").media[event], EVENT_OPTIONS);\n        });\n        __classPrivateFieldGet(this, _Time_player, \"f\")\n            .getControls()\n            .getContainer()\n            .addEventListener('controlschanged', __classPrivateFieldGet(this, _Time_events, \"f\").controls.controlschanged, EVENT_OPTIONS);\n    }\n    destroy() {\n        Object.keys(__classPrivateFieldGet(this, _Time_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Time_player, \"f\").getElement().removeEventListener(event, __classPrivateFieldGet(this, _Time_events, \"f\").media[event]);\n        });\n        __classPrivateFieldGet(this, _Time_player, \"f\")\n            .getControls()\n            .getContainer()\n            .removeEventListener('controlschanged', __classPrivateFieldGet(this, _Time_events, \"f\").controls.controlschanged);\n        __classPrivateFieldGet(this, _Time_currentTime, \"f\").remove();\n        const { showCurrentTimeOnly } = __classPrivateFieldGet(this, _Time_player, \"f\").getOptions().progress || {};\n        if (!showCurrentTimeOnly) {\n            __classPrivateFieldGet(this, _Time_delimiter, \"f\").remove();\n            __classPrivateFieldGet(this, _Time_duration, \"f\").remove();\n        }\n        __classPrivateFieldGet(this, _Time_container, \"f\").remove();\n    }\n}\n_Time_player = new WeakMap(), _Time_currentTime = new WeakMap(), _Time_delimiter = new WeakMap(), _Time_duration = new WeakMap(), _Time_container = new WeakMap(), _Time_events = new WeakMap(), _Time_controlPosition = new WeakMap(), _Time_controlLayer = new WeakMap();\nexport default Time;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Volume_player, _Volume_button, _Volume_container, _Volume_display, _Volume_slider, _Volume_events, _Volume_volume, _Volume_controlPosition, _Volume_controlLayer;\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS } from '../utils/constants';\nimport { addEvent } from '../utils/general';\nclass Volume {\n    constructor(player, position, layer) {\n        _Volume_player.set(this, void 0);\n        _Volume_button.set(this, void 0);\n        _Volume_container.set(this, void 0);\n        _Volume_display.set(this, void 0);\n        _Volume_slider.set(this, void 0);\n        _Volume_events.set(this, {\n            button: {},\n            media: {},\n            slider: {},\n        });\n        _Volume_volume.set(this, void 0);\n        _Volume_controlPosition.set(this, void 0);\n        _Volume_controlLayer.set(this, void 0);\n        __classPrivateFieldSet(this, _Volume_player, player, \"f\");\n        __classPrivateFieldSet(this, _Volume_volume, __classPrivateFieldGet(this, _Volume_player, \"f\").getMedia().volume, \"f\");\n        __classPrivateFieldSet(this, _Volume_controlPosition, position, \"f\");\n        __classPrivateFieldSet(this, _Volume_controlLayer, layer, \"f\");\n        this._enterSpaceKeyEvent = this._enterSpaceKeyEvent.bind(this);\n    }\n    create() {\n        const { labels } = __classPrivateFieldGet(this, _Volume_player, \"f\").getOptions();\n        __classPrivateFieldSet(this, _Volume_container, document.createElement('div'), \"f\");\n        __classPrivateFieldGet(this, _Volume_container, \"f\").className = `op-controls__volume op-control__${__classPrivateFieldGet(this, _Volume_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Volume_container, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-valuemin', '0');\n        __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-valuemax', '100');\n        __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-valuenow', `${__classPrivateFieldGet(this, _Volume_volume, \"f\")}`);\n        __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-valuetext', `${(labels === null || labels === void 0 ? void 0 : labels.volume) || ''}: ${__classPrivateFieldGet(this, _Volume_volume, \"f\")}`);\n        __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-orientation', 'vertical');\n        __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.volumeSlider) || '');\n        __classPrivateFieldSet(this, _Volume_slider, document.createElement('input'), \"f\");\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").type = 'range';\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").className = 'op-controls__volume--input';\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").tabIndex = -1;\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").value = __classPrivateFieldGet(this, _Volume_player, \"f\").getMedia().volume.toString();\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").setAttribute('min', '0');\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").setAttribute('max', '1');\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").setAttribute('step', '0.1');\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.volumeControl) || '');\n        __classPrivateFieldSet(this, _Volume_display, document.createElement('progress'), \"f\");\n        __classPrivateFieldGet(this, _Volume_display, \"f\").className = 'op-controls__volume--display';\n        __classPrivateFieldGet(this, _Volume_display, \"f\").setAttribute('max', '10');\n        __classPrivateFieldGet(this, _Volume_display, \"f\").setAttribute('role', 'presentation');\n        __classPrivateFieldGet(this, _Volume_display, \"f\").value = __classPrivateFieldGet(this, _Volume_player, \"f\").getMedia().volume * 10;\n        __classPrivateFieldGet(this, _Volume_container, \"f\").appendChild(__classPrivateFieldGet(this, _Volume_slider, \"f\"));\n        __classPrivateFieldGet(this, _Volume_container, \"f\").appendChild(__classPrivateFieldGet(this, _Volume_display, \"f\"));\n        __classPrivateFieldSet(this, _Volume_button, document.createElement('button'), \"f\");\n        __classPrivateFieldGet(this, _Volume_button, \"f\").type = 'button';\n        __classPrivateFieldGet(this, _Volume_button, \"f\").className = `op-controls__mute op-control__${__classPrivateFieldGet(this, _Volume_controlPosition, \"f\")}`;\n        __classPrivateFieldGet(this, _Volume_button, \"f\").tabIndex = 0;\n        __classPrivateFieldGet(this, _Volume_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.mute) || '';\n        __classPrivateFieldGet(this, _Volume_button, \"f\").setAttribute('aria-controls', __classPrivateFieldGet(this, _Volume_player, \"f\").id);\n        __classPrivateFieldGet(this, _Volume_button, \"f\").setAttribute('aria-pressed', 'false');\n        __classPrivateFieldGet(this, _Volume_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.mute) || '');\n        const updateSlider = (element) => {\n            const mediaVolume = element.volume * 1;\n            const vol = Math.floor(mediaVolume * 100);\n            __classPrivateFieldGet(this, _Volume_slider, \"f\").value = `${element.volume}`;\n            __classPrivateFieldGet(this, _Volume_display, \"f\").value = mediaVolume * 10;\n            __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-valuenow', `${vol}`);\n            __classPrivateFieldGet(this, _Volume_container, \"f\").setAttribute('aria-valuetext', `${labels === null || labels === void 0 ? void 0 : labels.volume}: ${vol}`);\n        };\n        const updateButton = (element) => {\n            const vol = element.volume;\n            if (vol <= 0.5 && vol > 0) {\n                __classPrivateFieldGet(this, _Volume_button, \"f\").classList.remove('op-controls__mute--muted');\n                __classPrivateFieldGet(this, _Volume_button, \"f\").classList.add('op-controls__mute--half');\n            }\n            else if (vol === 0) {\n                __classPrivateFieldGet(this, _Volume_button, \"f\").classList.add('op-controls__mute--muted');\n                __classPrivateFieldGet(this, _Volume_button, \"f\").classList.remove('op-controls__mute--half');\n            }\n            else {\n                __classPrivateFieldGet(this, _Volume_button, \"f\").classList.remove('op-controls__mute--muted');\n                __classPrivateFieldGet(this, _Volume_button, \"f\").classList.remove('op-controls__mute--half');\n            }\n        };\n        const updateVolume = (event) => {\n            const el = __classPrivateFieldGet(this, _Volume_player, \"f\").activeElement();\n            const value = parseFloat(event.target.value);\n            el.volume = value;\n            el.muted = el.volume === 0;\n            __classPrivateFieldSet(this, _Volume_volume, value, \"f\");\n            const unmuteEl = __classPrivateFieldGet(this, _Volume_player, \"f\").getContainer().querySelector('.op-player__unmute');\n            if (!el.muted && unmuteEl) {\n                unmuteEl.remove();\n            }\n            const e = addEvent('volumechange');\n            __classPrivateFieldGet(this, _Volume_player, \"f\").getElement().dispatchEvent(e);\n        };\n        __classPrivateFieldGet(this, _Volume_events, \"f\").media.volumechange = () => {\n            const el = __classPrivateFieldGet(this, _Volume_player, \"f\").activeElement();\n            updateSlider(el);\n            updateButton(el);\n        };\n        __classPrivateFieldGet(this, _Volume_events, \"f\").media.loadedmetadata = () => {\n            const el = __classPrivateFieldGet(this, _Volume_player, \"f\").activeElement();\n            if (el.muted) {\n                el.volume = 0;\n            }\n            const e = addEvent('volumechange');\n            __classPrivateFieldGet(this, _Volume_player, \"f\").getElement().dispatchEvent(e);\n        };\n        __classPrivateFieldGet(this, _Volume_events, \"f\").slider.input = updateVolume.bind(this);\n        __classPrivateFieldGet(this, _Volume_events, \"f\").slider.change = updateVolume.bind(this);\n        __classPrivateFieldGet(this, _Volume_events, \"f\").button.click = () => {\n            __classPrivateFieldGet(this, _Volume_button, \"f\").setAttribute('aria-pressed', 'true');\n            const el = __classPrivateFieldGet(this, _Volume_player, \"f\").activeElement();\n            el.muted = !el.muted;\n            if (el.muted) {\n                el.volume = 0;\n                __classPrivateFieldGet(this, _Volume_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.unmute) || '';\n                __classPrivateFieldGet(this, _Volume_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.unmute) || '');\n            }\n            else {\n                el.volume = __classPrivateFieldGet(this, _Volume_volume, \"f\");\n                __classPrivateFieldGet(this, _Volume_button, \"f\").title = (labels === null || labels === void 0 ? void 0 : labels.mute) || '';\n                __classPrivateFieldGet(this, _Volume_button, \"f\").setAttribute('aria-label', (labels === null || labels === void 0 ? void 0 : labels.mute) || '');\n            }\n            const event = addEvent('volumechange');\n            __classPrivateFieldGet(this, _Volume_player, \"f\").getElement().dispatchEvent(event);\n        };\n        __classPrivateFieldGet(this, _Volume_button, \"f\").addEventListener('click', __classPrivateFieldGet(this, _Volume_events, \"f\").button.click, EVENT_OPTIONS);\n        Object.keys(__classPrivateFieldGet(this, _Volume_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Volume_player, \"f\").getElement().addEventListener(event, __classPrivateFieldGet(this, _Volume_events, \"f\").media[event], EVENT_OPTIONS);\n        });\n        Object.keys(__classPrivateFieldGet(this, _Volume_events, \"f\").slider).forEach((event) => {\n            __classPrivateFieldGet(this, _Volume_slider, \"f\").addEventListener(event, __classPrivateFieldGet(this, _Volume_events, \"f\").slider[event], EVENT_OPTIONS);\n        });\n        __classPrivateFieldGet(this, _Volume_player, \"f\").getContainer().addEventListener('keydown', this._enterSpaceKeyEvent, EVENT_OPTIONS);\n        if ((!IS_ANDROID && !IS_IOS) || !__classPrivateFieldGet(this, _Volume_player, \"f\").getOptions().useDeviceVolume) {\n            const controls = __classPrivateFieldGet(this, _Volume_player, \"f\").getControls().getLayer(__classPrivateFieldGet(this, _Volume_controlLayer, \"f\"));\n            controls.appendChild(__classPrivateFieldGet(this, _Volume_button, \"f\"));\n            controls.appendChild(__classPrivateFieldGet(this, _Volume_container, \"f\"));\n        }\n    }\n    destroy() {\n        __classPrivateFieldGet(this, _Volume_button, \"f\").removeEventListener('click', __classPrivateFieldGet(this, _Volume_events, \"f\").button.click);\n        Object.keys(__classPrivateFieldGet(this, _Volume_events, \"f\").media).forEach((event) => {\n            __classPrivateFieldGet(this, _Volume_player, \"f\").getElement().removeEventListener(event, __classPrivateFieldGet(this, _Volume_events, \"f\").media[event]);\n        });\n        Object.keys(__classPrivateFieldGet(this, _Volume_events, \"f\").slider).forEach((event) => {\n            __classPrivateFieldGet(this, _Volume_slider, \"f\").removeEventListener(event, __classPrivateFieldGet(this, _Volume_events, \"f\").slider[event]);\n        });\n        __classPrivateFieldGet(this, _Volume_player, \"f\").getContainer().removeEventListener('keydown', this._enterSpaceKeyEvent);\n        __classPrivateFieldGet(this, _Volume_slider, \"f\").remove();\n        __classPrivateFieldGet(this, _Volume_display, \"f\").remove();\n        __classPrivateFieldGet(this, _Volume_container, \"f\").remove();\n    }\n    _enterSpaceKeyEvent(e) {\n        var _a;\n        const key = e.which || e.keyCode || 0;\n        const el = __classPrivateFieldGet(this, _Volume_player, \"f\").activeElement();\n        const playBtnFocused = (_a = document === null || document === void 0 ? void 0 : document.activeElement) === null || _a === void 0 ? void 0 : _a.classList.contains('op-controls__mute');\n        if (playBtnFocused && (key === 13 || key === 32)) {\n            el.muted = !el.muted;\n            el.volume = el.muted ? 0 : __classPrivateFieldGet(this, _Volume_volume, \"f\");\n            __classPrivateFieldGet(this, _Volume_events, \"f\").button.click();\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n}\n_Volume_player = new WeakMap(), _Volume_button = new WeakMap(), _Volume_container = new WeakMap(), _Volume_display = new WeakMap(), _Volume_slider = new WeakMap(), _Volume_events = new WeakMap(), _Volume_volume = new WeakMap(), _Volume_controlPosition = new WeakMap(), _Volume_controlLayer = new WeakMap();\nexport default Volume;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Controls_settings, _Controls_timer, _Controls_controls, _Controls_player, _Controls_items, _Controls_controlEls;\nimport Captions from './controls/captions';\nimport Fullscreen from './controls/fullscreen';\nimport Levels from './controls/levels';\nimport Play from './controls/play';\nimport Progress from './controls/progress';\nimport Settings from './controls/settings';\nimport Time from './controls/time';\nimport Volume from './controls/volume';\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS } from './utils/constants';\nimport { addEvent, isAudio, isVideo, sanitize } from './utils/general';\nclass Controls {\n    constructor(player) {\n        this.events = {\n            media: {},\n            mouse: {},\n        };\n        _Controls_settings.set(this, void 0);\n        _Controls_timer.set(this, 0);\n        _Controls_controls.set(this, void 0);\n        _Controls_player.set(this, void 0);\n        _Controls_items.set(this, void 0);\n        _Controls_controlEls.set(this, {\n            Captions,\n            Fullscreen,\n            Levels,\n            Play,\n            Progress,\n            Settings,\n            Time,\n            Volume,\n        });\n        __classPrivateFieldSet(this, _Controls_player, player, \"f\");\n        this._setElements();\n    }\n    create() {\n        __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().controls = false;\n        const isMediaVideo = isVideo(__classPrivateFieldGet(this, _Controls_player, \"f\").getElement());\n        this._createControlsLayer();\n        this._buildElements();\n        this.events.controlschanged = () => {\n            this.destroy();\n            this._setElements();\n            this.create();\n        };\n        this.events.ended = () => {\n            __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().classList.remove('op-controls--hidden');\n        };\n        __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().addEventListener('controlschanged', this.events.controlschanged, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().addEventListener('ended', this.events.ended, EVENT_OPTIONS);\n        const { alwaysVisible } = __classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().controls || {};\n        if (!alwaysVisible) {\n            const showControls = () => {\n                if (isMediaVideo) {\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().classList.remove('op-controls--hidden');\n                    this._stopControlTimer();\n                }\n            };\n            this.events.mouse.mouseenter = () => {\n                if (isMediaVideo && !__classPrivateFieldGet(this, _Controls_player, \"f\").activeElement().paused) {\n                    this._stopControlTimer();\n                    if (__classPrivateFieldGet(this, _Controls_player, \"f\").activeElement().currentTime) {\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").playBtn.setAttribute('aria-hidden', __classPrivateFieldGet(this, _Controls_player, \"f\").isMedia() ? 'false' : 'true');\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").loader.setAttribute('aria-hidden', 'true');\n                    }\n                    else if (__classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().showLoaderOnInit) {\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").playBtn.setAttribute('aria-hidden', 'true');\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").loader.setAttribute('aria-hidden', 'false');\n                    }\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().classList.remove('op-controls--hidden');\n                    this._startControlTimer(2500);\n                }\n            };\n            this.events.mouse.mousemove = () => {\n                if (isMediaVideo && !__classPrivateFieldGet(this, _Controls_player, \"f\").activeElement().paused) {\n                    if (__classPrivateFieldGet(this, _Controls_player, \"f\").activeElement().currentTime) {\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").loader.setAttribute('aria-hidden', 'true');\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").playBtn.setAttribute('aria-hidden', __classPrivateFieldGet(this, _Controls_player, \"f\").isMedia() ? 'false' : 'true');\n                    }\n                    else {\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").playBtn.setAttribute('aria-hidden', __classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().showLoaderOnInit ? 'true' : 'false');\n                        __classPrivateFieldGet(this, _Controls_player, \"f\").loader.setAttribute('aria-hidden', __classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().showLoaderOnInit ? 'false' : 'true');\n                    }\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().classList.remove('op-controls--hidden');\n                    this._startControlTimer(2500);\n                }\n            };\n            this.events.mouse.mouseleave = () => {\n                if (isMediaVideo && !__classPrivateFieldGet(this, _Controls_player, \"f\").activeElement().paused) {\n                    this._startControlTimer(1000);\n                }\n            };\n            this.events.media.play = () => {\n                if (isMediaVideo) {\n                    this._startControlTimer(__classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().hidePlayBtnTimer || 350);\n                }\n            };\n            this.events.media.loadedmetadata = showControls.bind(this);\n            this.events.media.pause = showControls.bind(this);\n            this.events.media.waiting = showControls.bind(this);\n            this.events.media.stalled = showControls.bind(this);\n            this.events.media.playererror = showControls.bind(this);\n            Object.keys(this.events.media).forEach((event) => {\n                __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().addEventListener(event, this.events.media[event], EVENT_OPTIONS);\n            });\n            if (IS_ANDROID || IS_IOS) {\n                __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().addEventListener('click', this.events.mouse.mouseenter, EVENT_OPTIONS);\n            }\n            else {\n                Object.keys(this.events.mouse).forEach((event) => {\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().addEventListener(event, this.events.mouse[event], EVENT_OPTIONS);\n                });\n            }\n            if (isMediaVideo && !__classPrivateFieldGet(this, _Controls_player, \"f\").activeElement().paused) {\n                this._startControlTimer(3000);\n            }\n        }\n    }\n    destroy() {\n        if (!IS_ANDROID && !IS_IOS) {\n            Object.keys(this.events.mouse).forEach((event) => {\n                __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().removeEventListener(event, this.events.mouse[event]);\n            });\n            Object.keys(this.events.media).forEach((event) => {\n                __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().removeEventListener(event, this.events.media[event]);\n            });\n            this._stopControlTimer();\n        }\n        __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().removeEventListener('controlschanged', this.events.controlschanged);\n        __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().removeEventListener('ended', this.events.ended);\n        Object.keys(__classPrivateFieldGet(this, _Controls_items, \"f\")).forEach((position) => {\n            __classPrivateFieldGet(this, _Controls_items, \"f\")[position].forEach((item) => {\n                if (item.custom) {\n                    this._destroyCustomElement(item);\n                }\n                else if (typeof item.destroy === 'function') {\n                    item.destroy();\n                }\n            });\n        });\n        __classPrivateFieldGet(this, _Controls_controls, \"f\").remove();\n    }\n    getContainer() {\n        return __classPrivateFieldGet(this, _Controls_controls, \"f\");\n    }\n    getLayer(layer) {\n        return __classPrivateFieldGet(this, _Controls_controls, \"f\").querySelector(`.op-controls-layer__${layer}`) || __classPrivateFieldGet(this, _Controls_controls, \"f\");\n    }\n    _createControlsLayer() {\n        if (!__classPrivateFieldGet(this, _Controls_controls, \"f\") || !__classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().querySelector('.op-controls')) {\n            __classPrivateFieldSet(this, _Controls_controls, document.createElement('div'), \"f\");\n            __classPrivateFieldGet(this, _Controls_controls, \"f\").className = 'op-controls';\n            __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().appendChild(__classPrivateFieldGet(this, _Controls_controls, \"f\"));\n            const messageContainer = document.createElement('div');\n            messageContainer.className = 'op-status';\n            messageContainer.innerHTML = '<span></span>';\n            messageContainer.tabIndex = -1;\n            messageContainer.setAttribute('aria-hidden', 'true');\n            if (isAudio(__classPrivateFieldGet(this, _Controls_player, \"f\").getElement())) {\n                __classPrivateFieldGet(this, _Controls_controls, \"f\").appendChild(messageContainer);\n            }\n        }\n    }\n    _startControlTimer(time) {\n        const el = __classPrivateFieldGet(this, _Controls_player, \"f\").activeElement();\n        this._stopControlTimer();\n        if (typeof window !== 'undefined') {\n            __classPrivateFieldSet(this, _Controls_timer, window.setTimeout(() => {\n                if ((!el.paused || !el.ended) && isVideo(__classPrivateFieldGet(this, _Controls_player, \"f\").getElement())) {\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().classList.add('op-controls--hidden');\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").playBtn.setAttribute('aria-hidden', 'true');\n                    this._stopControlTimer();\n                    const event = addEvent('controlshidden');\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().dispatchEvent(event);\n                }\n            }, time), \"f\");\n        }\n    }\n    _stopControlTimer() {\n        if (__classPrivateFieldGet(this, _Controls_timer, \"f\") !== 0) {\n            clearTimeout(__classPrivateFieldGet(this, _Controls_timer, \"f\"));\n            __classPrivateFieldSet(this, _Controls_timer, 0, \"f\");\n        }\n    }\n    _setElements() {\n        var _a;\n        const controls = ((_a = __classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().controls) === null || _a === void 0 ? void 0 : _a.layers) || {};\n        __classPrivateFieldSet(this, _Controls_items, {\n            'bottom-left': [],\n            'bottom-middle': [],\n            'bottom-right': [],\n            left: [],\n            main: [],\n            middle: [],\n            right: [],\n            'top-left': [],\n            'top-middle': [],\n            'top-right': [],\n        }, \"f\");\n        const isVideoEl = isVideo(__classPrivateFieldGet(this, _Controls_player, \"f\").getElement());\n        const isAudioEl = isAudio(__classPrivateFieldGet(this, _Controls_player, \"f\").getElement());\n        const controlPositions = Object.keys(controls);\n        const layersExist = controlPositions.find((item) => /^(top|bottom)/.test(item));\n        this._createControlsLayer();\n        controlPositions.forEach((position) => {\n            const [layer, pos] = position.split('-');\n            if (pos) {\n                if (!__classPrivateFieldGet(this, _Controls_controls, \"f\").classList.contains('op-controls__stacked')) {\n                    __classPrivateFieldGet(this, _Controls_controls, \"f\").classList.add('op-controls__stacked');\n                }\n                const className = `op-controls-layer__${layer}`;\n                if (!__classPrivateFieldGet(this, _Controls_controls, \"f\").querySelector(`.${className}`)) {\n                    const controlLayer = document.createElement('div');\n                    controlLayer.className = className;\n                    __classPrivateFieldGet(this, _Controls_controls, \"f\").appendChild(controlLayer);\n                }\n            }\n            else if (layersExist) {\n                const className = 'op-controls-layer__center';\n                if (!__classPrivateFieldGet(this, _Controls_controls, \"f\").querySelector(`.${className}`)) {\n                    const controlLayer = document.createElement('div');\n                    controlLayer.className = className;\n                    __classPrivateFieldGet(this, _Controls_controls, \"f\").appendChild(controlLayer);\n                }\n            }\n            const layers = controls ? controls[position] : null;\n            if (layers) {\n                layers\n                    .filter((v, i, a) => a.indexOf(v) === i)\n                    .forEach((el) => {\n                    const currentLayer = layersExist && !pos ? 'center' : layer;\n                    const className = `${el.charAt(0).toUpperCase()}${el.slice(1)}`;\n                    const item = new (__classPrivateFieldGet(this, _Controls_controlEls, \"f\")[className])(__classPrivateFieldGet(this, _Controls_player, \"f\"), pos || layer, currentLayer);\n                    if (el === 'settings') {\n                        __classPrivateFieldSet(this, _Controls_settings, item, \"f\");\n                    }\n                    if (isVideoEl || (el !== 'fullscreen' && isAudioEl)) {\n                        __classPrivateFieldGet(this, _Controls_items, \"f\")[position].push(item);\n                    }\n                });\n            }\n        });\n        __classPrivateFieldGet(this, _Controls_player, \"f\").getCustomControls().forEach((item) => {\n            const [layer, pos] = item.position.split('-');\n            const currentLayer = layersExist && !pos ? 'center' : layer;\n            item.layer = currentLayer;\n            item.position = pos || layer;\n            if (item.position === 'right') {\n                __classPrivateFieldGet(this, _Controls_items, \"f\")[item.position].unshift(item);\n            }\n            else {\n                __classPrivateFieldGet(this, _Controls_items, \"f\")[item.position].push(item);\n            }\n        });\n    }\n    _buildElements() {\n        Object.keys(__classPrivateFieldGet(this, _Controls_items, \"f\")).forEach((position) => {\n            __classPrivateFieldGet(this, _Controls_items, \"f\")[position].forEach((item) => {\n                if (item.custom) {\n                    this._createCustomElement(item);\n                }\n                else {\n                    item.create();\n                }\n            });\n        });\n        Object.keys(__classPrivateFieldGet(this, _Controls_items, \"f\")).forEach((position) => {\n            __classPrivateFieldGet(this, _Controls_items, \"f\")[position].forEach((item) => {\n                const allowDefault = !__classPrivateFieldGet(this, _Controls_player, \"f\").getOptions().detachMenus || item instanceof Settings;\n                const current = item;\n                if (allowDefault && !current.custom && typeof current.addSettings === 'function') {\n                    const menuItem = current.addSettings();\n                    if (__classPrivateFieldGet(this, _Controls_settings, \"f\") && Object.keys(menuItem).length) {\n                        __classPrivateFieldGet(this, _Controls_settings, \"f\").addItem(menuItem.name, menuItem.key, menuItem.default, menuItem.subitems, menuItem.className);\n                    }\n                }\n            });\n        });\n        const e = addEvent('controlschanged');\n        __classPrivateFieldGet(this, _Controls_controls, \"f\").dispatchEvent(e);\n    }\n    _hideCustomMenu(menu) {\n        let timeout;\n        if (timeout && typeof window !== 'undefined') {\n            window.cancelAnimationFrame(timeout);\n        }\n        if (typeof window !== 'undefined') {\n            timeout = window.requestAnimationFrame(() => {\n                menu.setAttribute('aria-hidden', 'true');\n            });\n        }\n    }\n    _toggleCustomMenu(event, menu, item) {\n        const menus = __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().querySelectorAll('.op-settings');\n        menus.forEach((m) => {\n            if (m.getAttribute('aria-hidden') === 'false' && m.id !== menu.id) {\n                m.setAttribute('aria-hidden', 'true');\n            }\n        });\n        menu.setAttribute('aria-hidden', menu.getAttribute('aria-hidden') === 'true' ? 'false' : 'true');\n        if (typeof item.click === 'function') {\n            item.click(event);\n        }\n    }\n    _createCustomElement(item) {\n        const element = document.createElement(item.type);\n        element.tabIndex = 0;\n        element.id = item.id;\n        element.className = `op-controls__${item.id} op-control__${item.position} ${item.showInAds ? '' : 'op-control__hide-in-ad'}`;\n        if (item.styles) {\n            Object.assign(element.style, item.styles);\n        }\n        if (item.type === 'button' && item.icon) {\n            element.innerHTML = /\\.(jpg|png|svg|gif)$/.test(item.icon)\n                ? `<img src=\"${sanitize(item.icon)}\">`\n                : sanitize(item.icon);\n        }\n        else if (item.content) {\n            element.innerHTML = sanitize(item.content, false);\n        }\n        if (item.type === 'button' && item.title) {\n            element.title = item.title;\n        }\n        if (item.type !== 'button' && item.click && typeof item.click === 'function') {\n            element.setAttribute('aria-role', 'button');\n        }\n        if (item.type === 'button' && item.subitems && Array.isArray(item.subitems) && item.subitems.length > 0) {\n            const menu = document.createElement('div');\n            menu.className = 'op-settings op-settings__custom';\n            menu.id = `${item.id}-menu`;\n            menu.setAttribute('aria-hidden', 'true');\n            const items = item.subitems.map((s) => {\n                let itemIcon = '';\n                if (s.icon) {\n                    itemIcon = /\\.(jpg|png|svg|gif)$/.test(s.icon)\n                        ? `<img src=\"${sanitize(s.icon)}\">`\n                        : sanitize(s.icon, false);\n                }\n                return `<div class=\"op-settings__menu-item\" tabindex=\"0\" ${s.title ? `title=\"${s.title}\"` : ''} role=\"menuitemradio\">\n                    <div class=\"op-settings__menu-label\" id=\"${s.id}\" data-value=\"${item.id}-${s.id}\">${itemIcon} ${s.label}</div>\n                </div>`;\n            });\n            menu.innerHTML = `<div class=\"op-settings__menu\" role=\"menu\">${items.join('')}</div>`;\n            __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().appendChild(menu);\n            item.subitems.forEach((subitem) => {\n                const menuItem = menu.querySelector(`#${subitem.id}`);\n                if (menuItem && subitem.click && typeof subitem.click === 'function') {\n                    menuItem.addEventListener('click', subitem.click, EVENT_OPTIONS);\n                }\n            });\n            element.addEventListener('click', (e) => this._toggleCustomMenu(e, menu, item), EVENT_OPTIONS);\n            __classPrivateFieldGet(this, _Controls_player, \"f\")\n                .getElement()\n                .addEventListener('controlshidden', () => this._hideCustomMenu(menu), EVENT_OPTIONS);\n        }\n        else if (item.click && typeof item.click === 'function') {\n            element.addEventListener('click', item.click, EVENT_OPTIONS);\n        }\n        if (item.mouseenter && typeof item.mouseenter === 'function') {\n            element.addEventListener('mouseenter', item.mouseenter, EVENT_OPTIONS);\n        }\n        if (item.mouseleave && typeof item.mouseleave === 'function') {\n            element.addEventListener('mouseleave', item.mouseleave, EVENT_OPTIONS);\n        }\n        if (item.keydown && typeof item.keydown === 'function') {\n            element.addEventListener('keydown', item.keydown, EVENT_OPTIONS);\n        }\n        if (item.blur && typeof item.blur === 'function') {\n            element.addEventListener('blur', item.blur, EVENT_OPTIONS);\n        }\n        if (item.focus && typeof item.focus === 'function') {\n            element.addEventListener('focus', item.focus, EVENT_OPTIONS);\n        }\n        if (item.layer) {\n            if (item.layer === 'main') {\n                __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().appendChild(element);\n            }\n            else {\n                this.getLayer(item.layer).appendChild(element);\n            }\n        }\n        if (item.init && typeof item.init === 'function') {\n            item.init(__classPrivateFieldGet(this, _Controls_player, \"f\"));\n        }\n    }\n    _destroyCustomElement(item) {\n        const control = this.getContainer().querySelector(`.op-controls__${item.id}`);\n        if (control) {\n            if (item.subitems && Array.isArray(item.subitems) && item.subitems.length > 0) {\n                const menu = __classPrivateFieldGet(this, _Controls_player, \"f\").getContainer().querySelector(`#${item.id}-menu`);\n                if (menu) {\n                    item.subitems.forEach((subitem) => {\n                        const menuItem = menu.querySelector(`#${subitem.id}`);\n                        if (menuItem && subitem.click && typeof subitem.click === 'function') {\n                            menuItem.removeEventListener('click', subitem.click);\n                        }\n                    });\n                    control.removeEventListener('click', (e) => this._toggleCustomMenu(e, menu, item));\n                    __classPrivateFieldGet(this, _Controls_player, \"f\").getElement().removeEventListener('controlshidden', () => this._hideCustomMenu(menu));\n                    menu.remove();\n                }\n            }\n            if (item.click && typeof item.click === 'function') {\n                control.removeEventListener('click', item.click);\n            }\n            if (item.mouseenter && typeof item.mouseenter === 'function') {\n                control.removeEventListener('mouseenter', item.mouseenter);\n            }\n            if (item.mouseleave && typeof item.mouseleave === 'function') {\n                control.removeEventListener('mouseleave', item.mouseleave);\n            }\n            if (item.keydown && typeof item.keydown === 'function') {\n                control.removeEventListener('keydown', item.keydown);\n            }\n            if (item.blur && typeof item.blur === 'function') {\n                control.removeEventListener('blur', item.blur);\n            }\n            if (item.focus && typeof item.focus === 'function') {\n                control.removeEventListener('focus', item.focus);\n            }\n            control.remove();\n            if (item.destroy && typeof item.destroy === 'function') {\n                item.destroy(__classPrivateFieldGet(this, _Controls_player, \"f\"));\n            }\n        }\n    }\n}\n_Controls_settings = new WeakMap(), _Controls_timer = new WeakMap(), _Controls_controls = new WeakMap(), _Controls_player = new WeakMap(), _Controls_items = new WeakMap(), _Controls_controlEls = new WeakMap();\nexport default Controls;\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Native_customPlayer;\nclass Native {\n    constructor(element, media) {\n        _Native_customPlayer.set(this, void 0);\n        this.element = element;\n        this.media = media;\n        this.promise = new Promise((resolve) => {\n            resolve();\n        });\n    }\n    set instance(customPlayer) {\n        __classPrivateFieldSet(this, _Native_customPlayer, customPlayer, \"f\");\n    }\n    get instance() {\n        return __classPrivateFieldGet(this, _Native_customPlayer, \"f\");\n    }\n    play() {\n        return this.element.play();\n    }\n    pause() {\n        this.element.pause();\n    }\n    set volume(value) {\n        this.element.volume = value;\n    }\n    get volume() {\n        return this.element.volume;\n    }\n    set muted(value) {\n        this.element.muted = value;\n    }\n    get muted() {\n        return this.element.muted;\n    }\n    set playbackRate(value) {\n        this.element.playbackRate = value;\n    }\n    get playbackRate() {\n        return this.element.playbackRate;\n    }\n    set defaultPlaybackRate(value) {\n        this.element.defaultPlaybackRate = value;\n    }\n    get defaultPlaybackRate() {\n        return this.element.defaultPlaybackRate;\n    }\n    set currentTime(value) {\n        this.element.currentTime = value;\n    }\n    get currentTime() {\n        return this.element.currentTime;\n    }\n    get duration() {\n        return this.element.duration;\n    }\n    get paused() {\n        return this.element.paused;\n    }\n    get ended() {\n        return this.element.ended;\n    }\n}\n_Native_customPlayer = new WeakMap();\nexport default Native;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DashMedia_player, _DashMedia_events, _DashMedia_options;\nimport { HAS_MSE } from '../utils/constants';\nimport { addEvent, loadScript } from '../utils/general';\nimport { isDashSource } from '../utils/media';\nimport Native from './native';\nclass DashMedia extends Native {\n    constructor(element, mediaSource, options) {\n        super(element, mediaSource);\n        _DashMedia_player.set(this, void 0);\n        _DashMedia_events.set(this, {});\n        _DashMedia_options.set(this, {});\n        __classPrivateFieldSet(this, _DashMedia_options, options, \"f\");\n        this._assign = this._assign.bind(this);\n        this._preparePlayer = this._preparePlayer.bind(this);\n        this.promise =\n            typeof dashjs === 'undefined'\n                ?\n                    loadScript('https://cdn.dashjs.org/latest/dash.all.min.js')\n                : new Promise((resolve) => {\n                    resolve({});\n                });\n        this.promise.then(() => {\n            __classPrivateFieldSet(this, _DashMedia_player, dashjs.MediaPlayer().create(), \"f\");\n            this.instance = __classPrivateFieldGet(this, _DashMedia_player, \"f\");\n        });\n    }\n    canPlayType(mimeType) {\n        return HAS_MSE && mimeType === 'application/dash+xml';\n    }\n    load() {\n        this._preparePlayer();\n        __classPrivateFieldGet(this, _DashMedia_player, \"f\").attachSource(this.media.src);\n        const e = addEvent('loadedmetadata');\n        this.element.dispatchEvent(e);\n        if (!__classPrivateFieldGet(this, _DashMedia_events, \"f\")) {\n            __classPrivateFieldSet(this, _DashMedia_events, dashjs.MediaPlayer.events, \"f\");\n            Object.keys(__classPrivateFieldGet(this, _DashMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _DashMedia_player, \"f\").on(__classPrivateFieldGet(this, _DashMedia_events, \"f\")[event], this._assign);\n            });\n        }\n    }\n    destroy() {\n        if (__classPrivateFieldGet(this, _DashMedia_events, \"f\")) {\n            Object.keys(__classPrivateFieldGet(this, _DashMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _DashMedia_player, \"f\").off(__classPrivateFieldGet(this, _DashMedia_events, \"f\")[event], this._assign);\n            });\n            __classPrivateFieldSet(this, _DashMedia_events, [], \"f\");\n        }\n        __classPrivateFieldGet(this, _DashMedia_player, \"f\").reset();\n    }\n    set src(media) {\n        if (isDashSource(media)) {\n            this.destroy();\n            __classPrivateFieldSet(this, _DashMedia_player, dashjs.MediaPlayer().create(), \"f\");\n            this._preparePlayer();\n            __classPrivateFieldGet(this, _DashMedia_player, \"f\").attachSource(media.src);\n            __classPrivateFieldSet(this, _DashMedia_events, dashjs.MediaPlayer.events, \"f\");\n            Object.keys(__classPrivateFieldGet(this, _DashMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _DashMedia_player, \"f\").on(__classPrivateFieldGet(this, _DashMedia_events, \"f\")[event], this._assign);\n            });\n        }\n    }\n    get levels() {\n        const levels = [];\n        if (__classPrivateFieldGet(this, _DashMedia_player, \"f\")) {\n            const bitrates = __classPrivateFieldGet(this, _DashMedia_player, \"f\").getBitrateInfoListFor('video');\n            if (bitrates.length) {\n                bitrates.forEach((item) => {\n                    if (bitrates[item]) {\n                        const { height, name } = bitrates[item];\n                        const level = {\n                            height,\n                            id: `${item}`,\n                            label: name || null,\n                        };\n                        levels.push(level);\n                    }\n                });\n            }\n        }\n        return levels;\n    }\n    set level(level) {\n        if (level === '0') {\n            __classPrivateFieldGet(this, _DashMedia_player, \"f\").setAutoSwitchQuality(true);\n        }\n        else {\n            __classPrivateFieldGet(this, _DashMedia_player, \"f\").setAutoSwitchQuality(false);\n            __classPrivateFieldGet(this, _DashMedia_player, \"f\").setQualityFor('video', level);\n        }\n    }\n    get level() {\n        return __classPrivateFieldGet(this, _DashMedia_player, \"f\") ? __classPrivateFieldGet(this, _DashMedia_player, \"f\").getQualityFor('video') : '-1';\n    }\n    _assign(event) {\n        if (event.type === 'error') {\n            const details = {\n                detail: {\n                    message: event,\n                    type: 'M(PEG)-DASH',\n                },\n            };\n            const errorEvent = addEvent('playererror', details);\n            this.element.dispatchEvent(errorEvent);\n        }\n        else {\n            const e = addEvent(event.type, { detail: event });\n            this.element.dispatchEvent(e);\n        }\n    }\n    _preparePlayer() {\n        __classPrivateFieldGet(this, _DashMedia_player, \"f\").updateSettings(Object.assign({ debug: {\n                logLevel: dashjs.Debug.LOG_LEVEL_NONE,\n            }, streaming: {\n                fastSwitchEnabled: true,\n                scheduleWhilePaused: false,\n            } }, (__classPrivateFieldGet(this, _DashMedia_options, \"f\") || {})));\n        __classPrivateFieldGet(this, _DashMedia_player, \"f\").initialize();\n        __classPrivateFieldGet(this, _DashMedia_player, \"f\").attachView(this.element);\n        __classPrivateFieldGet(this, _DashMedia_player, \"f\").setAutoPlay(false);\n    }\n}\n_DashMedia_player = new WeakMap(), _DashMedia_events = new WeakMap(), _DashMedia_options = new WeakMap();\nexport default DashMedia;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar _FlvMedia_player, _FlvMedia_events, _FlvMedia_options;\nimport { HAS_MSE } from '../utils/constants';\nimport { addEvent, loadScript } from '../utils/general';\nimport { isFlvSource } from '../utils/media';\nimport Native from './native';\nclass FlvMedia extends Native {\n    constructor(element, mediaSource, options) {\n        super(element, mediaSource);\n        _FlvMedia_player.set(this, void 0);\n        _FlvMedia_events.set(this, {});\n        _FlvMedia_options.set(this, {});\n        __classPrivateFieldSet(this, _FlvMedia_options, options, \"f\");\n        this.element = element;\n        this.media = mediaSource;\n        this._create = this._create.bind(this);\n        this._assign = this._assign.bind(this);\n        this.promise =\n            typeof flvjs === 'undefined'\n                ?\n                    loadScript('https://cdn.jsdelivr.net/npm/flv.js@latest/dist/flv.min.js')\n                : new Promise((resolve) => {\n                    resolve({});\n                });\n        this.promise.then(this._create);\n    }\n    canPlayType(mimeType) {\n        return HAS_MSE && (mimeType === 'video/x-flv' || mimeType === 'video/flv');\n    }\n    load() {\n        __classPrivateFieldGet(this, _FlvMedia_player, \"f\").unload();\n        __classPrivateFieldGet(this, _FlvMedia_player, \"f\").detachMediaElement();\n        __classPrivateFieldGet(this, _FlvMedia_player, \"f\").attachMediaElement(this.element);\n        __classPrivateFieldGet(this, _FlvMedia_player, \"f\").load();\n        const e = addEvent('loadedmetadata');\n        this.element.dispatchEvent(e);\n        if (!__classPrivateFieldGet(this, _FlvMedia_events, \"f\")) {\n            __classPrivateFieldSet(this, _FlvMedia_events, flvjs.Events, \"f\");\n            Object.keys(__classPrivateFieldGet(this, _FlvMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _FlvMedia_player, \"f\").on(__classPrivateFieldGet(this, _FlvMedia_events, \"f\")[event], (...args) => this._assign(__classPrivateFieldGet(this, _FlvMedia_events, \"f\")[event], args));\n            });\n        }\n    }\n    destroy() {\n        __classPrivateFieldGet(this, _FlvMedia_player, \"f\").destroy();\n        __classPrivateFieldSet(this, _FlvMedia_player, null, \"f\");\n    }\n    set src(media) {\n        if (isFlvSource(media)) {\n            this.destroy();\n            this._create();\n        }\n    }\n    get levels() {\n        const levels = [];\n        if (__classPrivateFieldGet(this, _FlvMedia_player, \"f\") && __classPrivateFieldGet(this, _FlvMedia_player, \"f\").levels && __classPrivateFieldGet(this, _FlvMedia_player, \"f\").levels.length) {\n            Object.keys(__classPrivateFieldGet(this, _FlvMedia_player, \"f\").levels).forEach((item) => {\n                const { height, name } = __classPrivateFieldGet(this, _FlvMedia_player, \"f\").levels[item];\n                const level = {\n                    height,\n                    id: item,\n                    label: name || null,\n                };\n                levels.push(level);\n            });\n        }\n        return levels;\n    }\n    set level(level) {\n        __classPrivateFieldGet(this, _FlvMedia_player, \"f\").currentLevel = level;\n    }\n    get level() {\n        return __classPrivateFieldGet(this, _FlvMedia_player, \"f\") ? __classPrivateFieldGet(this, _FlvMedia_player, \"f\").currentLevel : '-1';\n    }\n    _create() {\n        const _a = __classPrivateFieldGet(this, _FlvMedia_options, \"f\") || {}, { configs } = _a, rest = __rest(_a, [\"configs\"]);\n        flvjs.LoggingControl.enableDebug = (rest === null || rest === void 0 ? void 0 : rest.debug) || false;\n        flvjs.LoggingControl.enableVerbose = (rest === null || rest === void 0 ? void 0 : rest.debug) || false;\n        const options = Object.assign(Object.assign({}, rest), { type: 'flv', url: this.media.src });\n        __classPrivateFieldSet(this, _FlvMedia_player, flvjs.createPlayer(options, configs || {}), \"f\");\n        this.instance = __classPrivateFieldGet(this, _FlvMedia_player, \"f\");\n        if (!__classPrivateFieldGet(this, _FlvMedia_events, \"f\")) {\n            __classPrivateFieldSet(this, _FlvMedia_events, flvjs.Events, \"f\");\n            Object.keys(__classPrivateFieldGet(this, _FlvMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _FlvMedia_player, \"f\").on(__classPrivateFieldGet(this, _FlvMedia_events, \"f\")[event], (...args) => this._assign(__classPrivateFieldGet(this, _FlvMedia_events, \"f\")[event], args));\n            });\n        }\n    }\n    _assign(event, data) {\n        if (event === 'error') {\n            const errorDetails = {\n                detail: {\n                    data,\n                    message: `${data[0]}: ${data[1]} ${data[2].msg}`,\n                    type: 'FLV',\n                },\n            };\n            const errorEvent = addEvent('playererror', errorDetails);\n            this.element.dispatchEvent(errorEvent);\n        }\n        else {\n            const e = addEvent(event, { detail: { data } });\n            this.element.dispatchEvent(e);\n        }\n    }\n}\n_FlvMedia_player = new WeakMap(), _FlvMedia_events = new WeakMap(), _FlvMedia_options = new WeakMap();\nexport default FlvMedia;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _HlsMedia_player, _HlsMedia_events, _HlsMedia_recoverDecodingErrorDate, _HlsMedia_recoverSwapAudioCodecDate, _HlsMedia_options, _HlsMedia_autoplay;\nimport { DVR_THRESHOLD, EVENT_OPTIONS, SUPPORTS_HLS } from '../utils/constants';\nimport { addEvent, loadScript } from '../utils/general';\nimport { isHlsSource } from '../utils/media';\nimport Native from './native';\nclass HlsMedia extends Native {\n    constructor(element, mediaSource, autoplay, options) {\n        super(element, mediaSource);\n        _HlsMedia_player.set(this, void 0);\n        _HlsMedia_events.set(this, {});\n        _HlsMedia_recoverDecodingErrorDate.set(this, 0);\n        _HlsMedia_recoverSwapAudioCodecDate.set(this, 0);\n        _HlsMedia_options.set(this, void 0);\n        _HlsMedia_autoplay.set(this, void 0);\n        __classPrivateFieldSet(this, _HlsMedia_options, options || {}, \"f\");\n        this.element = element;\n        this.media = mediaSource;\n        __classPrivateFieldSet(this, _HlsMedia_autoplay, autoplay, \"f\");\n        this._create = this._create.bind(this);\n        this._play = this._play.bind(this);\n        this._pause = this._pause.bind(this);\n        this._assign = this._assign.bind(this);\n        this.promise =\n            typeof Hls === 'undefined'\n                ?\n                    loadScript('https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js')\n                : new Promise((resolve) => {\n                    resolve({});\n                });\n        this.promise.then(this._create);\n    }\n    canPlayType(mimeType) {\n        return SUPPORTS_HLS() && mimeType === 'application/x-mpegURL';\n    }\n    load() {\n        if (__classPrivateFieldGet(this, _HlsMedia_player, \"f\")) {\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").detachMedia();\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").loadSource(this.media.src);\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").attachMedia(this.element);\n        }\n        const e = addEvent('loadedmetadata');\n        this.element.dispatchEvent(e);\n        if (!__classPrivateFieldGet(this, _HlsMedia_events, \"f\")) {\n            __classPrivateFieldSet(this, _HlsMedia_events, Hls.Events, \"f\");\n            Object.keys(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _HlsMedia_player, \"f\").on(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], (...args) => this._assign(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], args));\n            });\n        }\n    }\n    destroy() {\n        if (__classPrivateFieldGet(this, _HlsMedia_player, \"f\")) {\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").stopLoad();\n        }\n        if (__classPrivateFieldGet(this, _HlsMedia_events, \"f\")) {\n            Object.keys(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _HlsMedia_player, \"f\").off(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], (...args) => this._assign(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], args));\n            });\n        }\n        this.element.removeEventListener('play', this._play);\n        this.element.removeEventListener('pause', this._pause);\n        if (__classPrivateFieldGet(this, _HlsMedia_player, \"f\")) {\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").destroy();\n            __classPrivateFieldSet(this, _HlsMedia_player, null, \"f\");\n        }\n    }\n    set src(media) {\n        if (isHlsSource(media)) {\n            this.destroy();\n            __classPrivateFieldSet(this, _HlsMedia_player, new Hls(__classPrivateFieldGet(this, _HlsMedia_options, \"f\")), \"f\");\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").loadSource(media.src);\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").attachMedia(this.element);\n            __classPrivateFieldSet(this, _HlsMedia_events, Hls.Events, \"f\");\n            Object.keys(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")).forEach((event) => {\n                __classPrivateFieldGet(this, _HlsMedia_player, \"f\").on(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], (...args) => this._assign(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], args));\n            });\n        }\n    }\n    get levels() {\n        const levels = [];\n        if (__classPrivateFieldGet(this, _HlsMedia_player, \"f\") && __classPrivateFieldGet(this, _HlsMedia_player, \"f\").levels && __classPrivateFieldGet(this, _HlsMedia_player, \"f\").levels.length) {\n            Object.keys(__classPrivateFieldGet(this, _HlsMedia_player, \"f\").levels).forEach((item) => {\n                const { height, name } = __classPrivateFieldGet(this, _HlsMedia_player, \"f\").levels[item];\n                const level = {\n                    height,\n                    id: item,\n                    label: name || null,\n                };\n                levels.push(level);\n            });\n        }\n        return levels;\n    }\n    set level(level) {\n        __classPrivateFieldGet(this, _HlsMedia_player, \"f\").currentLevel = level;\n    }\n    get level() {\n        return __classPrivateFieldGet(this, _HlsMedia_player, \"f\") ? __classPrivateFieldGet(this, _HlsMedia_player, \"f\").currentLevel : '-1';\n    }\n    _create() {\n        const autoplay = !!(this.element.preload === 'auto' || __classPrivateFieldGet(this, _HlsMedia_autoplay, \"f\"));\n        __classPrivateFieldGet(this, _HlsMedia_options, \"f\").autoStartLoad = autoplay;\n        __classPrivateFieldSet(this, _HlsMedia_player, new Hls(__classPrivateFieldGet(this, _HlsMedia_options, \"f\")), \"f\");\n        this.instance = __classPrivateFieldGet(this, _HlsMedia_player, \"f\");\n        __classPrivateFieldSet(this, _HlsMedia_events, Hls.Events, \"f\");\n        Object.keys(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")).forEach((event) => {\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").on(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], (...args) => this._assign(__classPrivateFieldGet(this, _HlsMedia_events, \"f\")[event], args));\n        });\n        if (!autoplay) {\n            this.element.addEventListener('play', this._play, EVENT_OPTIONS);\n            this.element.addEventListener('pause', this._pause, EVENT_OPTIONS);\n        }\n    }\n    _assign(event, data) {\n        if (event === 'hlsError') {\n            const errorDetails = {\n                detail: {\n                    data,\n                    message: data[1].details,\n                    type: 'HLS',\n                },\n            };\n            const errorEvent = addEvent('playererror', errorDetails);\n            this.element.dispatchEvent(errorEvent);\n            const type = data[1].type;\n            const { fatal } = data[1];\n            const details = data[1];\n            if (fatal) {\n                switch (type) {\n                    case 'mediaError':\n                        const now = new Date().getTime();\n                        if (!__classPrivateFieldGet(this, _HlsMedia_recoverDecodingErrorDate, \"f\") || now - __classPrivateFieldGet(this, _HlsMedia_recoverDecodingErrorDate, \"f\") > 3000) {\n                            __classPrivateFieldSet(this, _HlsMedia_recoverDecodingErrorDate, new Date().getTime(), \"f\");\n                            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").recoverMediaError();\n                        }\n                        else if (!__classPrivateFieldGet(this, _HlsMedia_recoverSwapAudioCodecDate, \"f\") || now - __classPrivateFieldGet(this, _HlsMedia_recoverSwapAudioCodecDate, \"f\") > 3000) {\n                            __classPrivateFieldSet(this, _HlsMedia_recoverSwapAudioCodecDate, new Date().getTime(), \"f\");\n                            console.warn('Attempting to swap Audio Codec and recover from media error');\n                            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").swapAudioCodec();\n                            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").recoverMediaError();\n                        }\n                        else {\n                            const msg = 'Cannot recover, last media error recovery failed';\n                            console.error(msg);\n                            const mediaEvent = addEvent(type, { detail: { data: details } });\n                            this.element.dispatchEvent(mediaEvent);\n                        }\n                        break;\n                    case 'networkError':\n                        const message = 'Network error';\n                        console.error(message);\n                        const networkEvent = addEvent(type, { detail: { data: details } });\n                        this.element.dispatchEvent(networkEvent);\n                        break;\n                    default:\n                        __classPrivateFieldGet(this, _HlsMedia_player, \"f\").destroy();\n                        const fatalEvent = addEvent(type, { detail: { data: details } });\n                        this.element.dispatchEvent(fatalEvent);\n                        break;\n                }\n            }\n            else {\n                const err = addEvent(type, { detail: { data: details } });\n                this.element.dispatchEvent(err);\n            }\n        }\n        else {\n            const details = data[1];\n            if (event === 'hlsLevelLoaded' && details.live === true) {\n                this.element.setAttribute('op-live__enabled', 'true');\n                const timeEvent = addEvent('timeupdate');\n                this.element.dispatchEvent(timeEvent);\n            }\n            else if (event === 'hlsLevelUpdated' &&\n                details.live === true &&\n                details.totalduration > DVR_THRESHOLD) {\n                this.element.setAttribute('op-dvr__enabled', 'true');\n                const timeEvent = addEvent('timeupdate');\n                this.element.dispatchEvent(timeEvent);\n            }\n            else if (event === 'hlsFragParsingMetadata') {\n                const metaEvent = addEvent('metadataready', { detail: { data: data[1] } });\n                this.element.dispatchEvent(metaEvent);\n            }\n            const e = addEvent(event, { detail: { data: data[1] } });\n            this.element.dispatchEvent(e);\n        }\n    }\n    _play() {\n        if (__classPrivateFieldGet(this, _HlsMedia_player, \"f\")) {\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").startLoad();\n        }\n    }\n    _pause() {\n        if (__classPrivateFieldGet(this, _HlsMedia_player, \"f\")) {\n            __classPrivateFieldGet(this, _HlsMedia_player, \"f\").stopLoad();\n        }\n    }\n}\n_HlsMedia_player = new WeakMap(), _HlsMedia_events = new WeakMap(), _HlsMedia_recoverDecodingErrorDate = new WeakMap(), _HlsMedia_recoverSwapAudioCodecDate = new WeakMap(), _HlsMedia_options = new WeakMap(), _HlsMedia_autoplay = new WeakMap();\nexport default HlsMedia;\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _HTML5Media_currentLevel, _HTML5Media_levelList, _HTML5Media_isStreaming, _HTML5Media_retryCount, _HTML5Media_started, _HTML5Media_timer;\nimport { DVR_THRESHOLD, EVENT_OPTIONS } from '../utils/constants';\nimport { addEvent, isAudio, isVideo } from '../utils/general';\nimport { isHlsSource } from '../utils/media';\nimport Native from './native';\nclass HTML5Media extends Native {\n    constructor(element, mediaFile) {\n        super(element, mediaFile);\n        _HTML5Media_currentLevel.set(this, void 0);\n        _HTML5Media_levelList.set(this, []);\n        _HTML5Media_isStreaming.set(this, false);\n        _HTML5Media_retryCount.set(this, 0);\n        _HTML5Media_started.set(this, false);\n        _HTML5Media_timer.set(this, void 0);\n        if (!isAudio(element) && !isVideo(element)) {\n            throw new TypeError('Native method only supports video/audio tags');\n        }\n        this._clearTimeout = this._clearTimeout.bind(this);\n        this._setTimeout = this._setTimeout.bind(this);\n        this._dispatchError = this._dispatchError.bind(this);\n        this._isDvrEnabled = this._isDvrEnabled.bind(this);\n        this._readMediadataInfo = this._readMediadataInfo.bind(this);\n        __classPrivateFieldSet(this, _HTML5Media_isStreaming, isHlsSource(mediaFile), \"f\");\n        this.element.addEventListener('playing', this._clearTimeout, EVENT_OPTIONS);\n        this.element.addEventListener('stalled', this._setTimeout, EVENT_OPTIONS);\n        this.element.addEventListener('error', this._dispatchError, EVENT_OPTIONS);\n        this.element.addEventListener('loadeddata', this._isDvrEnabled, EVENT_OPTIONS);\n        this.element.textTracks.addEventListener('addtrack', this._readMediadataInfo, EVENT_OPTIONS);\n    }\n    canPlayType(mimeType) {\n        return !!this.element.canPlayType(mimeType).replace('no', '');\n    }\n    load() {\n        this.element.load();\n    }\n    destroy() {\n        this.element.removeEventListener('playing', this._clearTimeout);\n        this.element.removeEventListener('stalled', this._setTimeout);\n        this.element.removeEventListener('error', this._dispatchError);\n        this.element.removeEventListener('loadeddata', this._isDvrEnabled);\n        this.element.textTracks.removeEventListener('addtrack', this._readMediadataInfo);\n    }\n    get levels() {\n        if (!__classPrivateFieldGet(this, _HTML5Media_levelList, \"f\").length) {\n            const levels = this.element.querySelectorAll('source[title]');\n            for (let i = 0, total = levels.length; i < total; ++i) {\n                const level = {\n                    height: 0,\n                    id: `${i}`,\n                    label: levels[i].getAttribute('title') || '',\n                };\n                __classPrivateFieldGet(this, _HTML5Media_levelList, \"f\").push(level);\n            }\n        }\n        return __classPrivateFieldGet(this, _HTML5Media_levelList, \"f\");\n    }\n    set level(level) {\n        const idx = __classPrivateFieldGet(this, _HTML5Media_levelList, \"f\").findIndex((item) => item.id === level);\n        if (idx > -1) {\n            __classPrivateFieldSet(this, _HTML5Media_currentLevel, this.levels[idx], \"f\");\n            const levels = this.element.querySelectorAll('source[title]');\n            for (let i = 0, total = levels.length; i < total; ++i) {\n                const source = levels[i].getAttribute('src');\n                if (source && parseInt(__classPrivateFieldGet(this, _HTML5Media_currentLevel, \"f\").id, 10) === i) {\n                    this.element.src = source;\n                }\n            }\n        }\n    }\n    get level() {\n        var _a;\n        return ((_a = __classPrivateFieldGet(this, _HTML5Media_currentLevel, \"f\")) === null || _a === void 0 ? void 0 : _a.id) || '-1';\n    }\n    set src(media) {\n        this.element.src = media.src;\n    }\n    _isDvrEnabled() {\n        const time = this.element.seekable.end(this.element.seekable.length - 1) - this.element.seekable.start(0);\n        if (__classPrivateFieldGet(this, _HTML5Media_isStreaming, \"f\") && time > DVR_THRESHOLD && !this.element.getAttribute('op-dvr__enabled')) {\n            this.element.setAttribute('op-dvr__enabled', 'true');\n            const timeEvent = addEvent('timeupdate');\n            this.element.dispatchEvent(timeEvent);\n        }\n    }\n    _readMediadataInfo(e) {\n        var _a;\n        const target = e;\n        if (((_a = target === null || target === void 0 ? void 0 : target.track) === null || _a === void 0 ? void 0 : _a.kind) === 'metadata') {\n            target.track.mode = 'hidden';\n            target.track.addEventListener('cuechange', (event) => {\n                const track = event.target;\n                const cue = track.activeCues ? track.activeCues[0] : null;\n                if (cue) {\n                    const metaDataEvent = addEvent('metadataready', { detail: cue });\n                    this.element.dispatchEvent(metaDataEvent);\n                }\n            }, EVENT_OPTIONS);\n        }\n    }\n    _setTimeout() {\n        if (!__classPrivateFieldGet(this, _HTML5Media_started, \"f\") && window !== undefined) {\n            __classPrivateFieldSet(this, _HTML5Media_started, true, \"f\");\n            __classPrivateFieldSet(this, _HTML5Media_timer, window.setInterval(() => {\n                var _a;\n                if (__classPrivateFieldGet(this, _HTML5Media_retryCount, \"f\") >= 30) {\n                    clearInterval(__classPrivateFieldGet(this, _HTML5Media_timer, \"f\"));\n                    const message = 'Media download failed part-way due to a network error';\n                    const details = {\n                        detail: {\n                            data: { message, error: 2 },\n                            message,\n                            type: 'HTML5',\n                        },\n                    };\n                    const errorEvent = addEvent('playererror', details);\n                    this.element.dispatchEvent(errorEvent);\n                    __classPrivateFieldSet(this, _HTML5Media_retryCount, 0, \"f\");\n                    __classPrivateFieldSet(this, _HTML5Media_started, false, \"f\");\n                }\n                else {\n                    __classPrivateFieldSet(this, _HTML5Media_retryCount, (_a = __classPrivateFieldGet(this, _HTML5Media_retryCount, \"f\"), _a++, _a), \"f\");\n                }\n            }, 1000), \"f\");\n        }\n    }\n    _clearTimeout() {\n        if (__classPrivateFieldGet(this, _HTML5Media_timer, \"f\")) {\n            clearInterval(__classPrivateFieldGet(this, _HTML5Media_timer, \"f\"));\n            __classPrivateFieldSet(this, _HTML5Media_retryCount, 0, \"f\");\n            __classPrivateFieldSet(this, _HTML5Media_started, false, \"f\");\n        }\n    }\n    _dispatchError(e) {\n        let defaultMessage;\n        const target = e.target;\n        const error = target === null || target === void 0 ? void 0 : target.error;\n        switch (error === null || error === void 0 ? void 0 : error.code) {\n            case error === null || error === void 0 ? void 0 : error.MEDIA_ERR_ABORTED:\n                defaultMessage = 'Media playback aborted';\n                break;\n            case error === null || error === void 0 ? void 0 : error.MEDIA_ERR_NETWORK:\n                defaultMessage = 'Media download failed part-way due to a network error';\n                break;\n            case error === null || error === void 0 ? void 0 : error.MEDIA_ERR_DECODE:\n                defaultMessage = `Media playback aborted due to a corruption problem or because the\n                    media used features your browser did not support.`;\n                break;\n            case error === null || error === void 0 ? void 0 : error.MEDIA_ERR_SRC_NOT_SUPPORTED:\n                defaultMessage = `Media could not be loaded, either because the server or network failed\n                    or because the format is not supported.`;\n                break;\n            default:\n                defaultMessage = 'Unknown error occurred.';\n                break;\n        }\n        const details = {\n            detail: {\n                data: Object.assign(Object.assign({}, e), { message: defaultMessage, error: error === null || error === void 0 ? void 0 : error.code }),\n                message: defaultMessage,\n                type: 'HTML5',\n            },\n        };\n        const errorEvent = addEvent('playererror', details);\n        this.element.dispatchEvent(errorEvent);\n    }\n}\n_HTML5Media_currentLevel = new WeakMap(), _HTML5Media_levelList = new WeakMap(), _HTML5Media_isStreaming = new WeakMap(), _HTML5Media_retryCount = new WeakMap(), _HTML5Media_started = new WeakMap(), _HTML5Media_timer = new WeakMap();\nexport default HTML5Media;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Media_element, _Media_media, _Media_files, _Media_promisePlay, _Media_options, _Media_autoplay, _Media_mediaLoaded, _Media_customMedia, _Media_currentSrc;\nimport DashMedia from './media/dash';\nimport FlvMedia from './media/flv';\nimport HlsMedia from './media/hls';\nimport HTML5Media from './media/html5';\nimport * as source from './utils/media';\nclass Media {\n    constructor(element, options, autoplay, customMedia) {\n        _Media_element.set(this, void 0);\n        _Media_media.set(this, void 0);\n        _Media_files.set(this, void 0);\n        _Media_promisePlay.set(this, void 0);\n        _Media_options.set(this, void 0);\n        _Media_autoplay.set(this, void 0);\n        _Media_mediaLoaded.set(this, false);\n        _Media_customMedia.set(this, {\n            media: {},\n            optionsKey: {},\n            rules: [],\n        });\n        _Media_currentSrc.set(this, void 0);\n        __classPrivateFieldSet(this, _Media_element, element, \"f\");\n        __classPrivateFieldSet(this, _Media_options, options, \"f\");\n        __classPrivateFieldSet(this, _Media_files, this._getMediaFiles(), \"f\");\n        __classPrivateFieldSet(this, _Media_customMedia, customMedia, \"f\");\n        __classPrivateFieldSet(this, _Media_autoplay, autoplay, \"f\");\n    }\n    canPlayType(mimeType) {\n        return __classPrivateFieldGet(this, _Media_media, \"f\").canPlayType(mimeType);\n    }\n    load() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (__classPrivateFieldGet(this, _Media_mediaLoaded, \"f\")) {\n                return;\n            }\n            __classPrivateFieldSet(this, _Media_mediaLoaded, true, \"f\");\n            if (!__classPrivateFieldGet(this, _Media_files, \"f\").length) {\n                throw new TypeError('Media not set');\n            }\n            if (__classPrivateFieldGet(this, _Media_media, \"f\") && typeof __classPrivateFieldGet(this, _Media_media, \"f\").destroy === 'function') {\n                const sameMedia = __classPrivateFieldGet(this, _Media_files, \"f\").length === 1 && __classPrivateFieldGet(this, _Media_files, \"f\")[0].src === __classPrivateFieldGet(this, _Media_media, \"f\").media.src;\n                if (!sameMedia) {\n                    __classPrivateFieldGet(this, _Media_media, \"f\").destroy();\n                }\n            }\n            __classPrivateFieldGet(this, _Media_files, \"f\").some((media) => {\n                try {\n                    __classPrivateFieldSet(this, _Media_media, this._invoke(media), \"f\");\n                }\n                catch (e) {\n                    __classPrivateFieldSet(this, _Media_media, new HTML5Media(__classPrivateFieldGet(this, _Media_element, \"f\"), media), \"f\");\n                }\n                return __classPrivateFieldGet(this, _Media_media, \"f\").canPlayType(media.type);\n            });\n            try {\n                if (__classPrivateFieldGet(this, _Media_media, \"f\") === null) {\n                    throw new TypeError('Media cannot be played with any valid media type');\n                }\n                yield __classPrivateFieldGet(this, _Media_media, \"f\").promise;\n                __classPrivateFieldGet(this, _Media_media, \"f\").load();\n            }\n            catch (e) {\n                if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n                    __classPrivateFieldGet(this, _Media_media, \"f\").destroy();\n                }\n                throw e;\n            }\n        });\n    }\n    play() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!__classPrivateFieldGet(this, _Media_mediaLoaded, \"f\")) {\n                __classPrivateFieldSet(this, _Media_mediaLoaded, true, \"f\");\n                yield this.load();\n                __classPrivateFieldSet(this, _Media_mediaLoaded, false, \"f\");\n            }\n            else {\n                yield __classPrivateFieldGet(this, _Media_media, \"f\").promise;\n            }\n            __classPrivateFieldSet(this, _Media_promisePlay, __classPrivateFieldGet(this, _Media_media, \"f\").play(), \"f\");\n            return __classPrivateFieldGet(this, _Media_promisePlay, \"f\");\n        });\n    }\n    pause() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (__classPrivateFieldGet(this, _Media_promisePlay, \"f\") !== undefined) {\n                yield __classPrivateFieldGet(this, _Media_promisePlay, \"f\");\n            }\n            __classPrivateFieldGet(this, _Media_media, \"f\").pause();\n        });\n    }\n    destroy() {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").destroy();\n        }\n    }\n    set src(media) {\n        if (typeof media === 'string') {\n            __classPrivateFieldGet(this, _Media_files, \"f\").push({\n                src: media,\n                type: source.predictMimeType(media, __classPrivateFieldGet(this, _Media_element, \"f\")),\n            });\n        }\n        else if (Array.isArray(media)) {\n            __classPrivateFieldSet(this, _Media_files, media, \"f\");\n        }\n        else if (typeof media === 'object') {\n            __classPrivateFieldGet(this, _Media_files, \"f\").push(media);\n        }\n        __classPrivateFieldSet(this, _Media_files, __classPrivateFieldGet(this, _Media_files, \"f\").filter((file) => file.src), \"f\");\n        if (__classPrivateFieldGet(this, _Media_files, \"f\").length > 0) {\n            const [file] = __classPrivateFieldGet(this, _Media_files, \"f\");\n            if (__classPrivateFieldGet(this, _Media_element, \"f\").src) {\n                __classPrivateFieldGet(this, _Media_element, \"f\").setAttribute('data-op-file', __classPrivateFieldGet(this, _Media_files, \"f\")[0].src);\n            }\n            __classPrivateFieldGet(this, _Media_element, \"f\").src = file.src;\n            __classPrivateFieldSet(this, _Media_currentSrc, file, \"f\");\n            if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n                __classPrivateFieldGet(this, _Media_media, \"f\").src = file;\n            }\n        }\n        else {\n            __classPrivateFieldGet(this, _Media_element, \"f\").src = '';\n        }\n    }\n    get src() {\n        return __classPrivateFieldGet(this, _Media_files, \"f\");\n    }\n    get current() {\n        return __classPrivateFieldGet(this, _Media_currentSrc, \"f\");\n    }\n    set mediaFiles(sources) {\n        __classPrivateFieldSet(this, _Media_files, sources, \"f\");\n    }\n    get mediaFiles() {\n        return __classPrivateFieldGet(this, _Media_files, \"f\");\n    }\n    set volume(value) {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").volume = value;\n        }\n    }\n    get volume() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").volume : __classPrivateFieldGet(this, _Media_element, \"f\").volume;\n    }\n    set muted(value) {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").muted = value;\n        }\n    }\n    get muted() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").muted : __classPrivateFieldGet(this, _Media_element, \"f\").muted;\n    }\n    set playbackRate(value) {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").playbackRate = value;\n        }\n    }\n    get playbackRate() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").playbackRate : __classPrivateFieldGet(this, _Media_element, \"f\").playbackRate;\n    }\n    set defaultPlaybackRate(value) {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").defaultPlaybackRate = value;\n        }\n    }\n    get defaultPlaybackRate() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").defaultPlaybackRate : __classPrivateFieldGet(this, _Media_element, \"f\").defaultPlaybackRate;\n    }\n    set currentTime(value) {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").currentTime = value;\n        }\n    }\n    get currentTime() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").currentTime : __classPrivateFieldGet(this, _Media_element, \"f\").currentTime;\n    }\n    get duration() {\n        const duration = __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").duration : __classPrivateFieldGet(this, _Media_element, \"f\").duration;\n        if (duration === Infinity && __classPrivateFieldGet(this, _Media_element, \"f\").seekable && __classPrivateFieldGet(this, _Media_element, \"f\").seekable.length) {\n            return __classPrivateFieldGet(this, _Media_element, \"f\").seekable.end(0);\n        }\n        return duration;\n    }\n    get paused() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").paused : __classPrivateFieldGet(this, _Media_element, \"f\").paused;\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").ended : __classPrivateFieldGet(this, _Media_element, \"f\").ended;\n    }\n    set loaded(loaded) {\n        __classPrivateFieldSet(this, _Media_mediaLoaded, loaded, \"f\");\n    }\n    get loaded() {\n        return __classPrivateFieldGet(this, _Media_mediaLoaded, \"f\");\n    }\n    set level(value) {\n        if (__classPrivateFieldGet(this, _Media_media, \"f\")) {\n            __classPrivateFieldGet(this, _Media_media, \"f\").level = value;\n        }\n    }\n    get level() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").level : -1;\n    }\n    get levels() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").levels : [];\n    }\n    get instance() {\n        return __classPrivateFieldGet(this, _Media_media, \"f\") ? __classPrivateFieldGet(this, _Media_media, \"f\").instance : null;\n    }\n    _getMediaFiles() {\n        const mediaFiles = [];\n        const sourceTags = __classPrivateFieldGet(this, _Media_element, \"f\").querySelectorAll('source');\n        const nodeSource = __classPrivateFieldGet(this, _Media_element, \"f\").src;\n        if (nodeSource) {\n            mediaFiles.push({\n                src: nodeSource,\n                type: __classPrivateFieldGet(this, _Media_element, \"f\").getAttribute('type') || source.predictMimeType(nodeSource, __classPrivateFieldGet(this, _Media_element, \"f\")),\n            });\n        }\n        for (let i = 0, total = sourceTags.length; i < total; i++) {\n            const item = sourceTags[i];\n            const { src } = item;\n            mediaFiles.push({\n                src,\n                type: item.getAttribute('type') || source.predictMimeType(src, __classPrivateFieldGet(this, _Media_element, \"f\")),\n            });\n            if (i === 0) {\n                const [file] = mediaFiles;\n                __classPrivateFieldSet(this, _Media_currentSrc, file, \"f\");\n            }\n        }\n        if (!mediaFiles.length) {\n            mediaFiles.push({\n                src: '',\n                type: source.predictMimeType('', __classPrivateFieldGet(this, _Media_element, \"f\")),\n            });\n        }\n        return mediaFiles;\n    }\n    _invoke(media) {\n        var _a, _b, _c;\n        const playHLSNatively = __classPrivateFieldGet(this, _Media_element, \"f\").canPlayType('application/vnd.apple.mpegurl') ||\n            __classPrivateFieldGet(this, _Media_element, \"f\").canPlayType('application/x-mpegURL');\n        __classPrivateFieldSet(this, _Media_currentSrc, media, \"f\");\n        const { layers } = __classPrivateFieldGet(this, _Media_options, \"f\").controls || {};\n        let activeLevels = false;\n        if (layers) {\n            Object.keys(layers).forEach((layer) => {\n                const current = layers ? layers[layer] : null;\n                if (current && current.indexOf('levels') > -1) {\n                    activeLevels = true;\n                }\n            });\n        }\n        if (Object.keys(__classPrivateFieldGet(this, _Media_customMedia, \"f\").media).length) {\n            let customRef;\n            __classPrivateFieldGet(this, _Media_customMedia, \"f\").rules.forEach((rule) => {\n                const type = rule(media.src);\n                if (type) {\n                    const customMedia = __classPrivateFieldGet(this, _Media_customMedia, \"f\").media[type];\n                    const customOptions = __classPrivateFieldGet(this, _Media_options, \"f\")[__classPrivateFieldGet(this, _Media_customMedia, \"f\").optionsKey[type]] || undefined;\n                    customRef = customMedia(__classPrivateFieldGet(this, _Media_element, \"f\"), media, __classPrivateFieldGet(this, _Media_autoplay, \"f\"), customOptions);\n                }\n            });\n            if (customRef) {\n                customRef.create();\n                return customRef;\n            }\n            return new HTML5Media(__classPrivateFieldGet(this, _Media_element, \"f\"), media);\n        }\n        if (source.isHlsSource(media)) {\n            if (playHLSNatively && __classPrivateFieldGet(this, _Media_options, \"f\").forceNative && !activeLevels) {\n                return new HTML5Media(__classPrivateFieldGet(this, _Media_element, \"f\"), media);\n            }\n            const hlsOptions = ((_a = __classPrivateFieldGet(this, _Media_options, \"f\")) === null || _a === void 0 ? void 0 : _a.hls) || undefined;\n            return new HlsMedia(__classPrivateFieldGet(this, _Media_element, \"f\"), media, __classPrivateFieldGet(this, _Media_autoplay, \"f\"), hlsOptions);\n        }\n        if (source.isDashSource(media)) {\n            const dashOptions = ((_b = __classPrivateFieldGet(this, _Media_options, \"f\")) === null || _b === void 0 ? void 0 : _b.dash) || undefined;\n            return new DashMedia(__classPrivateFieldGet(this, _Media_element, \"f\"), media, dashOptions);\n        }\n        if (source.isFlvSource(media)) {\n            const flvOptions = ((_c = __classPrivateFieldGet(this, _Media_options, \"f\")) === null || _c === void 0 ? void 0 : _c.flv) || {\n                debug: false,\n                type: 'flv',\n                url: media.src,\n            };\n            return new FlvMedia(__classPrivateFieldGet(this, _Media_element, \"f\"), media, flvOptions);\n        }\n        return new HTML5Media(__classPrivateFieldGet(this, _Media_element, \"f\"), media);\n    }\n}\n_Media_element = new WeakMap(), _Media_media = new WeakMap(), _Media_files = new WeakMap(), _Media_promisePlay = new WeakMap(), _Media_options = new WeakMap(), _Media_autoplay = new WeakMap(), _Media_mediaLoaded = new WeakMap(), _Media_customMedia = new WeakMap(), _Media_currentSrc = new WeakMap();\nexport default Media;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Ads_ended, _Ads_done, _Ads_active, _Ads_started, _Ads_intervalTimer, _Ads_volume, _Ads_muted, _Ads_duration, _Ads_currentTime, _Ads_manager, _Ads_player, _Ads_media, _Ads_element, _Ads_events, _Ads_ads, _Ads_promise, _Ads_loader, _Ads_container, _Ads_customClickContainer, _Ads_skipElement, _Ads_displayContainer, _Ads_request, _Ads_autostart, _Ads_autostartMuted, _Ads_playTriggered, _Ads_options, _Ads_currentIndex, _Ads_originalVolume, _Ads_preloadContent, _Ads_lastTimePaused, _Ads_mediaSources, _Ads_mediaStarted, _Ads_adEvent;\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS, IS_IPHONE } from '../utils/constants';\nimport { addEvent, isAudio, isVideo, isXml, loadScript } from '../utils/general';\nclass Ads {\n    constructor(player, ads, autostart, autostartMuted, options) {\n        var _a, _b, _c, _d;\n        this.loadedAd = false;\n        _Ads_ended.set(this, false);\n        _Ads_done.set(this, false);\n        _Ads_active.set(this, false);\n        _Ads_started.set(this, false);\n        _Ads_intervalTimer.set(this, 0);\n        _Ads_volume.set(this, void 0);\n        _Ads_muted.set(this, false);\n        _Ads_duration.set(this, 0);\n        _Ads_currentTime.set(this, 0);\n        _Ads_manager.set(this, null);\n        _Ads_player.set(this, void 0);\n        _Ads_media.set(this, void 0);\n        _Ads_element.set(this, void 0);\n        _Ads_events.set(this, []);\n        _Ads_ads.set(this, void 0);\n        _Ads_promise.set(this, void 0);\n        _Ads_loader.set(this, void 0);\n        _Ads_container.set(this, void 0);\n        _Ads_customClickContainer.set(this, void 0);\n        _Ads_skipElement.set(this, void 0);\n        _Ads_displayContainer.set(this, void 0);\n        _Ads_request.set(this, void 0);\n        _Ads_autostart.set(this, false);\n        _Ads_autostartMuted.set(this, false);\n        _Ads_playTriggered.set(this, false);\n        _Ads_options.set(this, void 0);\n        _Ads_currentIndex.set(this, 0);\n        _Ads_originalVolume.set(this, void 0);\n        _Ads_preloadContent.set(this, void 0);\n        _Ads_lastTimePaused.set(this, 0);\n        _Ads_mediaSources.set(this, []);\n        _Ads_mediaStarted.set(this, false);\n        _Ads_adEvent.set(this, null);\n        const defaultOpts = {\n            autoPlayAdBreaks: true,\n            customClick: {\n                enabled: false,\n                label: 'Click here for more info',\n            },\n            audioSkip: {\n                enabled: true,\n                label: 'Skip Ad',\n                remainingLabel: 'Skip in [[secs]] seconds',\n            },\n            debug: false,\n            enablePreloading: false,\n            language: 'en',\n            loop: false,\n            numRedirects: 4,\n            publisherId: undefined,\n            sdkPath: 'https://imasdk.googleapis.com/js/sdkloader/ima3.js',\n            sessionId: undefined,\n            src: [],\n            vpaidMode: 'enabled',\n        };\n        __classPrivateFieldSet(this, _Ads_player, player, \"f\");\n        __classPrivateFieldSet(this, _Ads_ads, ads, \"f\");\n        __classPrivateFieldSet(this, _Ads_media, player.getMedia(), \"f\");\n        __classPrivateFieldSet(this, _Ads_element, player.getElement(), \"f\");\n        __classPrivateFieldSet(this, _Ads_autostart, autostart || false, \"f\");\n        __classPrivateFieldSet(this, _Ads_muted, player.getElement().muted, \"f\");\n        __classPrivateFieldSet(this, _Ads_autostartMuted, autostartMuted || false, \"f\");\n        __classPrivateFieldSet(this, _Ads_options, Object.assign(Object.assign({}, defaultOpts), options), \"f\");\n        if ((options === null || options === void 0 ? void 0 : options.customClick) && Object.keys(options.customClick).length) {\n            __classPrivateFieldGet(this, _Ads_options, \"f\").customClick = Object.assign(Object.assign({}, defaultOpts.customClick), options.customClick);\n        }\n        __classPrivateFieldSet(this, _Ads_playTriggered, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_originalVolume, __classPrivateFieldGet(this, _Ads_element, \"f\").volume, \"f\");\n        __classPrivateFieldSet(this, _Ads_volume, __classPrivateFieldGet(this, _Ads_originalVolume, \"f\"), \"f\");\n        const path = ((_a = __classPrivateFieldGet(this, _Ads_options, \"f\")) === null || _a === void 0 ? void 0 : _a.debug)\n            ? (_c = (_b = __classPrivateFieldGet(this, _Ads_options, \"f\")) === null || _b === void 0 ? void 0 : _b.sdkPath) === null || _c === void 0 ? void 0 : _c.replace(/(\\.js$)/, '_debug.js')\n            : (_d = __classPrivateFieldGet(this, _Ads_options, \"f\")) === null || _d === void 0 ? void 0 : _d.sdkPath;\n        this.load = this.load.bind(this);\n        this.resizeAds = this.resizeAds.bind(this);\n        this._handleClickInContainer = this._handleClickInContainer.bind(this);\n        this._handleSkipAds = this._handleSkipAds.bind(this);\n        this._loaded = this._loaded.bind(this);\n        this._error = this._error.bind(this);\n        this._assign = this._assign.bind(this);\n        this._contentLoadedAction = this._contentLoadedAction.bind(this);\n        this._loadedMetadataHandler = this._loadedMetadataHandler.bind(this);\n        this._contentEndedListener = this._contentEndedListener.bind(this);\n        this._handleResizeAds = this._handleResizeAds.bind(this);\n        this._onContentPauseRequested = this._onContentPauseRequested.bind(this);\n        this._onContentResumeRequested = this._onContentResumeRequested.bind(this);\n        __classPrivateFieldSet(this, _Ads_promise, path && (typeof google === 'undefined' || typeof google.ima === 'undefined')\n            ? loadScript(path)\n            : new Promise((resolve) => {\n                resolve();\n            }), \"f\");\n        __classPrivateFieldGet(this, _Ads_promise, \"f\")\n            .then(() => {\n            this.load();\n        })\n            .catch((error) => {\n            let message = 'Ad script could not be loaded; please check if you have an AdBlock ';\n            message += 'turned on, or if you provided a valid URL is correct';\n            console.error(`Ad error: ${message}.`);\n            const details = {\n                detail: {\n                    data: error,\n                    message,\n                    type: 'Ads',\n                },\n            };\n            const errorEvent = addEvent('playererror', details);\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(errorEvent);\n        });\n    }\n    load(force = false) {\n        var _a, _b, _c;\n        if (typeof google === 'undefined' ||\n            !google.ima ||\n            (!force && this.loadedAd && __classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks)) {\n            return;\n        }\n        if (!__classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks && !force) {\n            return;\n        }\n        this.loadedAd = true;\n        const existingContainer = __classPrivateFieldGet(this, _Ads_player, \"f\").getContainer().querySelector('.op-ads');\n        if (existingContainer && existingContainer.parentNode) {\n            existingContainer.parentNode.removeChild(existingContainer);\n        }\n        __classPrivateFieldSet(this, _Ads_started, true, \"f\");\n        __classPrivateFieldSet(this, _Ads_container, document.createElement('div'), \"f\");\n        __classPrivateFieldGet(this, _Ads_container, \"f\").className = 'op-ads';\n        __classPrivateFieldGet(this, _Ads_container, \"f\").tabIndex = -1;\n        if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n            __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.insertBefore(__classPrivateFieldGet(this, _Ads_container, \"f\"), __classPrivateFieldGet(this, _Ads_element, \"f\").nextSibling);\n        }\n        __classPrivateFieldGet(this, _Ads_container, \"f\").addEventListener('click', this._handleClickInContainer);\n        if ((_a = __classPrivateFieldGet(this, _Ads_options, \"f\").customClick) === null || _a === void 0 ? void 0 : _a.enabled) {\n            __classPrivateFieldSet(this, _Ads_customClickContainer, document.createElement('div'), \"f\");\n            __classPrivateFieldGet(this, _Ads_customClickContainer, \"f\").className = 'op-ads__click-container';\n            __classPrivateFieldGet(this, _Ads_customClickContainer, \"f\").innerHTML = `<div class=\"op-ads__click-label\">${__classPrivateFieldGet(this, _Ads_options, \"f\").customClick.label}</div>`;\n            if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n                __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.insertBefore(__classPrivateFieldGet(this, _Ads_customClickContainer, \"f\"), __classPrivateFieldGet(this, _Ads_element, \"f\").nextSibling);\n            }\n        }\n        if (isAudio(__classPrivateFieldGet(this, _Ads_element, \"f\")) && ((_b = __classPrivateFieldGet(this, _Ads_options, \"f\").audioSkip) === null || _b === void 0 ? void 0 : _b.enabled)) {\n            if ((_c = __classPrivateFieldGet(this, _Ads_options, \"f\").audioSkip) === null || _c === void 0 ? void 0 : _c.element) {\n                const { element } = __classPrivateFieldGet(this, _Ads_options, \"f\").audioSkip || {};\n                if (typeof element === 'string') {\n                    const target = document.getElementById(element);\n                    if (target) {\n                        __classPrivateFieldSet(this, _Ads_skipElement, target, \"f\");\n                    }\n                }\n                else if (element instanceof HTMLElement) {\n                    __classPrivateFieldSet(this, _Ads_skipElement, element, \"f\");\n                }\n            }\n            else {\n                __classPrivateFieldSet(this, _Ads_skipElement, document.createElement('button'), \"f\");\n                __classPrivateFieldGet(this, _Ads_skipElement, \"f\").className = 'op-ads__skip hidden';\n                __classPrivateFieldGet(this, _Ads_player, \"f\").getControls().getContainer().appendChild(__classPrivateFieldGet(this, _Ads_skipElement, \"f\"));\n            }\n            if (__classPrivateFieldGet(this, _Ads_skipElement, \"f\")) {\n                __classPrivateFieldGet(this, _Ads_skipElement, \"f\").addEventListener('click', this._handleSkipAds, EVENT_OPTIONS);\n            }\n        }\n        __classPrivateFieldSet(this, _Ads_mediaSources, __classPrivateFieldGet(this, _Ads_media, \"f\").src, \"f\");\n        const vpaidModeMap = {\n            disabled: google.ima.ImaSdkSettings.VpaidMode.DISABLED,\n            enabled: google.ima.ImaSdkSettings.VpaidMode.ENABLED,\n            insecure: google.ima.ImaSdkSettings.VpaidMode.INSECURE,\n        };\n        google.ima.settings.setVpaidMode(vpaidModeMap[__classPrivateFieldGet(this, _Ads_options, \"f\").vpaidMode || 'enabled']);\n        google.ima.settings.setDisableCustomPlaybackForIOS10Plus(true);\n        google.ima.settings.setAutoPlayAdBreaks(__classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks);\n        google.ima.settings.setNumRedirects(__classPrivateFieldGet(this, _Ads_options, \"f\").numRedirects);\n        google.ima.settings.setLocale(__classPrivateFieldGet(this, _Ads_options, \"f\").language);\n        if (__classPrivateFieldGet(this, _Ads_options, \"f\").sessionId) {\n            google.ima.settings.setSessionId(__classPrivateFieldGet(this, _Ads_options, \"f\").sessionId);\n        }\n        if (__classPrivateFieldGet(this, _Ads_options, \"f\").publisherId) {\n            google.ima.settings.setPpid(__classPrivateFieldGet(this, _Ads_options, \"f\").publisherId);\n        }\n        google.ima.settings.setPlayerType('openplayerjs');\n        google.ima.settings.setPlayerVersion('3.0.0');\n        __classPrivateFieldSet(this, _Ads_displayContainer, new google.ima.AdDisplayContainer(__classPrivateFieldGet(this, _Ads_container, \"f\"), __classPrivateFieldGet(this, _Ads_element, \"f\"), __classPrivateFieldGet(this, _Ads_customClickContainer, \"f\")), \"f\");\n        __classPrivateFieldSet(this, _Ads_loader, new google.ima.AdsLoader(__classPrivateFieldGet(this, _Ads_displayContainer, \"f\")), \"f\");\n        __classPrivateFieldGet(this, _Ads_loader, \"f\").addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, this._loaded, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Ads_loader, \"f\").addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this._error, EVENT_OPTIONS);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('resize', this._handleResizeAds, EVENT_OPTIONS);\n        }\n        __classPrivateFieldGet(this, _Ads_element, \"f\").addEventListener('loadedmetadata', this._handleResizeAds, EVENT_OPTIONS);\n        if (__classPrivateFieldGet(this, _Ads_autostart, \"f\") === true ||\n            __classPrivateFieldGet(this, _Ads_autostartMuted, \"f\") === true ||\n            force === true ||\n            __classPrivateFieldGet(this, _Ads_options, \"f\").enablePreloading === true ||\n            __classPrivateFieldGet(this, _Ads_playTriggered, \"f\") === true) {\n            if (!__classPrivateFieldGet(this, _Ads_done, \"f\")) {\n                __classPrivateFieldSet(this, _Ads_done, true, \"f\");\n                __classPrivateFieldGet(this, _Ads_displayContainer, \"f\").initialize();\n            }\n            this._requestAds();\n        }\n    }\n    play() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!__classPrivateFieldGet(this, _Ads_done, \"f\")) {\n                __classPrivateFieldSet(this, _Ads_playTriggered, true, \"f\");\n                this._initNotDoneAds();\n                return;\n            }\n            if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n                try {\n                    if (!__classPrivateFieldGet(this, _Ads_intervalTimer, \"f\") && __classPrivateFieldGet(this, _Ads_active, \"f\") === false) {\n                        __classPrivateFieldGet(this, _Ads_manager, \"f\").start();\n                    }\n                    else {\n                        __classPrivateFieldGet(this, _Ads_manager, \"f\").resume();\n                    }\n                    __classPrivateFieldSet(this, _Ads_active, true, \"f\");\n                    const e = addEvent('play');\n                    __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n                }\n                catch (err) {\n                    this._resumeMedia();\n                }\n            }\n        });\n    }\n    pause() {\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n            __classPrivateFieldSet(this, _Ads_active, false, \"f\");\n            __classPrivateFieldGet(this, _Ads_manager, \"f\").pause();\n            const e = addEvent('pause');\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n        }\n    }\n    destroy() {\n        var _a, _b;\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_manager, \"f\").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this._error);\n            if (__classPrivateFieldGet(this, _Ads_events, \"f\")) {\n                __classPrivateFieldGet(this, _Ads_events, \"f\").forEach((event) => {\n                    __classPrivateFieldGet(this, _Ads_manager, \"f\").removeEventListener(event, this._assign);\n                });\n            }\n        }\n        __classPrivateFieldSet(this, _Ads_events, [], \"f\");\n        const controls = __classPrivateFieldGet(this, _Ads_player, \"f\").getControls();\n        const mouseEvents = controls ? controls.events.mouse : {};\n        Object.keys(mouseEvents).forEach((event) => {\n            if (__classPrivateFieldGet(this, _Ads_container, \"f\")) {\n                __classPrivateFieldGet(this, _Ads_container, \"f\").removeEventListener(event, mouseEvents[event]);\n            }\n        });\n        if (__classPrivateFieldGet(this, _Ads_loader, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_loader, \"f\").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this._error);\n            __classPrivateFieldGet(this, _Ads_loader, \"f\").removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, this._loaded);\n        }\n        const destroy = !Array.isArray(__classPrivateFieldGet(this, _Ads_ads, \"f\")) || __classPrivateFieldGet(this, _Ads_currentIndex, \"f\") > __classPrivateFieldGet(this, _Ads_ads, \"f\").length;\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\") && destroy) {\n            __classPrivateFieldGet(this, _Ads_manager, \"f\").destroy();\n        }\n        if (((_a = __classPrivateFieldGet(this, _Ads_options, \"f\").customClick) === null || _a === void 0 ? void 0 : _a.enabled) && __classPrivateFieldGet(this, _Ads_customClickContainer, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_customClickContainer, \"f\").remove();\n        }\n        if (((_b = __classPrivateFieldGet(this, _Ads_options, \"f\").audioSkip) === null || _b === void 0 ? void 0 : _b.enabled) && __classPrivateFieldGet(this, _Ads_skipElement, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_skipElement, \"f\").removeEventListener('click', this._handleSkipAds);\n            __classPrivateFieldGet(this, _Ads_skipElement, \"f\").remove();\n        }\n        if (IS_IOS || IS_ANDROID) {\n            __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('loadedmetadata', this._contentLoadedAction);\n        }\n        __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('loadedmetadata', this._handleResizeAds);\n        __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('loadedmetadata', this._loadedMetadataHandler);\n        __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('ended', this._contentEndedListener);\n        if (typeof window !== 'undefined') {\n            window.removeEventListener('resize', this._handleResizeAds);\n        }\n        if (__classPrivateFieldGet(this, _Ads_container, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_container, \"f\").removeEventListener('click', this._handleClickInContainer);\n            __classPrivateFieldGet(this, _Ads_container, \"f\").remove();\n        }\n        this.loadPromise = null;\n        this.loadedAd = false;\n        __classPrivateFieldSet(this, _Ads_done, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_playTriggered, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_duration, 0, \"f\");\n        __classPrivateFieldSet(this, _Ads_currentTime, 0, \"f\");\n        __classPrivateFieldSet(this, _Ads_adEvent, null, \"f\");\n    }\n    resizeAds(width, height) {\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n            const target = __classPrivateFieldGet(this, _Ads_element, \"f\");\n            const mode = target.getAttribute('data-fullscreen') === 'true'\n                ? google.ima.ViewMode.FULLSCREEN\n                : google.ima.ViewMode.NORMAL;\n            let formattedWidth = width;\n            const percentageWidth = width ? width.toString() : '';\n            if (width && percentageWidth.indexOf('%') > -1) {\n                if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n                    formattedWidth = __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.offsetWidth * (parseInt(percentageWidth, 10) / 100);\n                }\n            }\n            let formattedHeight = height;\n            const percentageHeight = height ? height.toString() : '';\n            if (height && percentageHeight.indexOf('%') > -1) {\n                if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n                    formattedHeight = __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.offsetHeight * (parseInt(percentageHeight, 10) / 100);\n                }\n            }\n            let timeout;\n            if (timeout && typeof window !== 'undefined') {\n                window.cancelAnimationFrame(timeout);\n            }\n            if (typeof window !== 'undefined') {\n                timeout = window.requestAnimationFrame(() => {\n                    __classPrivateFieldGet(this, _Ads_manager, \"f\").resize(formattedWidth || target.offsetWidth, formattedHeight || target.offsetHeight, mode);\n                });\n            }\n        }\n    }\n    getAdsManager() {\n        return __classPrivateFieldGet(this, _Ads_manager, \"f\");\n    }\n    getAdsLoader() {\n        return __classPrivateFieldGet(this, _Ads_loader, \"f\");\n    }\n    started() {\n        return __classPrivateFieldGet(this, _Ads_started, \"f\");\n    }\n    set src(source) {\n        __classPrivateFieldSet(this, _Ads_ads, source, \"f\");\n    }\n    set isDone(value) {\n        __classPrivateFieldSet(this, _Ads_done, value, \"f\");\n    }\n    set playRequested(value) {\n        __classPrivateFieldSet(this, _Ads_playTriggered, value, \"f\");\n    }\n    set volume(value) {\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n            __classPrivateFieldSet(this, _Ads_volume, value, \"f\");\n            __classPrivateFieldGet(this, _Ads_manager, \"f\").setVolume(value);\n            this._setMediaVolume(value);\n            __classPrivateFieldSet(this, _Ads_muted, value === 0, \"f\");\n        }\n    }\n    get volume() {\n        return __classPrivateFieldGet(this, _Ads_manager, \"f\") ? __classPrivateFieldGet(this, _Ads_manager, \"f\").getVolume() : __classPrivateFieldGet(this, _Ads_originalVolume, \"f\");\n    }\n    set muted(value) {\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n            if (value) {\n                __classPrivateFieldGet(this, _Ads_manager, \"f\").setVolume(0);\n                __classPrivateFieldSet(this, _Ads_muted, true, \"f\");\n                this._setMediaVolume(0);\n            }\n            else {\n                __classPrivateFieldGet(this, _Ads_manager, \"f\").setVolume(__classPrivateFieldGet(this, _Ads_volume, \"f\"));\n                __classPrivateFieldSet(this, _Ads_muted, false, \"f\");\n                this._setMediaVolume(__classPrivateFieldGet(this, _Ads_volume, \"f\"));\n            }\n        }\n    }\n    get muted() {\n        return __classPrivateFieldGet(this, _Ads_muted, \"f\");\n    }\n    set currentTime(value) {\n        __classPrivateFieldSet(this, _Ads_currentTime, value, \"f\");\n    }\n    get currentTime() {\n        return __classPrivateFieldGet(this, _Ads_currentTime, \"f\");\n    }\n    get duration() {\n        return __classPrivateFieldGet(this, _Ads_duration, \"f\");\n    }\n    get paused() {\n        return !__classPrivateFieldGet(this, _Ads_active, \"f\");\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _Ads_ended, \"f\");\n    }\n    _assign(event) {\n        var _a, _b;\n        const ad = event.getAd();\n        if (ad) {\n            __classPrivateFieldSet(this, _Ads_adEvent, ad, \"f\");\n        }\n        switch (event.type) {\n            case google.ima.AdEvent.Type.LOADED:\n                if (!ad.isLinear()) {\n                    this._onContentResumeRequested();\n                }\n                else {\n                    if (IS_IPHONE && isVideo(__classPrivateFieldGet(this, _Ads_element, \"f\"))) {\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").controls = false;\n                    }\n                    __classPrivateFieldSet(this, _Ads_duration, ad.getDuration(), \"f\");\n                    __classPrivateFieldSet(this, _Ads_currentTime, ad.getDuration(), \"f\");\n                    if (!__classPrivateFieldGet(this, _Ads_mediaStarted, \"f\") && !IS_IOS && !IS_ANDROID) {\n                        const waitingEvent = addEvent('waiting');\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(waitingEvent);\n                        const loadedEvent = addEvent('loadedmetadata');\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(loadedEvent);\n                        this.resizeAds();\n                    }\n                }\n                break;\n            case google.ima.AdEvent.Type.STARTED:\n                if (ad.isLinear()) {\n                    if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement &&\n                        !__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.classList.contains('op-ads--active')) {\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.classList.add('op-ads--active');\n                    }\n                    if (!__classPrivateFieldGet(this, _Ads_media, \"f\").paused) {\n                        __classPrivateFieldGet(this, _Ads_media, \"f\").pause();\n                    }\n                    __classPrivateFieldSet(this, _Ads_active, true, \"f\");\n                    const playEvent = addEvent('play');\n                    __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(playEvent);\n                    let resized;\n                    if (!resized) {\n                        this.resizeAds();\n                        resized = true;\n                    }\n                    if (__classPrivateFieldGet(this, _Ads_media, \"f\").ended) {\n                        __classPrivateFieldSet(this, _Ads_ended, false, \"f\");\n                        const endEvent = addEvent('adsmediaended');\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(endEvent);\n                    }\n                    if (typeof window !== 'undefined') {\n                        __classPrivateFieldSet(this, _Ads_intervalTimer, window.setInterval(() => {\n                            if (__classPrivateFieldGet(this, _Ads_active, \"f\") === true) {\n                                __classPrivateFieldSet(this, _Ads_currentTime, Math.round(__classPrivateFieldGet(this, _Ads_manager, \"f\").getRemainingTime()), \"f\");\n                                const timeEvent = addEvent('timeupdate');\n                                __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(timeEvent);\n                            }\n                        }, 350), \"f\");\n                    }\n                }\n                break;\n            case google.ima.AdEvent.Type.COMPLETE:\n            case google.ima.AdEvent.Type.SKIPPED:\n                if (ad.isLinear()) {\n                    if (event.type === google.ima.AdEvent.Type.SKIPPED) {\n                        const skipEvent = addEvent('adsskipped');\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(skipEvent);\n                    }\n                    if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.classList.remove('op-ads--active');\n                    }\n                    __classPrivateFieldSet(this, _Ads_active, false, \"f\");\n                    clearInterval(__classPrivateFieldGet(this, _Ads_intervalTimer, \"f\"));\n                }\n                break;\n            case google.ima.AdEvent.Type.VOLUME_CHANGED:\n                this._setMediaVolume(this.volume);\n                break;\n            case google.ima.AdEvent.Type.VOLUME_MUTED:\n                if (ad.isLinear()) {\n                    const volumeEvent = addEvent('volumechange');\n                    __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(volumeEvent);\n                }\n                break;\n            case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:\n                if (ad.isLinear()) {\n                    __classPrivateFieldSet(this, _Ads_active, false, \"f\");\n                    __classPrivateFieldSet(this, _Ads_ended, true, \"f\");\n                    __classPrivateFieldSet(this, _Ads_intervalTimer, 0, \"f\");\n                    __classPrivateFieldSet(this, _Ads_muted, false, \"f\");\n                    __classPrivateFieldSet(this, _Ads_started, false, \"f\");\n                    __classPrivateFieldSet(this, _Ads_adEvent, null, \"f\");\n                    if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.classList.remove('op-ads--active');\n                    }\n                    this.destroy();\n                    if (__classPrivateFieldGet(this, _Ads_element, \"f\").currentTime >= __classPrivateFieldGet(this, _Ads_element, \"f\").duration) {\n                        const endedEvent = addEvent('ended');\n                        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(endedEvent);\n                    }\n                }\n                break;\n            case google.ima.AdEvent.Type.CLICK:\n                const pauseEvent = addEvent('pause');\n                __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(pauseEvent);\n                break;\n            case google.ima.AdEvent.Type.AD_BREAK_READY:\n                if (!__classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks) {\n                    this.play();\n                }\n                break;\n            case google.ima.AdEvent.Type.AD_PROGRESS:\n                const progressData = event.getAdData();\n                const offset = __classPrivateFieldGet(this, _Ads_adEvent, \"f\") ? __classPrivateFieldGet(this, _Ads_adEvent, \"f\").getSkipTimeOffset() : -1;\n                if (__classPrivateFieldGet(this, _Ads_skipElement, \"f\")) {\n                    if (offset !== -1) {\n                        const canSkip = __classPrivateFieldGet(this, _Ads_manager, \"f\").getAdSkippableState();\n                        const remainingTime = Math.ceil(offset - progressData.currentTime);\n                        __classPrivateFieldGet(this, _Ads_skipElement, \"f\").classList.remove('hidden');\n                        if (canSkip) {\n                            __classPrivateFieldGet(this, _Ads_skipElement, \"f\").textContent = ((_a = __classPrivateFieldGet(this, _Ads_options, \"f\").audioSkip) === null || _a === void 0 ? void 0 : _a.label) || '';\n                            __classPrivateFieldGet(this, _Ads_skipElement, \"f\").classList.remove('disabled');\n                        }\n                        else {\n                            __classPrivateFieldGet(this, _Ads_skipElement, \"f\").textContent =\n                                ((_b = __classPrivateFieldGet(this, _Ads_options, \"f\").audioSkip) === null || _b === void 0 ? void 0 : _b.remainingLabel.replace('[[secs]]', remainingTime.toString())) ||\n                                    '';\n                            __classPrivateFieldGet(this, _Ads_skipElement, \"f\").classList.add('disabled');\n                        }\n                    }\n                    else {\n                        __classPrivateFieldGet(this, _Ads_skipElement, \"f\").classList.add('hidden');\n                    }\n                }\n                break;\n            default:\n                break;\n        }\n        if (event.type === google.ima.AdEvent.Type.LOG) {\n            const adData = event.getAdData();\n            if (adData.adError) {\n                const message = adData.adError.getMessage();\n                console.warn(`Ad warning: Non-fatal error occurred: ${message}`);\n                const details = {\n                    detail: {\n                        data: adData.adError,\n                        message,\n                        type: 'Ads',\n                    },\n                };\n                const errorEvent = addEvent('playererror', details);\n                __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(errorEvent);\n            }\n        }\n        else {\n            const e = addEvent(`ads${event.type}`);\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n        }\n    }\n    _error(event) {\n        var _a;\n        const error = event.getError();\n        const details = {\n            detail: {\n                data: error,\n                message: error.toString(),\n                type: 'Ads',\n            },\n        };\n        const errorEvent = addEvent('playererror', details);\n        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(errorEvent);\n        const fatalErrorCodes = [\n            100, 101, 102, 300, 301, 302, 303, 400, 401, 402, 403, 405, 406, 407, 408, 409, 410, 500, 501, 502, 503,\n            900, 901, 1005,\n        ];\n        if (Array.isArray(__classPrivateFieldGet(this, _Ads_ads, \"f\")) && __classPrivateFieldGet(this, _Ads_ads, \"f\").length > 1 && __classPrivateFieldGet(this, _Ads_currentIndex, \"f\") < __classPrivateFieldGet(this, _Ads_ads, \"f\").length - 1) {\n            __classPrivateFieldSet(this, _Ads_currentIndex, (_a = __classPrivateFieldGet(this, _Ads_currentIndex, \"f\"), _a++, _a), \"f\");\n            this.destroy();\n            __classPrivateFieldSet(this, _Ads_started, true, \"f\");\n            __classPrivateFieldSet(this, _Ads_playTriggered, true, \"f\");\n            this.load(true);\n            console.warn(`Ad warning: ${error.toString()}`);\n        }\n        else {\n            if (fatalErrorCodes.indexOf(error.getErrorCode()) > -1) {\n                if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n                    __classPrivateFieldGet(this, _Ads_manager, \"f\").destroy();\n                }\n                console.error(`Ad error: ${error.toString()}`);\n            }\n            else {\n                console.warn(`Ad warning: ${error.toString()}`);\n            }\n            __classPrivateFieldSet(this, _Ads_adEvent, null, \"f\");\n            if (__classPrivateFieldGet(this, _Ads_autostart, \"f\") === true || __classPrivateFieldGet(this, _Ads_autostartMuted, \"f\") === true || __classPrivateFieldGet(this, _Ads_started, \"f\") === true) {\n                __classPrivateFieldSet(this, _Ads_active, false, \"f\");\n                this._resumeMedia();\n            }\n        }\n    }\n    _loaded(managerLoadedEvent) {\n        const adsRenderingSettings = new google.ima.AdsRenderingSettings();\n        adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete = false;\n        adsRenderingSettings.enablePreloading = __classPrivateFieldGet(this, _Ads_options, \"f\").enablePreloading;\n        __classPrivateFieldSet(this, _Ads_manager, managerLoadedEvent.getAdsManager(__classPrivateFieldGet(this, _Ads_element, \"f\"), adsRenderingSettings), \"f\");\n        this._start(__classPrivateFieldGet(this, _Ads_manager, \"f\"));\n        this.loadPromise = new Promise((resolve) => {\n            resolve();\n        });\n    }\n    _start(manager) {\n        if (__classPrivateFieldGet(this, _Ads_customClickContainer, \"f\") && manager.isCustomClickTrackingUsed()) {\n            __classPrivateFieldGet(this, _Ads_customClickContainer, \"f\").classList.add('op-ads__click-container--visible');\n        }\n        manager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, this._onContentPauseRequested, EVENT_OPTIONS);\n        manager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, this._onContentResumeRequested, EVENT_OPTIONS);\n        __classPrivateFieldSet(this, _Ads_events, [\n            google.ima.AdEvent.Type.ALL_ADS_COMPLETED,\n            google.ima.AdEvent.Type.CLICK,\n            google.ima.AdEvent.Type.VIDEO_CLICKED,\n            google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,\n            google.ima.AdEvent.Type.AD_PROGRESS,\n            google.ima.AdEvent.Type.AD_BUFFERING,\n            google.ima.AdEvent.Type.IMPRESSION,\n            google.ima.AdEvent.Type.DURATION_CHANGE,\n            google.ima.AdEvent.Type.USER_CLOSE,\n            google.ima.AdEvent.Type.LINEAR_CHANGED,\n            google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,\n            google.ima.AdEvent.Type.AD_METADATA,\n            google.ima.AdEvent.Type.INTERACTION,\n            google.ima.AdEvent.Type.COMPLETE,\n            google.ima.AdEvent.Type.FIRST_QUARTILE,\n            google.ima.AdEvent.Type.LOADED,\n            google.ima.AdEvent.Type.MIDPOINT,\n            google.ima.AdEvent.Type.PAUSED,\n            google.ima.AdEvent.Type.RESUMED,\n            google.ima.AdEvent.Type.USER_CLOSE,\n            google.ima.AdEvent.Type.STARTED,\n            google.ima.AdEvent.Type.THIRD_QUARTILE,\n            google.ima.AdEvent.Type.SKIPPED,\n            google.ima.AdEvent.Type.VOLUME_CHANGED,\n            google.ima.AdEvent.Type.VOLUME_MUTED,\n            google.ima.AdEvent.Type.LOG,\n        ], \"f\");\n        if (!__classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks) {\n            __classPrivateFieldGet(this, _Ads_events, \"f\").push(google.ima.AdEvent.Type.AD_BREAK_READY);\n        }\n        const controls = __classPrivateFieldGet(this, _Ads_player, \"f\").getControls();\n        const mouseEvents = controls ? controls.events.mouse : {};\n        Object.keys(mouseEvents).forEach((event) => {\n            if (__classPrivateFieldGet(this, _Ads_container, \"f\")) {\n                __classPrivateFieldGet(this, _Ads_container, \"f\").addEventListener(event, mouseEvents[event], EVENT_OPTIONS);\n            }\n        });\n        __classPrivateFieldGet(this, _Ads_events, \"f\").forEach((event) => {\n            manager.addEventListener(event, this._assign, EVENT_OPTIONS);\n        });\n        if (__classPrivateFieldGet(this, _Ads_autostart, \"f\") === true || __classPrivateFieldGet(this, _Ads_autostartMuted, \"f\") === true || __classPrivateFieldGet(this, _Ads_playTriggered, \"f\") === true) {\n            __classPrivateFieldSet(this, _Ads_playTriggered, false, \"f\");\n            if (!__classPrivateFieldGet(this, _Ads_done, \"f\")) {\n                this._initNotDoneAds();\n                return;\n            }\n            manager.init(__classPrivateFieldGet(this, _Ads_element, \"f\").offsetWidth, __classPrivateFieldGet(this, _Ads_element, \"f\").offsetHeight, __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement && __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.getAttribute('data-fullscreen') === 'true'\n                ? google.ima.ViewMode.FULLSCREEN\n                : google.ima.ViewMode.NORMAL);\n            manager.start();\n            const e = addEvent('play');\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n        }\n        else if (__classPrivateFieldGet(this, _Ads_options, \"f\").enablePreloading === true) {\n            manager.init(__classPrivateFieldGet(this, _Ads_element, \"f\").offsetWidth, __classPrivateFieldGet(this, _Ads_element, \"f\").offsetHeight, __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement && __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.getAttribute('data-fullscreen') === 'true'\n                ? google.ima.ViewMode.FULLSCREEN\n                : google.ima.ViewMode.NORMAL);\n        }\n    }\n    _initNotDoneAds() {\n        if (__classPrivateFieldGet(this, _Ads_displayContainer, \"f\")) {\n            __classPrivateFieldSet(this, _Ads_done, true, \"f\");\n            __classPrivateFieldGet(this, _Ads_displayContainer, \"f\").initialize();\n            if (IS_IOS || IS_ANDROID) {\n                __classPrivateFieldSet(this, _Ads_preloadContent, this._contentLoadedAction, \"f\");\n                __classPrivateFieldGet(this, _Ads_element, \"f\").addEventListener('loadedmetadata', this._contentLoadedAction, EVENT_OPTIONS);\n                __classPrivateFieldGet(this, _Ads_element, \"f\").load();\n            }\n            else {\n                this._contentLoadedAction();\n            }\n        }\n        else {\n            this.load();\n            this.loadedAd = false;\n        }\n    }\n    _contentEndedListener() {\n        __classPrivateFieldSet(this, _Ads_ended, true, \"f\");\n        __classPrivateFieldSet(this, _Ads_active, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_started, false, \"f\");\n        __classPrivateFieldGet(this, _Ads_loader, \"f\").contentComplete();\n    }\n    _onContentPauseRequested() {\n        __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('ended', this._contentEndedListener);\n        __classPrivateFieldSet(this, _Ads_lastTimePaused, __classPrivateFieldGet(this, _Ads_media, \"f\").currentTime, \"f\");\n        if (__classPrivateFieldGet(this, _Ads_started, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_media, \"f\").pause();\n        }\n        else {\n            __classPrivateFieldSet(this, _Ads_started, true, \"f\");\n        }\n        const e = addEvent('play');\n        __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n    }\n    _onContentResumeRequested() {\n        __classPrivateFieldGet(this, _Ads_element, \"f\").addEventListener('ended', this._contentEndedListener, EVENT_OPTIONS);\n        __classPrivateFieldGet(this, _Ads_element, \"f\").addEventListener('loadedmetadata', this._loadedMetadataHandler, EVENT_OPTIONS);\n        if (IS_IOS || IS_ANDROID) {\n            __classPrivateFieldGet(this, _Ads_media, \"f\").src = __classPrivateFieldGet(this, _Ads_mediaSources, \"f\");\n            __classPrivateFieldGet(this, _Ads_media, \"f\").load();\n            this._prepareMedia();\n            if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n                __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.classList.add('op-ads--active');\n            }\n        }\n        else {\n            const event = addEvent('loadedmetadata');\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(event);\n        }\n    }\n    _loadedMetadataHandler() {\n        var _a;\n        if (Array.isArray(__classPrivateFieldGet(this, _Ads_ads, \"f\"))) {\n            __classPrivateFieldSet(this, _Ads_currentIndex, (_a = __classPrivateFieldGet(this, _Ads_currentIndex, \"f\"), _a++, _a), \"f\");\n            if (__classPrivateFieldGet(this, _Ads_currentIndex, \"f\") <= __classPrivateFieldGet(this, _Ads_ads, \"f\").length - 1) {\n                if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n                    __classPrivateFieldGet(this, _Ads_manager, \"f\").destroy();\n                }\n                __classPrivateFieldGet(this, _Ads_loader, \"f\").contentComplete();\n                __classPrivateFieldSet(this, _Ads_playTriggered, true, \"f\");\n                __classPrivateFieldSet(this, _Ads_started, true, \"f\");\n                __classPrivateFieldSet(this, _Ads_done, false, \"f\");\n                this.load(true);\n            }\n            else {\n                if (!__classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks) {\n                    this._resetAdsAfterManualBreak();\n                }\n                this._prepareMedia();\n            }\n        }\n        else if (__classPrivateFieldGet(this, _Ads_element, \"f\").seekable.length) {\n            if (__classPrivateFieldGet(this, _Ads_element, \"f\").seekable.end(0) > __classPrivateFieldGet(this, _Ads_lastTimePaused, \"f\")) {\n                if (!__classPrivateFieldGet(this, _Ads_options, \"f\").autoPlayAdBreaks) {\n                    this._resetAdsAfterManualBreak();\n                }\n                this._prepareMedia();\n            }\n        }\n        else {\n            setTimeout(this._loadedMetadataHandler, 100);\n        }\n    }\n    _resumeMedia() {\n        __classPrivateFieldSet(this, _Ads_intervalTimer, 0, \"f\");\n        __classPrivateFieldSet(this, _Ads_muted, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_started, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_duration, 0, \"f\");\n        __classPrivateFieldSet(this, _Ads_currentTime, 0, \"f\");\n        if (__classPrivateFieldGet(this, _Ads_element, \"f\").parentElement) {\n            __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.classList.remove('op-ads--active');\n        }\n        if (__classPrivateFieldGet(this, _Ads_media, \"f\").ended) {\n            const e = addEvent('ended');\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n        }\n        else {\n            try {\n                __classPrivateFieldGet(this, _Ads_media, \"f\").play();\n                setTimeout(() => {\n                    const e = addEvent('play');\n                    __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n                }, 50);\n            }\n            catch (err) {\n                console.error(err);\n            }\n        }\n    }\n    _requestAds() {\n        __classPrivateFieldSet(this, _Ads_request, new google.ima.AdsRequest(), \"f\");\n        const ads = Array.isArray(__classPrivateFieldGet(this, _Ads_ads, \"f\")) ? __classPrivateFieldGet(this, _Ads_ads, \"f\")[__classPrivateFieldGet(this, _Ads_currentIndex, \"f\")] : __classPrivateFieldGet(this, _Ads_ads, \"f\");\n        if (isXml(ads)) {\n            __classPrivateFieldGet(this, _Ads_request, \"f\").adsResponse = ads;\n        }\n        else {\n            __classPrivateFieldGet(this, _Ads_request, \"f\").adTagUrl = ads;\n        }\n        const width = __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement ? __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.offsetWidth : 0;\n        const height = __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement ? __classPrivateFieldGet(this, _Ads_element, \"f\").parentElement.offsetHeight : 0;\n        __classPrivateFieldGet(this, _Ads_request, \"f\").linearAdSlotWidth = width;\n        __classPrivateFieldGet(this, _Ads_request, \"f\").linearAdSlotHeight = height;\n        __classPrivateFieldGet(this, _Ads_request, \"f\").nonLinearAdSlotWidth = width;\n        __classPrivateFieldGet(this, _Ads_request, \"f\").nonLinearAdSlotHeight = height / 3;\n        __classPrivateFieldGet(this, _Ads_request, \"f\").setAdWillAutoPlay(__classPrivateFieldGet(this, _Ads_autostart, \"f\"));\n        __classPrivateFieldGet(this, _Ads_request, \"f\").setAdWillPlayMuted(__classPrivateFieldGet(this, _Ads_autostartMuted, \"f\"));\n        __classPrivateFieldGet(this, _Ads_loader, \"f\").requestAds(__classPrivateFieldGet(this, _Ads_request, \"f\"));\n    }\n    _contentLoadedAction() {\n        if (__classPrivateFieldGet(this, _Ads_preloadContent, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('loadedmetadata', __classPrivateFieldGet(this, _Ads_preloadContent, \"f\"));\n            __classPrivateFieldSet(this, _Ads_preloadContent, null, \"f\");\n        }\n        this._requestAds();\n    }\n    _resetAdsAfterManualBreak() {\n        if (__classPrivateFieldGet(this, _Ads_manager, \"f\")) {\n            __classPrivateFieldGet(this, _Ads_manager, \"f\").destroy();\n        }\n        __classPrivateFieldGet(this, _Ads_loader, \"f\").contentComplete();\n        __classPrivateFieldSet(this, _Ads_done, false, \"f\");\n        __classPrivateFieldSet(this, _Ads_playTriggered, true, \"f\");\n    }\n    _prepareMedia() {\n        __classPrivateFieldGet(this, _Ads_media, \"f\").currentTime = __classPrivateFieldGet(this, _Ads_lastTimePaused, \"f\");\n        __classPrivateFieldGet(this, _Ads_element, \"f\").removeEventListener('loadedmetadata', this._loadedMetadataHandler);\n        this._resumeMedia();\n    }\n    _setMediaVolume(volume) {\n        __classPrivateFieldGet(this, _Ads_media, \"f\").volume = volume;\n        __classPrivateFieldGet(this, _Ads_media, \"f\").muted = volume === 0;\n    }\n    _handleClickInContainer() {\n        if (__classPrivateFieldGet(this, _Ads_media, \"f\").paused) {\n            const e = addEvent('paused');\n            __classPrivateFieldGet(this, _Ads_element, \"f\").dispatchEvent(e);\n            this.pause();\n        }\n    }\n    _handleResizeAds() {\n        this.resizeAds();\n    }\n    _handleSkipAds() {\n        __classPrivateFieldGet(this, _Ads_manager, \"f\").skip();\n    }\n}\n_Ads_ended = new WeakMap(), _Ads_done = new WeakMap(), _Ads_active = new WeakMap(), _Ads_started = new WeakMap(), _Ads_intervalTimer = new WeakMap(), _Ads_volume = new WeakMap(), _Ads_muted = new WeakMap(), _Ads_duration = new WeakMap(), _Ads_currentTime = new WeakMap(), _Ads_manager = new WeakMap(), _Ads_player = new WeakMap(), _Ads_media = new WeakMap(), _Ads_element = new WeakMap(), _Ads_events = new WeakMap(), _Ads_ads = new WeakMap(), _Ads_promise = new WeakMap(), _Ads_loader = new WeakMap(), _Ads_container = new WeakMap(), _Ads_customClickContainer = new WeakMap(), _Ads_skipElement = new WeakMap(), _Ads_displayContainer = new WeakMap(), _Ads_request = new WeakMap(), _Ads_autostart = new WeakMap(), _Ads_autostartMuted = new WeakMap(), _Ads_playTriggered = new WeakMap(), _Ads_options = new WeakMap(), _Ads_currentIndex = new WeakMap(), _Ads_originalVolume = new WeakMap(), _Ads_preloadContent = new WeakMap(), _Ads_lastTimePaused = new WeakMap(), _Ads_mediaSources = new WeakMap(), _Ads_mediaStarted = new WeakMap(), _Ads_adEvent = new WeakMap();\nexport default Ads;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Player_controls, _Player_adsInstance, _Player_uid, _Player_element, _Player_ads, _Player_media, _Player_events, _Player_autoplay, _Player_volume, _Player_canAutoplay, _Player_canAutoplayMuted, _Player_processedAutoplay, _Player_options, _Player_customElements, _Player_fullscreen, _Player_defaultOptions;\nimport Controls from './controls';\nimport Fullscreen from './controls/fullscreen';\nimport Media from './media';\nimport Ads from './media/ads';\nimport { EVENT_OPTIONS, IS_ANDROID, IS_IOS, IS_IPHONE } from './utils/constants';\nimport { addEvent, isAudio, isVideo, sanitize } from './utils/general';\nimport { isAutoplaySupported, predictMimeType } from './utils/media';\nclass Player {\n    constructor(element, options) {\n        var _a;\n        this.proxy = null;\n        _Player_controls.set(this, void 0);\n        _Player_adsInstance.set(this, void 0);\n        _Player_uid.set(this, '');\n        _Player_element.set(this, void 0);\n        _Player_ads.set(this, void 0);\n        _Player_media.set(this, void 0);\n        _Player_events.set(this, {});\n        _Player_autoplay.set(this, false);\n        _Player_volume.set(this, void 0);\n        _Player_canAutoplay.set(this, false);\n        _Player_canAutoplayMuted.set(this, false);\n        _Player_processedAutoplay.set(this, false);\n        _Player_options.set(this, void 0);\n        _Player_customElements.set(this, []);\n        _Player_fullscreen.set(this, void 0);\n        _Player_defaultOptions.set(this, {\n            controls: {\n                alwaysVisible: false,\n                layers: {\n                    left: ['play', 'time', 'volume'],\n                    middle: ['progress'],\n                    right: ['captions', 'settings', 'fullscreen'],\n                },\n            },\n            defaultLevel: undefined,\n            detachMenus: false,\n            forceNative: true,\n            height: 0,\n            hidePlayBtnTimer: 350,\n            labels: {\n                auto: 'Auto',\n                captions: 'CC/Subtitles',\n                click: 'Click to unmute',\n                fullscreen: 'Fullscreen',\n                lang: {\n                    en: 'English',\n                },\n                levels: 'Quality Levels',\n                live: 'Live Broadcast',\n                mediaLevels: 'Change Quality',\n                mute: 'Mute',\n                off: 'Off',\n                pause: 'Pause',\n                play: 'Play',\n                progressRail: 'Time Rail',\n                progressSlider: 'Time Slider',\n                settings: 'Player Settings',\n                speed: 'Speed',\n                speedNormal: 'Normal',\n                tap: 'Tap to unmute',\n                toggleCaptions: 'Toggle Captions',\n                unmute: 'Unmute',\n                volume: 'Volume',\n                volumeControl: 'Volume Control',\n                volumeSlider: 'Volume Slider',\n            },\n            live: {\n                showLabel: true,\n                showProgress: false,\n            },\n            media: {\n                pauseOnClick: false,\n            },\n            mode: 'responsive',\n            onError: (e) => console.error(e),\n            pauseOthers: true,\n            progress: {\n                allowRewind: true,\n                allowSkip: true,\n                duration: 0,\n                showCurrentTimeOnly: false,\n            },\n            showLoaderOnInit: false,\n            startTime: 0,\n            startVolume: 1,\n            step: 0,\n            useDeviceVolume: true,\n            width: 0,\n        });\n        __classPrivateFieldSet(this, _Player_element, element instanceof HTMLMediaElement ? element : document.getElementById(element), \"f\");\n        if (__classPrivateFieldGet(this, _Player_element, \"f\")) {\n            __classPrivateFieldSet(this, _Player_autoplay, __classPrivateFieldGet(this, _Player_element, \"f\").autoplay || false, \"f\");\n            if (typeof options !== 'string' && !Array.isArray(options)) {\n                this._mergeOptions(options);\n            }\n            __classPrivateFieldGet(this, _Player_element, \"f\").volume = __classPrivateFieldGet(this, _Player_options, \"f\").startVolume || 1;\n            if (__classPrivateFieldGet(this, _Player_options, \"f\").ads && __classPrivateFieldGet(this, _Player_options, \"f\").ads.src) {\n                __classPrivateFieldSet(this, _Player_ads, __classPrivateFieldGet(this, _Player_options, \"f\").ads.src, \"f\");\n            }\n            if ((((_a = __classPrivateFieldGet(this, _Player_options, \"f\")) === null || _a === void 0 ? void 0 : _a.startTime) || 0) > 0) {\n                __classPrivateFieldGet(this, _Player_element, \"f\").currentTime = __classPrivateFieldGet(this, _Player_options, \"f\").startTime || 0;\n            }\n            __classPrivateFieldSet(this, _Player_volume, __classPrivateFieldGet(this, _Player_element, \"f\").volume, \"f\");\n        }\n        this._autoplay = this._autoplay.bind(this);\n        this._enableKeyBindings = this._enableKeyBindings.bind(this);\n    }\n    static init() {\n        Player.instances = {};\n        const targets = document.querySelectorAll('video.op-player, audio.op-player');\n        for (let i = 0, total = targets.length; i < total; i++) {\n            const target = targets[i];\n            const settings = target.getAttribute('data-op-settings');\n            const options = settings ? JSON.parse(settings) : {};\n            const player = new Player(target, options);\n            player.init();\n        }\n    }\n    static addMedia(name, mimeType, valid, media) {\n        Player.customMedia.media[mimeType] = media;\n        Player.customMedia.optionsKey[mimeType] = name;\n        Player.customMedia.rules.push(valid);\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._isValid()) {\n                this._wrapInstance();\n                yield this._prepareMedia();\n                this._createPlayButton();\n                this._createUID();\n                this._createControls();\n                this._setEvents();\n                Player.instances[this.id] = this;\n            }\n        });\n    }\n    load() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!__classPrivateFieldGet(this, _Player_media, \"f\")) {\n                yield this._prepareMedia();\n                return __classPrivateFieldGet(this, _Player_media, \"f\").load();\n            }\n            __classPrivateFieldGet(this, _Player_media, \"f\").loaded = false;\n            return this.isMedia() ? __classPrivateFieldGet(this, _Player_media, \"f\").load() : undefined;\n        });\n    }\n    play() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!__classPrivateFieldGet(this, _Player_media, \"f\").loaded) {\n                yield __classPrivateFieldGet(this, _Player_media, \"f\").load();\n                __classPrivateFieldGet(this, _Player_media, \"f\").loaded = true;\n            }\n            if (__classPrivateFieldGet(this, _Player_adsInstance, \"f\")) {\n                __classPrivateFieldGet(this, _Player_adsInstance, \"f\").playRequested = true;\n                yield __classPrivateFieldGet(this, _Player_adsInstance, \"f\").loadPromise;\n                return __classPrivateFieldGet(this, _Player_adsInstance, \"f\").play();\n            }\n            return __classPrivateFieldGet(this, _Player_media, \"f\").play();\n        });\n    }\n    pause() {\n        if (__classPrivateFieldGet(this, _Player_adsInstance, \"f\")) {\n            __classPrivateFieldGet(this, _Player_adsInstance, \"f\").pause();\n        }\n        else {\n            __classPrivateFieldGet(this, _Player_media, \"f\").pause();\n        }\n    }\n    stop() {\n        this.pause();\n        if (__classPrivateFieldGet(this, _Player_media, \"f\")) {\n            __classPrivateFieldGet(this, _Player_media, \"f\").currentTime = 0;\n            this.src = [{ src: '', type: 'video/mp4' }];\n        }\n    }\n    destroy() {\n        var _a;\n        if (__classPrivateFieldGet(this, _Player_adsInstance, \"f\")) {\n            __classPrivateFieldGet(this, _Player_adsInstance, \"f\").pause();\n            __classPrivateFieldGet(this, _Player_adsInstance, \"f\").destroy();\n        }\n        if (__classPrivateFieldGet(this, _Player_fullscreen, \"f\")) {\n            __classPrivateFieldGet(this, _Player_fullscreen, \"f\").destroy();\n        }\n        const el = __classPrivateFieldGet(this, _Player_element, \"f\");\n        if (__classPrivateFieldGet(this, _Player_media, \"f\")) {\n            __classPrivateFieldGet(this, _Player_media, \"f\").destroy();\n        }\n        Object.keys(__classPrivateFieldGet(this, _Player_events, \"f\")).forEach((event) => {\n            el.removeEventListener(event, __classPrivateFieldGet(this, _Player_events, \"f\")[event]);\n        });\n        this.getContainer().removeEventListener('keydown', this._enableKeyBindings);\n        if (__classPrivateFieldGet(this, _Player_autoplay, \"f\") && !__classPrivateFieldGet(this, _Player_processedAutoplay, \"f\") && isVideo(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n            el.removeEventListener('canplay', this._autoplay);\n        }\n        if (__classPrivateFieldGet(this, _Player_controls, \"f\")) {\n            __classPrivateFieldGet(this, _Player_controls, \"f\").destroy();\n        }\n        if (isVideo(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n            if (this.playBtn) {\n                this.playBtn.remove();\n            }\n            if (this.loader) {\n                this.loader.remove();\n            }\n        }\n        if ((_a = __classPrivateFieldGet(this, _Player_options, \"f\")) === null || _a === void 0 ? void 0 : _a.onError) {\n            __classPrivateFieldGet(this, _Player_element, \"f\").removeEventListener('playererror', __classPrivateFieldGet(this, _Player_options, \"f\").onError);\n        }\n        el.controls = true;\n        el.setAttribute('id', __classPrivateFieldGet(this, _Player_uid, \"f\"));\n        el.removeAttribute('op-live__enabled');\n        el.removeAttribute('op-dvr__enabled');\n        const parent = __classPrivateFieldGet(this, _Player_options, \"f\").mode === 'fit' && !isAudio(el) ? el.closest('.op-player__fit--wrapper') : el.parentElement;\n        if (parent && parent.parentNode) {\n            parent.parentNode.replaceChild(el, parent);\n        }\n        delete Player.instances[__classPrivateFieldGet(this, _Player_uid, \"f\")];\n        const e = addEvent('playerdestroyed');\n        el.dispatchEvent(e);\n    }\n    getContainer() {\n        return __classPrivateFieldGet(this, _Player_element, \"f\").parentElement || __classPrivateFieldGet(this, _Player_element, \"f\");\n    }\n    getControls() {\n        return __classPrivateFieldGet(this, _Player_controls, \"f\");\n    }\n    getCustomControls() {\n        return __classPrivateFieldGet(this, _Player_customElements, \"f\");\n    }\n    getElement() {\n        return __classPrivateFieldGet(this, _Player_element, \"f\");\n    }\n    getEvents() {\n        return __classPrivateFieldGet(this, _Player_events, \"f\");\n    }\n    getOptions() {\n        return __classPrivateFieldGet(this, _Player_options, \"f\");\n    }\n    activeElement() {\n        return __classPrivateFieldGet(this, _Player_adsInstance, \"f\") && __classPrivateFieldGet(this, _Player_adsInstance, \"f\").started() ? __classPrivateFieldGet(this, _Player_adsInstance, \"f\") : __classPrivateFieldGet(this, _Player_media, \"f\");\n    }\n    isMedia() {\n        return this.activeElement() instanceof Media;\n    }\n    isAd() {\n        return this.activeElement() instanceof Ads;\n    }\n    getMedia() {\n        return __classPrivateFieldGet(this, _Player_media, \"f\");\n    }\n    getAd() {\n        return __classPrivateFieldGet(this, _Player_adsInstance, \"f\");\n    }\n    addCaptions(args) {\n        if (args.default) {\n            const tracks = __classPrivateFieldGet(this, _Player_element, \"f\").querySelectorAll('track');\n            for (let i = 0, total = tracks.length; i < total; i++) {\n                tracks[i].default = false;\n            }\n        }\n        const el = __classPrivateFieldGet(this, _Player_element, \"f\");\n        let track = el.querySelector(`track[srclang=\"${args.srclang}\"][kind=\"${args.kind}\"]`);\n        if (track) {\n            track.src = args.src;\n            track.label = args.label;\n            track.default = args.default || false;\n        }\n        else {\n            track = document.createElement('track');\n            track.srclang = args.srclang;\n            track.src = args.src;\n            track.kind = args.kind;\n            track.label = args.label;\n            track.default = args.default || false;\n            el.appendChild(track);\n        }\n        const e = addEvent('controlschanged');\n        el.dispatchEvent(e);\n    }\n    addControl(args) {\n        args.custom = true;\n        args.type = 'button';\n        __classPrivateFieldGet(this, _Player_customElements, \"f\").push(args);\n        const e = addEvent('controlschanged');\n        __classPrivateFieldGet(this, _Player_element, \"f\").dispatchEvent(e);\n    }\n    addElement(args) {\n        args.custom = true;\n        __classPrivateFieldGet(this, _Player_customElements, \"f\").push(args);\n        const e = addEvent('controlschanged');\n        __classPrivateFieldGet(this, _Player_element, \"f\").dispatchEvent(e);\n    }\n    removeControl(controlName) {\n        __classPrivateFieldGet(this, _Player_customElements, \"f\").forEach((item, idx) => {\n            if (item.id === controlName) {\n                __classPrivateFieldGet(this, _Player_customElements, \"f\").splice(idx, 1);\n            }\n        });\n        const e = addEvent('controlschanged');\n        __classPrivateFieldGet(this, _Player_element, \"f\").dispatchEvent(e);\n    }\n    _prepareMedia() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if ((_a = __classPrivateFieldGet(this, _Player_options, \"f\")) === null || _a === void 0 ? void 0 : _a.onError) {\n                    __classPrivateFieldGet(this, _Player_element, \"f\").addEventListener('playererror', __classPrivateFieldGet(this, _Player_options, \"f\").onError, EVENT_OPTIONS);\n                }\n                if (__classPrivateFieldGet(this, _Player_autoplay, \"f\") && isVideo(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n                    __classPrivateFieldGet(this, _Player_element, \"f\").addEventListener('canplay', this._autoplay, EVENT_OPTIONS);\n                }\n                __classPrivateFieldSet(this, _Player_media, new Media(__classPrivateFieldGet(this, _Player_element, \"f\"), __classPrivateFieldGet(this, _Player_options, \"f\"), __classPrivateFieldGet(this, _Player_autoplay, \"f\"), Player.customMedia), \"f\");\n                const preload = __classPrivateFieldGet(this, _Player_element, \"f\").getAttribute('preload');\n                if (__classPrivateFieldGet(this, _Player_ads, \"f\") || !preload || preload !== 'none') {\n                    yield __classPrivateFieldGet(this, _Player_media, \"f\").load();\n                    __classPrivateFieldGet(this, _Player_media, \"f\").loaded = true;\n                }\n                if (!__classPrivateFieldGet(this, _Player_autoplay, \"f\") && __classPrivateFieldGet(this, _Player_ads, \"f\")) {\n                    const adsOptions = __classPrivateFieldGet(this, _Player_options, \"f\") && __classPrivateFieldGet(this, _Player_options, \"f\").ads ? __classPrivateFieldGet(this, _Player_options, \"f\").ads : undefined;\n                    __classPrivateFieldSet(this, _Player_adsInstance, new Ads(this, __classPrivateFieldGet(this, _Player_ads, \"f\"), false, false, adsOptions), \"f\");\n                }\n            }\n            catch (e) {\n                console.error(e);\n            }\n        });\n    }\n    enableDefaultPlayer() {\n        let paused = true;\n        let currentTime = 0;\n        if (this.proxy && !this.proxy.paused) {\n            paused = false;\n            currentTime = this.proxy.currentTime;\n            this.proxy.pause();\n        }\n        this.proxy = this;\n        this.getElement().addEventListener('loadedmetadata', () => {\n            this.getMedia().currentTime = currentTime;\n            if (!paused) {\n                this.play();\n            }\n        });\n    }\n    loadAd(src) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (this.isAd()) {\n                    this.getAd().destroy();\n                    this.getAd().src = src;\n                    this.getAd().loadedAd = false;\n                    this.getAd().load();\n                }\n                else {\n                    const adsOptions = __classPrivateFieldGet(this, _Player_options, \"f\") && __classPrivateFieldGet(this, _Player_options, \"f\").ads ? __classPrivateFieldGet(this, _Player_options, \"f\").ads : undefined;\n                    const autoplay = !this.activeElement().paused || __classPrivateFieldGet(this, _Player_canAutoplay, \"f\");\n                    __classPrivateFieldSet(this, _Player_adsInstance, new Ads(this, src, autoplay, __classPrivateFieldGet(this, _Player_canAutoplayMuted, \"f\"), adsOptions), \"f\");\n                }\n            }\n            catch (err) {\n                console.error(err);\n            }\n        });\n    }\n    set src(media) {\n        if (__classPrivateFieldGet(this, _Player_media, \"f\") instanceof Media) {\n            __classPrivateFieldGet(this, _Player_media, \"f\").mediaFiles = [];\n            __classPrivateFieldGet(this, _Player_media, \"f\").src = media;\n        }\n        else if (typeof media === 'string') {\n            __classPrivateFieldGet(this, _Player_element, \"f\").src = media;\n        }\n        else if (Array.isArray(media)) {\n            media.forEach((m) => {\n                const source = document.createElement('source');\n                source.src = m.src;\n                source.type = m.type || predictMimeType(m.src, __classPrivateFieldGet(this, _Player_element, \"f\"));\n                __classPrivateFieldGet(this, _Player_element, \"f\").appendChild(source);\n            });\n        }\n        else if (typeof media === 'object') {\n            __classPrivateFieldGet(this, _Player_element, \"f\").src = media.src;\n        }\n    }\n    get src() {\n        return __classPrivateFieldGet(this, _Player_media, \"f\").src;\n    }\n    get id() {\n        return __classPrivateFieldGet(this, _Player_uid, \"f\");\n    }\n    _isValid() {\n        const el = __classPrivateFieldGet(this, _Player_element, \"f\");\n        if (el instanceof HTMLElement === false) {\n            return false;\n        }\n        if (!isAudio(el) && !isVideo(el)) {\n            return false;\n        }\n        if (!el.classList.contains('op-player__media')) {\n            return false;\n        }\n        return true;\n    }\n    _wrapInstance() {\n        const wrapper = document.createElement('div');\n        wrapper.className = 'op-player op-player__keyboard--inactive';\n        wrapper.className += isAudio(__classPrivateFieldGet(this, _Player_element, \"f\")) ? ' op-player__audio' : ' op-player__video';\n        wrapper.tabIndex = 0;\n        __classPrivateFieldGet(this, _Player_element, \"f\").classList.remove('op-player');\n        if (__classPrivateFieldGet(this, _Player_element, \"f\").parentElement) {\n            __classPrivateFieldGet(this, _Player_element, \"f\").parentElement.insertBefore(wrapper, __classPrivateFieldGet(this, _Player_element, \"f\"));\n        }\n        wrapper.appendChild(__classPrivateFieldGet(this, _Player_element, \"f\"));\n        const messageContainer = document.createElement('div');\n        messageContainer.className = 'op-status';\n        messageContainer.innerHTML = '<span></span>';\n        messageContainer.tabIndex = -1;\n        messageContainer.setAttribute('aria-hidden', 'true');\n        if (isVideo(__classPrivateFieldGet(this, _Player_element, \"f\")) && __classPrivateFieldGet(this, _Player_element, \"f\").parentElement) {\n            __classPrivateFieldGet(this, _Player_element, \"f\").parentElement.insertBefore(messageContainer, __classPrivateFieldGet(this, _Player_element, \"f\"));\n        }\n        wrapper.addEventListener('keydown', () => {\n            if (wrapper.classList.contains('op-player__keyboard--inactive')) {\n                wrapper.classList.remove('op-player__keyboard--inactive');\n            }\n        }, EVENT_OPTIONS);\n        wrapper.addEventListener('click', () => {\n            if (!wrapper.classList.contains('op-player__keyboard--inactive')) {\n                wrapper.classList.add('op-player__keyboard--inactive');\n            }\n        }, EVENT_OPTIONS);\n        if (__classPrivateFieldGet(this, _Player_options, \"f\").mode === 'fill' && !isAudio(__classPrivateFieldGet(this, _Player_element, \"f\")) && !IS_IPHONE) {\n            this.getContainer().classList.add('op-player__full');\n        }\n        else if (__classPrivateFieldGet(this, _Player_options, \"f\").mode === 'fit' && !isAudio(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n            const container = this.getContainer();\n            if (container.parentElement) {\n                const fitWrapper = document.createElement('div');\n                fitWrapper.className = 'op-player__fit--wrapper';\n                fitWrapper.tabIndex = 0;\n                container.parentElement.insertBefore(fitWrapper, container);\n                fitWrapper.appendChild(container);\n                container.classList.add('op-player__fit');\n            }\n        }\n        else {\n            let style = '';\n            if (__classPrivateFieldGet(this, _Player_options, \"f\").width) {\n                const width = typeof __classPrivateFieldGet(this, _Player_options, \"f\").width === 'number' ? `${__classPrivateFieldGet(this, _Player_options, \"f\").width}px` : __classPrivateFieldGet(this, _Player_options, \"f\").width;\n                style += `width: ${width} !important;`;\n            }\n            if (__classPrivateFieldGet(this, _Player_options, \"f\").height) {\n                const height = typeof __classPrivateFieldGet(this, _Player_options, \"f\").height === 'number' ? `${__classPrivateFieldGet(this, _Player_options, \"f\").height}px` : __classPrivateFieldGet(this, _Player_options, \"f\").height;\n                style += `height: ${height} !important;`;\n            }\n            if (style) {\n                wrapper.setAttribute('style', style);\n            }\n        }\n    }\n    _createControls() {\n        if (IS_IPHONE && isVideo(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n            this.getContainer().classList.add('op-player__ios--iphone');\n        }\n        __classPrivateFieldSet(this, _Player_controls, new Controls(this), \"f\");\n        __classPrivateFieldGet(this, _Player_controls, \"f\").create();\n    }\n    _createUID() {\n        if (__classPrivateFieldGet(this, _Player_element, \"f\").id) {\n            __classPrivateFieldSet(this, _Player_uid, __classPrivateFieldGet(this, _Player_element, \"f\").id, \"f\");\n            __classPrivateFieldGet(this, _Player_element, \"f\").removeAttribute('id');\n        }\n        else {\n            const cryptoLib = crypto;\n            const encryption = typeof cryptoLib.getRandomBytes === 'function' ? cryptoLib.getRandomBytes : cryptoLib.getRandomValues;\n            __classPrivateFieldSet(this, _Player_uid, `op_${encryption(new Uint32Array(1))[0].toString(36).substr(2, 9)}`, \"f\");\n        }\n        if (__classPrivateFieldGet(this, _Player_element, \"f\").parentElement) {\n            __classPrivateFieldGet(this, _Player_element, \"f\").parentElement.id = __classPrivateFieldGet(this, _Player_uid, \"f\");\n        }\n    }\n    _createPlayButton() {\n        var _a, _b;\n        if (isAudio(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n            return;\n        }\n        this.playBtn = document.createElement('button');\n        this.playBtn.className = 'op-player__play';\n        this.playBtn.tabIndex = 0;\n        this.playBtn.title = ((_a = __classPrivateFieldGet(this, _Player_options, \"f\").labels) === null || _a === void 0 ? void 0 : _a.play) || '';\n        this.playBtn.innerHTML = `<span>${((_b = __classPrivateFieldGet(this, _Player_options, \"f\").labels) === null || _b === void 0 ? void 0 : _b.play) || ''}</span>`;\n        this.playBtn.setAttribute('aria-pressed', 'false');\n        this.playBtn.setAttribute('aria-hidden', 'false');\n        this.loader = document.createElement('span');\n        this.loader.className = 'op-player__loader';\n        this.loader.tabIndex = -1;\n        this.loader.setAttribute('aria-hidden', 'true');\n        if (__classPrivateFieldGet(this, _Player_element, \"f\").parentElement) {\n            __classPrivateFieldGet(this, _Player_element, \"f\").parentElement.insertBefore(this.loader, __classPrivateFieldGet(this, _Player_element, \"f\"));\n            __classPrivateFieldGet(this, _Player_element, \"f\").parentElement.insertBefore(this.playBtn, __classPrivateFieldGet(this, _Player_element, \"f\"));\n        }\n        this.playBtn.addEventListener('click', () => {\n            if (__classPrivateFieldGet(this, _Player_adsInstance, \"f\")) {\n                __classPrivateFieldGet(this, _Player_adsInstance, \"f\").playRequested = this.activeElement().paused;\n            }\n            if (this.activeElement().paused) {\n                this.activeElement().play();\n            }\n            else {\n                this.activeElement().pause();\n            }\n        }, EVENT_OPTIONS);\n    }\n    _setEvents() {\n        if (isVideo(__classPrivateFieldGet(this, _Player_element, \"f\"))) {\n            __classPrivateFieldGet(this, _Player_events, \"f\").loadedmetadata = () => {\n                const el = this.activeElement();\n                if (__classPrivateFieldGet(this, _Player_options, \"f\").showLoaderOnInit && !IS_IOS && !IS_ANDROID) {\n                    this.loader.setAttribute('aria-hidden', 'false');\n                    this.playBtn.setAttribute('aria-hidden', 'true');\n                }\n                else {\n                    this.loader.setAttribute('aria-hidden', 'true');\n                    this.playBtn.setAttribute('aria-hidden', 'false');\n                }\n                if (el.paused) {\n                    this.playBtn.classList.remove('op-player__play--paused');\n                    this.playBtn.setAttribute('aria-pressed', 'false');\n                }\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").waiting = () => {\n                this.playBtn.setAttribute('aria-hidden', 'true');\n                this.loader.setAttribute('aria-hidden', 'false');\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").seeking = () => {\n                const el = this.activeElement();\n                this.playBtn.setAttribute('aria-hidden', 'true');\n                this.loader.setAttribute('aria-hidden', el instanceof Media ? 'false' : 'true');\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").seeked = () => {\n                const el = this.activeElement();\n                if (Math.round(el.currentTime) === 0) {\n                    this.playBtn.setAttribute('aria-hidden', 'true');\n                    this.loader.setAttribute('aria-hidden', 'false');\n                }\n                else {\n                    this.playBtn.setAttribute('aria-hidden', el instanceof Media ? 'false' : 'true');\n                    this.loader.setAttribute('aria-hidden', 'true');\n                }\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").play = () => {\n                var _a;\n                this.playBtn.classList.add('op-player__play--paused');\n                this.playBtn.title = ((_a = __classPrivateFieldGet(this, _Player_options, \"f\").labels) === null || _a === void 0 ? void 0 : _a.pause) || '';\n                this.loader.setAttribute('aria-hidden', 'true');\n                if (__classPrivateFieldGet(this, _Player_options, \"f\").showLoaderOnInit) {\n                    this.playBtn.setAttribute('aria-hidden', 'true');\n                }\n                else {\n                    setTimeout(() => {\n                        this.playBtn.setAttribute('aria-hidden', 'true');\n                    }, __classPrivateFieldGet(this, _Player_options, \"f\").hidePlayBtnTimer);\n                }\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").playing = () => {\n                this.loader.setAttribute('aria-hidden', 'true');\n                this.playBtn.setAttribute('aria-hidden', 'true');\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").pause = () => {\n                var _a;\n                const el = this.activeElement();\n                this.playBtn.classList.remove('op-player__play--paused');\n                this.playBtn.title = ((_a = __classPrivateFieldGet(this, _Player_options, \"f\").labels) === null || _a === void 0 ? void 0 : _a.play) || '';\n                if (__classPrivateFieldGet(this, _Player_options, \"f\").showLoaderOnInit && Math.round(el.currentTime) === 0) {\n                    this.playBtn.setAttribute('aria-hidden', 'true');\n                    this.loader.setAttribute('aria-hidden', 'false');\n                }\n                else {\n                    this.playBtn.setAttribute('aria-hidden', 'false');\n                    this.loader.setAttribute('aria-hidden', 'true');\n                }\n            };\n            __classPrivateFieldGet(this, _Player_events, \"f\").ended = () => {\n                this.loader.setAttribute('aria-hidden', 'true');\n                this.playBtn.setAttribute('aria-hidden', 'true');\n            };\n            let postRollCalled = false;\n            __classPrivateFieldGet(this, _Player_events, \"f\").timeupdate = () => {\n                if (__classPrivateFieldGet(this, _Player_element, \"f\").loop && this.isMedia() && __classPrivateFieldGet(this, _Player_adsInstance, \"f\")) {\n                    const el = this.getMedia();\n                    const remainingTime = el.duration - el.currentTime;\n                    if (remainingTime > 0 && remainingTime <= 0.25 && !postRollCalled) {\n                        postRollCalled = true;\n                        const e = addEvent('ended');\n                        __classPrivateFieldGet(this, _Player_element, \"f\").dispatchEvent(e);\n                    }\n                    else if (remainingTime === 0) {\n                        postRollCalled = false;\n                    }\n                }\n            };\n        }\n        Object.keys(__classPrivateFieldGet(this, _Player_events, \"f\")).forEach((event) => {\n            __classPrivateFieldGet(this, _Player_element, \"f\").addEventListener(event, __classPrivateFieldGet(this, _Player_events, \"f\")[event], EVENT_OPTIONS);\n        });\n        this.getContainer().addEventListener('keydown', this._enableKeyBindings, EVENT_OPTIONS);\n    }\n    _autoplay() {\n        if (!__classPrivateFieldGet(this, _Player_processedAutoplay, \"f\")) {\n            __classPrivateFieldSet(this, _Player_processedAutoplay, true, \"f\");\n            __classPrivateFieldGet(this, _Player_element, \"f\").removeEventListener('canplay', this._autoplay);\n            isAutoplaySupported(__classPrivateFieldGet(this, _Player_element, \"f\"), __classPrivateFieldGet(this, _Player_volume, \"f\"), (autoplay) => {\n                __classPrivateFieldSet(this, _Player_canAutoplay, autoplay, \"f\");\n            }, (muted) => {\n                __classPrivateFieldSet(this, _Player_canAutoplayMuted, muted, \"f\");\n            }, () => {\n                var _a, _b;\n                if (__classPrivateFieldGet(this, _Player_canAutoplayMuted, \"f\")) {\n                    this.activeElement().muted = true;\n                    this.activeElement().volume = 0;\n                    const e = addEvent('volumechange');\n                    __classPrivateFieldGet(this, _Player_element, \"f\").dispatchEvent(e);\n                    const volumeEl = document.createElement('div');\n                    const action = IS_IOS || IS_ANDROID ? (_a = __classPrivateFieldGet(this, _Player_options, \"f\").labels) === null || _a === void 0 ? void 0 : _a.tap : (_b = __classPrivateFieldGet(this, _Player_options, \"f\").labels) === null || _b === void 0 ? void 0 : _b.click;\n                    volumeEl.className = 'op-player__unmute';\n                    volumeEl.innerHTML = `<span>${action}</span>`;\n                    volumeEl.tabIndex = 0;\n                    volumeEl.addEventListener('click', () => {\n                        this.activeElement().muted = false;\n                        this.activeElement().volume = __classPrivateFieldGet(this, _Player_volume, \"f\");\n                        const event = addEvent('volumechange');\n                        __classPrivateFieldGet(this, _Player_element, \"f\").dispatchEvent(event);\n                        volumeEl.remove();\n                    }, EVENT_OPTIONS);\n                    const target = this.getContainer();\n                    target.insertBefore(volumeEl, target.firstChild);\n                }\n                else {\n                    this.activeElement().muted = __classPrivateFieldGet(this, _Player_element, \"f\").muted;\n                    this.activeElement().volume = __classPrivateFieldGet(this, _Player_volume, \"f\");\n                }\n                if (__classPrivateFieldGet(this, _Player_ads, \"f\")) {\n                    const adsOptions = __classPrivateFieldGet(this, _Player_options, \"f\") && __classPrivateFieldGet(this, _Player_options, \"f\").ads ? __classPrivateFieldGet(this, _Player_options, \"f\").ads : undefined;\n                    __classPrivateFieldSet(this, _Player_adsInstance, new Ads(this, __classPrivateFieldGet(this, _Player_ads, \"f\"), __classPrivateFieldGet(this, _Player_canAutoplay, \"f\"), __classPrivateFieldGet(this, _Player_canAutoplayMuted, \"f\"), adsOptions), \"f\");\n                }\n                else if (__classPrivateFieldGet(this, _Player_canAutoplay, \"f\") || __classPrivateFieldGet(this, _Player_canAutoplayMuted, \"f\")) {\n                    this.play();\n                }\n            });\n        }\n    }\n    _mergeOptions(playerOptions) {\n        const opts = Object.assign({}, (playerOptions || {}));\n        __classPrivateFieldSet(this, _Player_options, Object.assign(Object.assign({}, __classPrivateFieldGet(this, _Player_defaultOptions, \"f\")), opts), \"f\");\n        const complexOptions = Object.keys(__classPrivateFieldGet(this, _Player_defaultOptions, \"f\")).filter((key) => key !== 'labels' && typeof __classPrivateFieldGet(this, _Player_defaultOptions, \"f\")[key] === 'object');\n        complexOptions.forEach((key) => {\n            const currOption = opts[key] || {};\n            if (currOption && Object.keys(currOption).length) {\n                __classPrivateFieldGet(this, _Player_options, \"f\")[key] = Object.assign(Object.assign({}, __classPrivateFieldGet(this, _Player_defaultOptions, \"f\")[key]), currOption);\n            }\n        });\n        if (opts.labels) {\n            const keys = opts.labels ? Object.keys(opts.labels) : [];\n            let sanitizedLabels = {};\n            keys.forEach((key) => {\n                const current = opts.labels ? opts.labels[key] : null;\n                if (current && typeof current === 'object' && key === 'lang') {\n                    Object.keys(current).forEach((k) => {\n                        const lang = current ? current[k] : null;\n                        if (lang) {\n                            sanitizedLabels = Object.assign(Object.assign({}, sanitizedLabels), { lang: Object.assign(Object.assign({}, sanitizedLabels.lang), { [k]: sanitize(lang) }) });\n                        }\n                    });\n                }\n                else if (current) {\n                    sanitizedLabels = Object.assign(Object.assign({}, sanitizedLabels), { [key]: sanitize(current) });\n                }\n            });\n            __classPrivateFieldGet(this, _Player_options, \"f\").labels = Object.assign(Object.assign({}, __classPrivateFieldGet(this, _Player_defaultOptions, \"f\").labels), sanitizedLabels);\n        }\n    }\n    _enableKeyBindings(e) {\n        var _a, _b;\n        const key = e.which || e.keyCode || 0;\n        const el = this.activeElement();\n        const isAd = this.isAd();\n        const playerFocused = (_a = document === null || document === void 0 ? void 0 : document.activeElement) === null || _a === void 0 ? void 0 : _a.classList.contains('op-player');\n        switch (key) {\n            case 13:\n            case 32:\n            case 75:\n                if (playerFocused && (key === 13 || key === 32)) {\n                    if (el.paused) {\n                        el.play();\n                    }\n                    else {\n                        el.pause();\n                    }\n                }\n                else if (key === 75) {\n                    if (el.paused) {\n                        el.play();\n                    }\n                    else {\n                        el.pause();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n            case 35:\n                if (!isAd && el.duration !== Infinity) {\n                    el.currentTime = el.duration;\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 36:\n                if (!isAd) {\n                    el.currentTime = 0;\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 37:\n            case 39:\n            case 74:\n            case 76:\n                if (!isAd && el.duration !== Infinity) {\n                    let newStep = 5;\n                    const configStep = this.getOptions().step;\n                    if (configStep) {\n                        newStep = key === 74 || key === 76 ? configStep * 2 : configStep;\n                    }\n                    else if (key === 74 || key === 76) {\n                        newStep = 10;\n                    }\n                    const step = el.duration !== Infinity ? newStep : ((_b = this.getOptions().progress) === null || _b === void 0 ? void 0 : _b.duration) || 0;\n                    el.currentTime += key === 37 || key === 74 ? step * -1 : step;\n                    if (el.currentTime < 0) {\n                        el.currentTime = 0;\n                    }\n                    else if (el.currentTime >= el.duration) {\n                        el.currentTime = el.duration;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 38:\n            case 40:\n                const newVol = key === 38 ? Math.min(el.volume + 0.1, 1) : Math.max(el.volume - 0.1, 0);\n                el.volume = newVol;\n                el.muted = !(newVol > 0);\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n            case 70:\n                if (isVideo(__classPrivateFieldGet(this, _Player_element, \"f\")) && !e.ctrlKey) {\n                    __classPrivateFieldSet(this, _Player_fullscreen, new Fullscreen(this, '', ''), \"f\");\n                    if (typeof __classPrivateFieldGet(this, _Player_fullscreen, \"f\").fullScreenEnabled !== 'undefined') {\n                        __classPrivateFieldGet(this, _Player_fullscreen, \"f\").toggleFullscreen();\n                        e.preventDefault();\n                        e.stopPropagation();\n                    }\n                }\n                break;\n            case 77:\n                el.muted = !el.muted;\n                if (el.muted) {\n                    el.volume = 0;\n                }\n                else {\n                    el.volume = __classPrivateFieldGet(this, _Player_volume, \"f\");\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n            case 188:\n            case 190:\n                if (!isAd && e.shiftKey) {\n                    const elem = el;\n                    elem.playbackRate =\n                        key === 188 ? Math.max(elem.playbackRate - 0.25, 0.25) : Math.min(elem.playbackRate + 0.25, 2);\n                    const target = this.getContainer().querySelector('.op-status>span');\n                    if (target) {\n                        target.textContent = `${elem.playbackRate}x`;\n                        if (target.parentElement) {\n                            target.parentElement.setAttribute('aria-hidden', 'false');\n                        }\n                        setTimeout(() => {\n                            if (target.parentElement) {\n                                target.parentElement.setAttribute('aria-hidden', 'true');\n                            }\n                        }, 500);\n                    }\n                    const ev = addEvent('controlschanged');\n                    dispatchEvent(ev);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                else if (!isAd && el.paused) {\n                    el.currentTime += (1 / 25) * (key === 188 ? -1 : 1);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            default:\n                break;\n        }\n    }\n}\n_Player_controls = new WeakMap(), _Player_adsInstance = new WeakMap(), _Player_uid = new WeakMap(), _Player_element = new WeakMap(), _Player_ads = new WeakMap(), _Player_media = new WeakMap(), _Player_events = new WeakMap(), _Player_autoplay = new WeakMap(), _Player_volume = new WeakMap(), _Player_canAutoplay = new WeakMap(), _Player_canAutoplayMuted = new WeakMap(), _Player_processedAutoplay = new WeakMap(), _Player_options = new WeakMap(), _Player_customElements = new WeakMap(), _Player_fullscreen = new WeakMap(), _Player_defaultOptions = new WeakMap();\nPlayer.instances = {};\nPlayer.customMedia = {\n    media: {},\n    optionsKey: {},\n    rules: [],\n};\nexport default Player;\nif (typeof window !== 'undefined') {\n    window.OpenPlayer = Player;\n    window.OpenPlayerJS = Player;\n    Player.init();\n}\n"],"names":["root","factory","exports","module","define","amd","this","_typeof","_regeneratorRuntime","__esModule","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","get","prop","r","_defineProperty","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","_i","_s","_e","_arr","_n","_d","minLen","toString","from","test","NAV","window","navigator","UA","userAgent","toLowerCase","IS_IPHONE","MSStream","IS_IOS","IS_ANDROID","IS_CHROME","document","IS_SAFARI","HAS_MSE","EVENT_OPTIONS","passive","isVideo","element","tagName","isAudio","loadScript","url","script","createElement","src","onload","remove","onerror","head","appendChild","offset","el","rect","getBoundingClientRect","left","pageXOffset","documentElement","scrollLeft","top","pageYOffset","scrollTop","sanitize","html","plainText","parser","DOMParser","content","parseFromString","formattedContent","body","scripts","querySelectorAll","total","clean","nodes","children","node","attributes","j","t","val","replace","includes","removeAttribute","startsWith","textContent","innerHTML","isJson","item","JSON","stringify","parse","e","addEvent","event","details","detail","CustomEvent","formatTime","seconds","frameRate","f","Math","floor","s","m","h","formattedVal","timeToSeconds","timeCode","time","split","parseFloat","_Captions_player","_Captions_button","_Captions_captions","_Captions_menu","_Captions_events","_Captions_langTracks","_Captions_mediaTrackList","_Captions_trackUrlList","_Captions_hasTracks","_Captions_currentTrack","_Captions_default","_Captions_controlPosition","_Captions_controlLayer","__classPrivateFieldSet","receiver","kind","has","set","__classPrivateFieldGet","Captions","player","position","layer","button","global","media","_getCuesFromText","bind","_getNativeCues","_displayCaptions","_hideCaptions","_search","_prepareTrack","_formatMenuItems","trackList","getElement","textTracks","tracks","selector","language","label","querySelector","join","getOptions","labels","detachMenus","className","tabIndex","title","toggleCaptions","setAttribute","id","classList","add","off","trackItems","default","srclang","trackUrl","href","currTrack","cues","fetch","response","ok","text","lang","container","timeupdate","isMedia","currentCues","index","getMedia","currentTime","contains","click","menus","getContainer","getAttribute","track","mouseover","mouseout","insertBefore","firstChild","itemContainer","getControls","getLayer","addEventListener","option","closest","langEl","currentLang","filter","parentElement","captions","dispatchEvent","removeEventListener","subitems","vttText","lines","entries","urlRegexp","identifier","regexp","RegExp","timePattern","exec","cue","trim","initTime","endTime","settings","startTime","trackCues","parseInt","current","low","high","mid","start","showTrack","mode","items","WeakMap","_Fullscreen_player","_Fullscreen_isFullscreen","_Fullscreen_button","_Fullscreen_fullscreenEvents","_Fullscreen_fullscreenWidth","_Fullscreen_fullscreenHeight","_Fullscreen_clickEvent","_Fullscreen_controlPosition","_Fullscreen_controlLayer","Fullscreen","fullScreenEnabled","fullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","webkitSupportsFullscreen","webkitFullscreenEnabled","webkitRequestFullScreen","_enterSpaceKeyEvent","_resize","_fullscreenChange","_setFullscreen","_unsetFullscreen","_setFullscreenData","fullscreen","toggleFullscreen","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","video","screen","width","height","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen","orientation","lock","isAd","getAd","resizeAds","isFullscreen","wrapper","options","styles","style","defaultWidth","removeProperty","defaultHeight","_a","which","keyCode","activeElement","preventDefault","stopPropagation","isHlsSource","isDashSource","isFlvSource","predictMimeType","extension","baseName","substring","lastIndexOf","getExtension","_Levels_player","_Levels_button","_Levels_menu","_Levels_events","_Levels_levels","_Levels_defaultLevel","_Levels_controlPosition","_Levels_controlLayer","Levels","startLevel","defaultLevel","initialLevel","level","menuItems","find","defaultLabel","auto","levelSet","mediaLevels","loadLevelsEvent","_gatherLevels","setTimeout","loadedmetadata","manifestLoaded","hlsManifestParsed","_buildMenu","isPaused","paused","levelVal","innerText","levels","play","connection","mozConnection","webkitConnection","effectiveType","map","assign","resolution","pause","reduce","acc","concat","sort","b","_getResolutionsLabel","menu","_Play_player","_Play_button","_Play_events","_Play_controlPosition","_Play_controlLayer","Play","controls","ended","playRequested","isAudioEl","pauseOthers","Player","playing","duration","adsmediaended","playererror","controlschanged","pauseOnClick","_Progress_player","_Progress_progress","_Progress_slider","_Progress_buffer","_Progress_played","_Progress_tooltip","_Progress_events","_Progress_forcePause","_Progress_controlPosition","_Progress_controlLayer","Progress","slider","progress","progressSlider","progressRail","setInitialProgress","Infinity","backgroundSize","live","showProgress","lastCurrentTime","defaultDuration","buffered","end","waiting","min","max","Number","isFinite","durationchange","updateSlider","allowRewind","allowSkip","round","releasePause","input","change","mousedown","mouseup","touchstart","changedTouches","pageX","offsetWidth","touchend","mousemove","x","pos","half","percentage","mediaContainer","limit","getEvents","keydown","step","_Settings_player","_Settings_submenu","_Settings_button","_Settings_menu","_Settings_events","_Settings_originalOutput","_Settings_controlPosition","_Settings_controlLayer","Settings","clickEvent","hideEvent","timeout","cancelAnimationFrame","requestAnimationFrame","removeEvent","removeItem","controlshidden","settingremoved","playbackRate","resize","rate","defaultPlaybackRate","speed","speedNormal","defaultValue","submenu","dataValue","menuItem","submenuMatch","mainMenu","subItems","labelEl","fragments","menuTarget","nextElementSibling","minItems","_b","_c","settingsBtnFocused","menuFocused","_Time_player","_Time_currentTime","_Time_delimiter","_Time_duration","_Time_container","_Time_events","_Time_controlPosition","_Time_controlLayer","Time","showOnlyCurrent","showCurrentTimeOnly","setInitialTime","showLiveLabel","showLabel","_Volume_player","_Volume_button","_Volume_container","_Volume_display","_Volume_slider","_Volume_events","_Volume_volume","_Volume_controlPosition","_Volume_controlLayer","Volume","volume","volumeSlider","volumeControl","mute","updateVolume","muted","unmuteEl","volumechange","mediaVolume","vol","updateButton","unmute","useDeviceVolume","_Controls_settings","_Controls_timer","_Controls_controls","_Controls_player","_Controls_items","_Controls_controlEls","Controls","events","mouse","_setElements","isMediaVideo","_createControlsLayer","_buildElements","destroy","alwaysVisible","showControls","_stopControlTimer","mouseenter","playBtn","loader","showLoaderOnInit","_startControlTimer","mouseleave","hidePlayBtnTimer","stalled","custom","_destroyCustomElement","messageContainer","clearTimeout","layers","main","middle","right","isVideoEl","controlPositions","layersExist","controlLayer","v","indexOf","currentLayer","toUpperCase","getCustomControls","unshift","_createCustomElement","addSettings","addItem","showInAds","icon","itemIcon","subitem","_toggleCustomMenu","_hideCustomMenu","blur","focus","init","control","_assertThisInitialized","ReferenceError","_setPrototypeOf","p","_inherits","subClass","superClass","_possibleConstructorReturn","_getPrototypeOf","_Native_customPlayer","Native","promise","customPlayer","_DashMedia_player","_DashMedia_events","_DashMedia_options","DashMedia","mediaSource","_assign","_preparePlayer","dashjs","MediaPlayer","mimeType","attachSource","on","bitrates","getBitrateInfoListFor","getQualityFor","setAutoSwitchQuality","setQualityFor","errorEvent","message","updateSettings","debug","logLevel","Debug","LOG_LEVEL_NONE","streaming","fastSwitchEnabled","scheduleWhilePaused","initialize","attachView","setAutoPlay","_FlvMedia_player","_FlvMedia_events","_FlvMedia_options","__rest","getOwnPropertySymbols","propertyIsEnumerable","FlvMedia","_create","flvjs","unload","detachMediaElement","attachMediaElement","load","Events","args","currentLevel","configs","rest","LoggingControl","enableDebug","enableVerbose","createPlayer","data","msg","_HlsMedia_player","_HlsMedia_events","_HlsMedia_recoverDecodingErrorDate","_HlsMedia_recoverSwapAudioCodecDate","_HlsMedia_options","_HlsMedia_autoplay","HlsMedia","autoplay","_play","_pause","Hls","MediaSource","WebKitMediaSource","sourceBuffer","SourceBuffer","WebKitSourceBuffer","isTypeSupported","sourceBufferValidAPI","appendBuffer","SUPPORTS_HLS","detachMedia","loadSource","attachMedia","stopLoad","preload","autoStartLoad","fatal","now","Date","getTime","recoverMediaError","console","warn","swapAudioCodec","mediaEvent","networkEvent","fatalEvent","timeEvent","totalduration","metaEvent","startLoad","_HTML5Media_currentLevel","_HTML5Media_levelList","_HTML5Media_isStreaming","_HTML5Media_retryCount","_HTML5Media_started","_HTML5Media_timer","HTML5Media","mediaFile","_clearTimeout","_setTimeout","_dispatchError","_isDvrEnabled","_readMediadataInfo","canPlayType","idx","findIndex","source","seekable","activeCues","metaDataEvent","setInterval","clearInterval","defaultMessage","code","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","_Media_element","_Media_media","_Media_files","_Media_promisePlay","_Media_options","_Media_autoplay","_Media_mediaLoaded","_Media_customMedia","_Media_currentSrc","__awaiter","thisArg","_arguments","P","fulfilled","rejected","apply","Media","customMedia","optionsKey","rules","_getMediaFiles","some","file","sources","loaded","mediaFiles","sourceTags","nodeSource","playHLSNatively","customRef","activeLevels","rule","customOptions","forceNative","hlsOptions","hls","dashOptions","dash","flvOptions","flv","_Ads_ended","_Ads_done","_Ads_active","_Ads_started","_Ads_intervalTimer","_Ads_volume","_Ads_muted","_Ads_duration","_Ads_currentTime","_Ads_manager","_Ads_player","_Ads_media","_Ads_element","_Ads_events","_Ads_ads","_Ads_promise","_Ads_loader","_Ads_container","_Ads_customClickContainer","_Ads_skipElement","_Ads_displayContainer","_Ads_request","_Ads_autostart","_Ads_autostartMuted","_Ads_playTriggered","_Ads_options","_Ads_currentIndex","_Ads_originalVolume","_Ads_preloadContent","_Ads_lastTimePaused","_Ads_mediaSources","_Ads_mediaStarted","_Ads_adEvent","Ads","ads","autostart","autostartMuted","loadedAd","defaultOpts","autoPlayAdBreaks","customClick","enabled","audioSkip","remainingLabel","enablePreloading","loop","numRedirects","publisherId","sdkPath","sessionId","vpaidMode","path","_handleClickInContainer","_handleSkipAds","_loaded","_error","_contentLoadedAction","_loadedMetadataHandler","_contentEndedListener","_handleResizeAds","_onContentPauseRequested","_onContentResumeRequested","google","ima","catch","force","existingContainer","parentNode","removeChild","nextSibling","getElementById","HTMLElement","vpaidModeMap","disabled","ImaSdkSettings","VpaidMode","DISABLED","ENABLED","insecure","INSECURE","setVpaidMode","setDisableCustomPlaybackForIOS10Plus","setAutoPlayAdBreaks","setNumRedirects","setLocale","setSessionId","setPpid","setPlayerType","setPlayerVersion","AdDisplayContainer","AdsLoader","AdsManagerLoadedEvent","Type","ADS_MANAGER_LOADED","AdErrorEvent","AD_ERROR","_requestAds","_initNotDoneAds","resume","_resumeMedia","mouseEvents","loadPromise","ViewMode","FULLSCREEN","NORMAL","formattedWidth","percentageWidth","formattedHeight","percentageHeight","offsetHeight","getVolume","setVolume","_setMediaVolume","ad","AdEvent","LOADED","isLinear","getDuration","waitingEvent","loadedEvent","STARTED","resized","playEvent","endEvent","getRemainingTime","COMPLETE","SKIPPED","skipEvent","VOLUME_CHANGED","VOLUME_MUTED","volumeEvent","ALL_ADS_COMPLETED","endedEvent","CLICK","pauseEvent","AD_BREAK_READY","AD_PROGRESS","progressData","getAdData","getSkipTimeOffset","canSkip","getAdSkippableState","remainingTime","ceil","LOG","adData","adError","getMessage","getError","getErrorCode","managerLoadedEvent","adsRenderingSettings","AdsRenderingSettings","restoreCustomPlaybackStateOnAdBreakComplete","getAdsManager","_start","manager","isCustomClickTrackingUsed","CONTENT_PAUSE_REQUESTED","CONTENT_RESUME_REQUESTED","VIDEO_CLICKED","VIDEO_ICON_CLICKED","AD_BUFFERING","IMPRESSION","DURATION_CHANGE","USER_CLOSE","LINEAR_CHANGED","SKIPPABLE_STATE_CHANGED","AD_METADATA","INTERACTION","FIRST_QUARTILE","MIDPOINT","PAUSED","RESUMED","THIRD_QUARTILE","contentComplete","_prepareMedia","_resetAdsAfterManualBreak","AdsRequest","parsedXml","getElementsByTagName","isXml","adTagUrl","adsResponse","linearAdSlotWidth","linearAdSlotHeight","nonLinearAdSlotWidth","nonLinearAdSlotHeight","setAdWillAutoPlay","setAdWillPlayMuted","requestAds","skip","_Player_controls","_Player_adsInstance","_Player_uid","_Player_element","_Player_ads","_Player_media","_Player_events","_Player_autoplay","_Player_volume","_Player_canAutoplay","_Player_canAutoplayMuted","_Player_processedAutoplay","_Player_options","_Player_customElements","_Player_fullscreen","_Player_defaultOptions","proxy","en","tap","onError","startVolume","HTMLMediaElement","_mergeOptions","_autoplay","_enableKeyBindings","_isValid","_wrapInstance","_createPlayButton","_createUID","_createControls","_setEvents","instances","parent","replaceChild","started","controlName","splice","adsOptions","fitWrapper","cryptoLib","crypto","encryption","getRandomBytes","getRandomValues","Uint32Array","substr","seeking","seeked","postRollCalled","defaultVol","callback","playPromise","volumeEl","action","playerOptions","opts","currOption","sanitizedLabels","k","playerFocused","newStep","configStep","newVol","ctrlKey","shiftKey","elem","ev","targets","valid","OpenPlayer","OpenPlayerJS"],"sourceRoot":""}